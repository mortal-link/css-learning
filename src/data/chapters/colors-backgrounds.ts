import type { Section } from '../modules';
import type { GlossaryEntry } from '../glossary';
import type { PropertyEntry } from '../properties';

export const sections: Section[] = [
  {
    id: 'color-values',
    number: '1',
    title: { zh: '颜色值', en: 'Color Values' },
    specId: 'color-values',
    summary: {
      zh: 'CSS 支持多种颜色值格式,包括命名颜色、十六进制、RGB/HSL 函数和现代颜色空间。',
      en: 'CSS supports multiple color value formats, including named colors, hexadecimal, RGB/HSL functions, and modern color spaces.',
    },
    keyPoints: [
      '命名颜色、十六进制和 RGB 是 CSS2 的基础颜色格式',
      'HSL、LAB、LCH、OKLCH 等是 CSS3 扩展的颜色空间',
      '所有颜色格式都支持 alpha 透明度通道',
      'transparent 表示完全透明',
      'currentColor 关键字引用当前 color 属性值',
      'sRGB 是默认颜色空间;display-p3、rec2020 等广色域空间可表示 sRGB 之外的颜色',
      'color-mix() 函数在指定颜色空间中按比例混合两种颜色(CSS Color 5)',
      '相对颜色语法(Relative Color Syntax)允许基于现有颜色通过调整通道值派生新颜色',
      '系统颜色(如 Canvas、CanvasText、LinkText)映射到操作系统的 UI 配色,用于匹配系统主题',
      '颜色插值默认在 OKLab 空间进行,可通过 color-interpolation-method 指定其他空间',
    ],
  },
  {
    id: 'foreground-background',
    number: '2',
    title: { zh: '前景与背景', en: 'Foreground & Background' },
    specId: 'colors',
    summary: {
      zh: 'color 属性控制文本前景色,background 系列属性控制背景的颜色、图像、定位和层叠。',
      en: 'The color property controls text foreground color, while background properties control the color, image, positioning, and layering of backgrounds.',
    },
    keyPoints: [
      'color 属性设置文本前景色,可被子元素继承',
      'currentColor 可用于统一多个属性的颜色',
      'background 包括颜色、图像、重复、附着和定位等属性',
      'CSS3 增加了 background-size、background-origin 和 background-clip',
      'CSS3 支持多层背景图像的叠加',
      'background-attachment 有 scroll、fixed 和 local 三种值;fixed 相对视口固定,local 随元素内容滚动',
      'background-repeat 在 CSS3 中扩展为双值语法(水平/垂直),新增 space(均匀分布)和 round(缩放适配)值',
      '多层背景中,先声明的层在上方,background-color 始终在最底层',
      'background 简写会将未显式设置的子属性重置为初始值,因此需注意与独立属性的声明顺序',
      '根元素的背景会扩展覆盖整个画布(canvas);HTML 中若 html 元素无背景则使用 body 元素的背景',
    ],
  },
  {
    id: 'gradients',
    number: '3',
    title: { zh: '渐变', en: 'Gradients' },
    specId: 'gradients',
    summary: {
      zh: 'CSS3 提供线性、径向和圆锥三种渐变函数,用于创建平滑的颜色过渡效果。',
      en: 'CSS3 provides three types of gradient functions—linear, radial, and conic—for creating smooth color transition effects.',
    },
    keyPoints: [
      'linear-gradient 沿直线方向创建渐变',
      'radial-gradient 从中心点向外辐射创建渐变',
      'conic-gradient 围绕中心点旋转创建渐变',
      '支持 repeating- 前缀创建重复渐变图案',
      '多个渐变可以用逗号分隔进行层叠',
      '渐变线(gradient line)定义了颜色起点和终点,色标位置在 0%~100% 之间分布,但允许超出此范围',
      '颜色过渡提示(color hint / midpoint)放在两个色标之间,控制 50% 混合点的位置,实现非线性过渡',
      '色标的位置会自动修正(fixup):不能早于前一个色标,无位置的色标在相邻色标间均匀分布',
      '渐变中颜色插值默认在预乘 alpha 的 sRGB 空间进行,避免透明过渡时出现灰带',
      '径向渐变的终止形状(ending shape)支持 closest-side、farthest-corner 等关键字控制大小',
    ],
  },
  {
    id: 'borders-decoration',
    number: '4',
    title: { zh: '边框装饰', en: 'Border Decoration' },
    specId: 'border-radius',
    summary: {
      zh: 'CSS3 为边框增加了圆角、阴影和图像边框等装饰效果,以及不影响布局的轮廓属性。',
      en: 'CSS3 adds decorative effects to borders including rounded corners, shadows, and border images, as well as outline properties that do not affect layout.',
    },
    keyPoints: [
      'border-radius 创建圆角,可单独控制每个角',
      'box-shadow 添加外阴影或内阴影效果',
      'border-image 使用图像作为边框',
      'outline 在边框外绘制轮廓,不占用布局空间',
      'outline-offset 控制轮廓与边框的距离',
      'border-radius 的百分比值分别相对于元素的宽度和高度,可产生椭圆角;50% 将矩形变为椭圆/圆形',
      'border-radius 使用斜杠(/)语法分别指定水平和垂直半径,如 border-radius: 10px / 20px',
      'border-image-slice 将源图像切割为九宫格区域,fill 关键字使中心区域也被绘制',
      'border-image-outset 允许边框图像绘制到边框盒之外,不影响布局',
      '当 border-radius 与 box-shadow 同时存在时,阴影的圆角会自动匹配边框的圆角曲线',
    ],
  },
  {
    id: 'shadows-effects',
    number: '5',
    title: { zh: '阴影与效果', en: 'Shadows & Effects' },
    specId: 'box-shadow',
    summary: {
      zh: '综合运用颜色、背景、渐变和阴影属性,创建丰富的视觉效果和层次感。',
      en: 'Combine color, background, gradient, and shadow properties to create rich visual effects and depth.',
    },
    keyPoints: [
      '多重 box-shadow 可叠加创建复杂阴影效果',
      'inset 关键字创建内阴影',
      '渐变与背景图像结合实现复杂图案',
      'background-clip: text 实现渐变文字效果',
      '合理使用透明度和模糊创建自然的视觉层次',
      'box-shadow 的扩展半径(spread radius)在模糊前先扩大或缩小阴影形状,正值扩大,负值缩小',
      '多重 box-shadow 按声明顺序绘制,先声明的阴影在上方;外阴影在背景之下,内阴影在背景之上边框之下',
      'box-shadow 阴影不影响布局,不触发滚动,也不增加可滚动溢出区域',
      '阴影会继承元素的 border-radius 曲线形状,inset 阴影在圆角边框内同样呈现圆角',
      'opacity 属性控制整个元素(含子元素)的透明度,值为 0~1,小于 1 时创建新的层叠上下文',
    ],
  },
];

export const anchors: Record<string, string> = {
  'colors': 'foreground-color',
  'background': 'background',
  'propdef-color': 'foreground-color',
  'propdef-background-color': 'background',
  'propdef-background-image': 'background',
  'propdef-background-repeat': 'background',
  'propdef-background-attachment': 'background',
  'propdef-background-position': 'background',
  'propdef-background': 'background',
  'propdef-background-size': 'background',
  'propdef-background-origin': 'background',
  'propdef-background-clip': 'background',
  'gradients': 'gradients',
  'border-radius': 'borders-decoration',
  'box-shadow': 'borders-decoration',
  'border-image': 'borders-decoration',
  'outline': 'borders-decoration'
};

export const glossaryTerms: Record<string, GlossaryEntry> = {
  'color value': {
    zh: '颜色值',
    description: 'CSS 中表示颜色的值,可以用多种格式表示,包括命名颜色、十六进制表示法(#RRGGBB)、RGB/RGBA 函数、HSL/HSLA 函数以及 LAB、LCH 和 OKLCH 等高级颜色空间。',
    sectionRef: 'colors-backgrounds#color-values',
  },
  'currentcolor': {
    zh: 'currentColor',
    description: 'CSS 关键字,表示当前元素上 color 属性的计算值。它允许其他属性(如 border-color、box-shadow)自动使用文本颜色,创建一致的配色方案。',
    sectionRef: 'colors-backgrounds#foreground-background',
  },
  'gradient': {
    zh: '渐变',
    description: 'CSS 图像值,在两种或多种颜色之间创建平滑的颜色过渡。CSS3 提供三种类型:线性渐变(沿直线)、径向渐变(从中心点辐射)和圆锥渐变(围绕中心旋转)。',
    sectionRef: 'colors-backgrounds#gradients',
  },
  'background': {
    zh: '背景',
    description: '元素内容和内边距后面的区域。CSS 允许控制背景颜色、图像、定位、重复、大小、裁剪和层叠。CSS3 引入了多个背景层、渐变以及对背景渲染的增强控制。',
    sectionRef: 'colors-backgrounds#foreground-background',
  },
  'box shadow': {
    zh: '盒阴影',
    description: 'CSS3 效果,在元素框周围添加阴影。阴影可以使用 x 和 y 偏移定位,使用模糊半径模糊,使用扩展半径扩展,可以在元素外部(投影)或内部(内阴影)。',
    sectionRef: 'colors-backgrounds#borders-decoration',
  },
  'border radius': {
    zh: '边框圆角',
    description: 'CSS3 属性,使元素边框盒的角变圆。每个角可以独立控制,并且可以有不同的水平和垂直半径以创建椭圆角。在正方形元素上将 border-radius 设置为 50% 可创建完美的圆形。',
    sectionRef: 'colors-backgrounds#borders-decoration',
  },
  'alpha': {
    zh: '透明度通道',
    description: '颜色的第四个分量,控制透明度。0 为完全透明,1 为完全不透明。在 rgba()、hsla() 及现代颜色函数中使用。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-4/#transparency',
  },
  'color space': {
    zh: '颜色空间',
    description: '定义颜色组织方式的数学模型。CSS 支持 sRGB(默认)、display-p3、rec2020 等广色域空间,以及 Lab、LCH、OKLab、OKLCH 等感知均匀颜色空间。不同颜色空间可表示的色域范围不同。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-4/#predefined',
  },
  'gamut': {
    zh: '色域',
    description: '颜色空间中可表示的颜色范围。sRGB 色域较小,display-p3 和 rec2020 等广色域可表示更鲜艳的颜色。当颜色超出设备色域时,浏览器会进行色域映射(gamut mapping)以找到最接近的可显示颜色。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-4/#gamut-mapping',
  },
  'color-mix()': {
    zh: '颜色混合函数',
    description: 'CSS Color 5 函数,在指定颜色空间中按比例混合两种颜色。语法为 color-mix(in <color-space>, <color> <percentage>?, <color> <percentage>?),可用于创建色调变体和动态配色。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-5/#color-mix',
  },
  'relative color syntax': {
    zh: '相对颜色语法',
    description: 'CSS Color 5 语法,允许基于现有颜色通过引用和修改其通道值来派生新颜色。例如 oklch(from var(--brand) l calc(c * 1.2) h) 可提高饱和度。支持在任意颜色空间中进行通道操作。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-5/#relative-colors',
  },
  'system colors': {
    zh: '系统颜色',
    description: '映射到操作系统 UI 配色的 CSS 颜色关键字,如 Canvas(背景)、CanvasText(文本)、LinkText(链接)、AccentColor(强调色)等。用于创建与操作系统主题一致的界面,同时支持浅色和深色模式。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-4/#css-system-colors',
  },
  'named colors': {
    zh: '命名颜色',
    description: 'CSS 预定义的 148 个颜色关键字(如 red、blue、coral、rebeccapurple 等),源自 X11 颜色和 SVG 颜色规范。这些关键字不区分大小写,每个对应一个固定的 sRGB 值。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-4/#named-colors',
  },
  'hex color': {
    zh: '十六进制颜色',
    description: '以 # 开头的颜色表示法,支持 3 位(#RGB)、4 位(#RGBA)、6 位(#RRGGBB)和 8 位(#RRGGBBAA)格式。每位为 0-9 或 A-F,分别表示红、绿、蓝及可选的 alpha 通道。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-4/#hex-notation',
  },
  'border-image': {
    zh: '边框图像',
    description: 'CSS3 属性,使用图像替代普通边框样式。通过 border-image-source(图像来源)、border-image-slice(切割方式)、border-image-width(宽度)、border-image-outset(外扩)和 border-image-repeat(重复方式)五个子属性控制。',
    sectionRef: 'colors-backgrounds#borders-decoration',
    specUrl: 'https://www.w3.org/TR/css-backgrounds-3/#border-images',
  },
  'background-attachment': {
    zh: '背景附着',
    description: '控制背景图像的滚动行为。scroll(默认)随元素滚动,fixed 相对视口固定不动,local(CSS3 新增)随元素内容一起滚动。三种值在有滚动机制的元素中行为差异明显。',
    sectionRef: 'colors-backgrounds#foreground-background',
    specUrl: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-attachment',
  },
  'multiple backgrounds': {
    zh: '多重背景',
    description: 'CSS3 允许为一个元素设置多个背景层,用逗号分隔。每层可独立指定图像、位置、大小、重复等属性。先声明的层在上方,background-color 仅应用于最底层。',
    sectionRef: 'colors-backgrounds#foreground-background',
    specUrl: 'https://www.w3.org/TR/css-backgrounds-3/#layering',
  },
  'color interpolation': {
    zh: '颜色插值',
    description: '在两个颜色值之间计算中间颜色的过程,用于渐变、过渡和动画。CSS Color 4 默认在 OKLab 空间插值以获得感知均匀的过渡效果,也可指定 sRGB、HSL、LCH 等其他空间。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-4/#interpolation',
  },
};

export const propertyTerms: Record<string, PropertyEntry> = {
  'color': {
    zh: '前景色',
    value: '<color>',
    initial: '取决于用户代理',
    appliesTo: '所有元素',
    inherited: true,
    percentages: null,
    computedValue: '计算后的颜色值',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-color',
    css3Url: 'https://www.w3.org/TR/css-color-4/#the-color-property',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background-color': {
    zh: '背景颜色',
    value: '<color>',
    initial: 'transparent',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '计算后的颜色值',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background-color',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background-image': {
    zh: '背景图像',
    value: '<bg-image>#',
    initial: 'none',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值,URI 为绝对 URI',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background-image',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-image',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background-repeat': {
    zh: '背景重复',
    value: '<repeat-style>#',
    initial: 'repeat',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '一对关键字,每层一对',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background-repeat',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-repeat',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background-attachment': {
    zh: '背景附着',
    value: 'scroll | fixed | local',
    initial: 'scroll',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background-attachment',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-attachment',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background-position': {
    zh: '背景定位',
    value: '<bg-position>#',
    initial: '0% 0%',
    appliesTo: '所有元素',
    inherited: false,
    percentages: '相对于背景定位区域的大小减去背景图像的大小',
    computedValue: '一对偏移量(长度或百分比),每层一对',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background-position',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-position',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background': {
    zh: '背景(简写)',
    value: '[ <bg-layer> , ]* <final-bg-layer>',
    initial: '见各子属性',
    appliesTo: '所有元素',
    inherited: false,
    percentages: '见各子属性',
    computedValue: '见各子属性',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background-size': {
    zh: '背景尺寸',
    value: 'auto | contain | cover | <length> | <percentage>',
    initial: 'auto',
    appliesTo: '所有元素',
    inherited: false,
    percentages: '相对于背景定位区域的大小',
    computedValue: '指定值,但长度是绝对的',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-size',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background-origin': {
    zh: '背景原点',
    value: 'padding-box | border-box | content-box',
    initial: 'padding-box',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-origin',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background-clip': {
    zh: '背景裁剪',
    value: 'border-box | padding-box | content-box | text',
    initial: 'border-box',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-clip',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'border-radius': {
    zh: '边框圆角',
    value: '<length-percentage>{1,4} [ / <length-percentage>{1,4} ]?',
    initial: '0',
    appliesTo: '所有元素(但 UA 可不应用于 table 和 inline-table 当 border-collapse 为 collapse 时)',
    inherited: false,
    percentages: '水平半径相对于边框盒宽度,垂直半径相对于边框盒高度',
    computedValue: '四对长度或百分比值',
    css2Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-border-radius',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-border-radius',
    sectionRef: 'colors-backgrounds#borders-decoration'
  },
  'box-shadow': {
    zh: '盒阴影',
    value: 'none | <shadow>#',
    initial: 'none',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: 'none 或阴影列表(含绝对长度和计算后颜色)',
    css2Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow',
    sectionRef: 'colors-backgrounds#shadows-effects'
  },
  'border-image': {
    zh: '边框图像(简写)',
    value: '<border-image-source> || <border-image-slice> [ / <border-image-width>? [ / <border-image-outset> ]? ]? || <border-image-repeat>',
    initial: '见各子属性',
    appliesTo: '所有元素(border-image-slice 不适用于 border-collapse: collapse 的表格)',
    inherited: false,
    percentages: null,
    computedValue: '见各子属性',
    css2Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-border-image',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-border-image',
    sectionRef: 'colors-backgrounds#borders-decoration'
  },
  'opacity': {
    zh: '不透明度',
    value: '<alpha-value>',
    initial: '1',
    appliesTo: '所有元素',
    inherited: false,
    percentages: '映射到 <number> 范围',
    computedValue: '指定的数值,截断到 [0, 1] 范围',
    css2Url: 'https://www.w3.org/TR/css-color-4/#transparency',
    css3Url: 'https://www.w3.org/TR/css-color-4/#transparency',
    sectionRef: 'colors-backgrounds#shadows-effects'
  },
  'outline': {
    zh: '轮廓',
    value: '[ <outline-width> || <outline-style> || <outline-color> ]',
    initial: '见各属性',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '见各属性',
    css2Url: 'https://www.w3.org/TR/CSS22/ui.html#propdef-outline',
    sectionRef: 'colors-backgrounds#borders-decoration'
  },
  'outline-width': {
    zh: '轮廓宽度',
    value: 'thin | medium | thick | <length>',
    initial: 'medium',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '绝对长度;如果 outline-style 为 none,则为 0',
    css2Url: 'https://www.w3.org/TR/CSS22/ui.html#propdef-outline-width',
    sectionRef: 'colors-backgrounds#borders-decoration'
  },
  'outline-style': {
    zh: '轮廓样式',
    value: 'none | dotted | dashed | solid | double | groove | ridge | inset | outset',
    initial: 'none',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: 'https://www.w3.org/TR/CSS22/ui.html#propdef-outline-style',
    sectionRef: 'colors-backgrounds#borders-decoration'
  },
  'outline-color': {
    zh: '轮廓颜色',
    value: '<color> | invert',
    initial: 'invert',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '计算后的颜色值',
    css2Url: 'https://www.w3.org/TR/CSS22/ui.html#propdef-outline-color',
    sectionRef: 'colors-backgrounds#borders-decoration'
  },
  'outline-offset': {
    zh: '轮廓偏移',
    value: '<length>',
    initial: '0',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '绝对长度',
    css2Url: 'https://www.w3.org/TR/CSS22/ui.html#propdef-outline',
    css3Url: 'https://www.w3.org/TR/css-ui-3/#propdef-outline-offset',
    sectionRef: 'colors-backgrounds#borders-decoration'
  }
};
