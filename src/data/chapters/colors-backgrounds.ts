import type { Section, TutorialBlock } from '../modules';
import type { GlossaryEntry } from '../glossary';
import type { PropertyEntry } from '../properties';

export const sections: Section[] = [
  {
    id: 'color-values',
    number: '1',
    title: { zh: '颜色值', en: 'Color Values' },
    specId: 'color-values',
    summary: {
      zh: 'CSS 支持多种颜色值格式,包括命名颜色、十六进制、RGB/HSL 函数和现代颜色空间。',
      en: 'CSS supports multiple color value formats, including named colors, hexadecimal, RGB/HSL functions, and modern color spaces.',
    },
    keyPoints: [
      '命名颜色、十六进制和 RGB 是 CSS2 的基础颜色格式',
      'HSL、LAB、LCH、OKLCH 等是 CSS3 扩展的颜色空间',
      '所有颜色格式都支持 alpha 透明度通道',
      'transparent 表示完全透明',
      'currentColor 关键字引用当前 color 属性值',
      'sRGB 是默认颜色空间;display-p3、rec2020 等广色域空间可表示 sRGB 之外的颜色',
      'color-mix() 函数在指定颜色空间中按比例混合两种颜色(CSS Color 5)',
      '相对颜色语法(Relative Color Syntax)允许基于现有颜色通过调整通道值派生新颜色',
      '系统颜色(如 Canvas、CanvasText、LinkText)映射到操作系统的 UI 配色,用于匹配系统主题',
      '颜色插值默认在 OKLab 空间进行,可通过 color-interpolation-method 指定其他空间',
    ],
    tutorial: [
      { type: 'heading', text: 'CSS 颜色值的演进之路' },
      { type: 'paragraph', text: 'CSS 颜色系统经历了从简单到强大的演进。CSS1 时代只有 16 个命名颜色和十六进制表示法,CSS2 扩展到 140+ 命名颜色,CSS3 引入了 RGB/HSL 函数和 alpha 透明度,CSS Color 4 带来了 Lab/LCH/OKLCH 等感知均匀颜色空间和广色域支持,CSS Color 5 更进一步提供了 color-mix() 和相对颜色语法。理解这些颜色格式的差异和适用场景,能帮助你在不同需求下选择最合适的颜色表示方式。' },
      { type: 'heading', text: '基础颜色格式' },
      { type: 'code', code: '/* 1. 命名颜色 (148 个预定义颜色) */\ncolor: red;\ncolor: rebeccapurple;  /* CSS3 新增,纪念 Rebecca Meyer */\ncolor: transparent;    /* 完全透明 */\n\n/* 2. 十六进制表示法 */\ncolor: #ff0000;        /* 6 位: #RRGGBB */\ncolor: #f00;           /* 3 位简写: #RGB */\ncolor: #ff0000ff;      /* 8 位: #RRGGBBAA (含 alpha) */\ncolor: #f00f;          /* 4 位简写: #RGBA */\n\n/* 3. RGB 函数 */\ncolor: rgb(255, 0, 0);           /* 传统逗号语法 */\ncolor: rgb(255 0 0);             /* CSS Color 4 空格语法 */\ncolor: rgb(255 0 0 / 0.5);       /* 含 alpha,50% 透明 */\ncolor: rgb(100% 0% 0%);          /* 百分比形式 */', lang: 'css', caption: 'CSS 基础颜色格式' },
      { type: 'tip', text: '十六进制中每两位表示 0-255 的值,FF = 255,00 = 0。3 位简写会自动展开:#f00 = #ff0000。' },
      { type: 'heading', text: 'HSL 颜色空间:更直观的颜色调整' },
      { type: 'paragraph', text: 'HSL (Hue, Saturation, Lightness) 用色相、饱和度、亮度三个维度描述颜色,比 RGB 更符合人类对颜色的认知。色相(H)是色轮角度(0-360°),饱和度(S)是颜色的纯度(0-100%),亮度(L)是明暗程度(0-100%)。HSL 的最大优势是可以轻松生成同色系的颜色变体——只需调整饱和度或亮度,色相保持不变。' },
      { type: 'code', code: '/* HSL 语法 */\ncolor: hsl(0, 100%, 50%);        /* 纯红色: 0° 红色, 100% 饱和, 50% 亮度 */\ncolor: hsl(120deg 100% 50%);     /* 纯绿色: 120° */\ncolor: hsl(240 100% 50% / 0.8);  /* 蓝色,80% 不透明 */\n\n/* 生成同色系变体 */\n:root {\n  --brand: hsl(220, 80%, 50%);          /* 品牌蓝色 */\n  --brand-light: hsl(220, 80%, 70%);    /* 提高亮度 */\n  --brand-dark: hsl(220, 80%, 30%);     /* 降低亮度 */\n  --brand-pale: hsl(220, 40%, 50%);     /* 降低饱和度 */\n}', lang: 'css', caption: 'HSL 色彩空间及同色系生成' },
      { type: 'example', title: '色相(H)的色轮', code: 'hsl(0, 100%, 50%)    /* 红色 0° */\nhsl(60, 100%, 50%)   /* 黄色 60° */\nhsl(120, 100%, 50%)  /* 绿色 120° */\nhsl(180, 100%, 50%)  /* 青色 180° */\nhsl(240, 100%, 50%)  /* 蓝色 240° */\nhsl(300, 100%, 50%)  /* 品红 300° */\nhsl(360, 100%, 50%)  /* 回到红色 360° = 0° */', lang: 'css', explanation: '色相是一个环形色轮,0° 和 360° 是同一个颜色(红色)。' },
      { type: 'heading', text: '现代颜色空间:Lab/LCH/OKLCH' },
      { type: 'paragraph', text: 'sRGB 和 HSL 都基于 sRGB 色域,存在两个问题:1) 感知不均匀(相同数值差异在不同颜色区域视觉差异不同),2) 色域有限(无法表示非常鲜艳的颜色)。CSS Color 4 引入了感知均匀的颜色空间:Lab(明度+红绿轴+黄蓝轴)、LCH(Lab 的圆柱坐标)、OKLab 和 OKLCH(改进版 Lab/LCH)。这些颜色空间在数值上是感知均匀的,相同数值差异在任何颜色区域看起来差异相同。' },
      { type: 'code', code: '/* OKLab: 感知均匀的颜色空间 */\ncolor: oklab(60% 0.15 -0.1);  /* L: 明度, a: 红绿轴, b: 黄蓝轴 */\n\n/* OKLCH: OKLab 的圆柱坐标(更直观) */\ncolor: oklch(60% 0.18 250deg);  /* L: 明度, C: 色度(饱和度), H: 色相 */\ncolor: oklch(80% 0.2 140);      /* 鲜艳的绿色 */\n\n/* 广色域颜色(display-p3) */\ncolor: color(display-p3 1 0.5 0);  /* 使用 display-p3 色域的橙色 */\ncolor: oklch(70% 0.3 50);          /* 超出 sRGB 的鲜艳橙色 */', lang: 'css', caption: '现代颜色空间语法' },
      { type: 'warning', text: 'OKLCH 和 display-p3 颜色可能超出 sRGB 色域。在不支持广色域的设备上,浏览器会进行色域映射(gamut mapping)降级到最接近的 sRGB 颜色。' },
      { type: 'heading', text: 'currentColor 关键字:引用当前文本色' },
      { type: 'paragraph', text: 'currentColor 是一个特殊关键字,表示当前元素的 color 属性计算值。它可以用于任何接受颜色值的属性,让多个属性自动同步颜色,创建一致的配色方案。' },
      { type: 'example', title: '边框和阴影继承文字颜色', code: '.button {\n  color: blue;\n  border: 2px solid currentColor;  /* 边框自动变蓝色 */\n  box-shadow: 0 2px 4px currentColor;  /* 阴影也是蓝色 */\n}\n\n.button:hover {\n  color: red;  /* 悬停时文字变红,边框和阴影自动跟随变红 */\n}', lang: 'css', explanation: 'currentColor 让边框和阴影自动跟随文字颜色,无需重复声明。' },
      { type: 'heading', text: 'CSS Color 5:color-mix() 颜色混合' },
      { type: 'paragraph', text: 'color-mix() 函数在指定颜色空间中按比例混合两种颜色,可用于生成中间色、调亮/调暗、降低饱和度等场景。语法:color-mix(in <颜色空间>, <颜色1> <百分比>?, <颜色2> <百分比>?)。' },
      { type: 'code', code: '/* 在 sRGB 空间混合 */\ncolor: color-mix(in srgb, red, blue);           /* 50% 红 + 50% 蓝 = 紫色 */\ncolor: color-mix(in srgb, red 70%, blue);       /* 70% 红 + 30% 蓝 */\n\n/* 调亮/调暗颜色(与白/黑混合) */\ncolor: color-mix(in oklch, var(--brand), white 30%);  /* 调亮 30% */\ncolor: color-mix(in oklch, var(--brand), black 20%);  /* 调暗 20% */\n\n/* 降低饱和度(与灰色混合) */\ncolor: color-mix(in oklch, blue, gray 40%);', lang: 'css', caption: 'color-mix() 颜色混合函数' },
      { type: 'tip', text: '选择合适的颜色空间很重要:在 sRGB 混合红色和蓝色会经过灰色区域(不自然),在 oklch 或 hsl 混合会沿色轮过渡(自然)。' },
      { type: 'heading', text: '相对颜色语法:基于现有颜色派生' },
      { type: 'paragraph', text: 'CSS Color 5 的相对颜色语法允许你基于一个现有颜色,通过引用和修改其通道值来派生新颜色。语法:颜色函数(from <原颜色> <通道操作>)。这对于创建主题变体、响应式颜色非常有用。' },
      { type: 'code', code: '/* 基于品牌色生成变体 */\n:root {\n  --brand: oklch(60% 0.2 250deg);\n  \n  /* 提高亮度到 80% */\n  --brand-light: oklch(from var(--brand) 80% c h);\n  \n  /* 降低色度(饱和度)到一半 */\n  --brand-pale: oklch(from var(--brand) l calc(c * 0.5) h);\n  \n  /* 色相旋转 180° 生成互补色 */\n  --brand-complement: oklch(from var(--brand) l c calc(h + 180deg));\n  \n  /* 添加 50% 透明度 */\n  --brand-semi: oklch(from var(--brand) l c h / 0.5);\n}', lang: 'css', caption: '相对颜色语法生成颜色变体' },
      { type: 'example', title: '动态调整 RGB 通道', code: '.element {\n  --base: rgb(100 150 200);\n  \n  /* 保持 G 和 B,将 R 通道设为 255 */\n  background: rgb(from var(--base) 255 g b);\n  \n  /* 所有通道减半(变暗) */\n  border-color: rgb(from var(--base) calc(r * 0.5) calc(g * 0.5) calc(b * 0.5));\n}', lang: 'css', explanation: '在相对颜色语法中,可以用 r/g/b 引用原颜色的通道值,并进行数学运算。' },
      { type: 'heading', text: '系统颜色:适配操作系统主题' },
      { type: 'paragraph', text: '系统颜色是一组映射到操作系统 UI 配色的关键字,如 Canvas(背景)、CanvasText(文本)、LinkText(链接)、AccentColor(强调色)等。使用系统颜色可以让网页自动适配用户的系统主题(浅色/深色模式),提供一致的用户体验。' },
      { type: 'code', code: '/* 使用系统颜色适配系统主题 */\nbody {\n  background: Canvas;        /* 系统背景色(浅色模式白色,深色模式黑色) */\n  color: CanvasText;         /* 系统文本色(自动对比) */\n}\n\na {\n  color: LinkText;           /* 系统链接色 */\n}\n\nbutton {\n  background: AccentColor;   /* 系统强调色(如 macOS 的蓝色/紫色) */\n  color: AccentColorText;    /* 强调色上的文本色(自动对比) */\n}', lang: 'css', caption: '系统颜色关键字' },
      { type: 'warning', text: '系统颜色在不同操作系统和用户设置下值不同,不要假设它们的具体颜色。使用系统颜色时应确保有足够的对比度。' },
      { type: 'heading', text: '颜色插值:渐变和动画中的颜色过渡' },
      { type: 'paragraph', text: '当 CSS 需要在两个颜色之间计算中间色(渐变、过渡、动画)时,会进行颜色插值。CSS Color 4 默认在 OKLab 空间插值(感知均匀),也可以通过 color-interpolation-method 指定其他空间。不同颜色空间的插值路径和视觉效果差异很大。' },
      { type: 'code', code: '/* 线性渐变中指定插值空间 */\nbackground: linear-gradient(in oklch, red, blue);  /* 在 OKLCH 插值(鲜艳) */\nbackground: linear-gradient(in srgb, red, blue);   /* 在 sRGB 插值(经过灰色) */\nbackground: linear-gradient(in hsl, red, blue);    /* 在 HSL 插值(沿色轮) */\n\n/* 动画中的插值空间 */\n@keyframes color-shift {\n  from { background: oklch(50% 0.2 0deg); }\n  to { background: oklch(50% 0.2 180deg); }\n}', lang: 'css', caption: '指定颜色插值空间' },
      { type: 'tip', text: 'OKLCH 插值通常提供最自然的颜色过渡,尤其是在饱和度较高的颜色之间。sRGB 插值会经过灰色区域,HSL 插值沿色轮走最短路径。' },
      { type: 'list', items: [
        '命名颜色和十六进制是最简单的格式,适合固定颜色',
        'RGB 适合程序化生成颜色,HSL 适合生成同色系变体',
        'OKLCH 提供感知均匀的颜色调整和广色域支持',
        'currentColor 让多个属性同步颜色,减少重复',
        'color-mix() 在指定空间混合颜色,相对颜色语法派生变体',
        '系统颜色自动适配操作系统主题,提升一致性'
      ] },
    ] as TutorialBlock[],
  },
  {
    id: 'foreground-background',
    number: '2',
    title: { zh: '前景与背景', en: 'Foreground & Background' },
    specId: 'colors',
    summary: {
      zh: 'color 属性控制文本前景色,background 系列属性控制背景的颜色、图像、定位和层叠。',
      en: 'The color property controls text foreground color, while background properties control the color, image, positioning, and layering of backgrounds.',
    },
    keyPoints: [
      'color 属性设置文本前景色,可被子元素继承',
      'currentColor 可用于统一多个属性的颜色',
      'background 包括颜色、图像、重复、附着和定位等属性',
      'CSS3 增加了 background-size、background-origin 和 background-clip',
      'CSS3 支持多层背景图像的叠加',
      'background-attachment 有 scroll、fixed 和 local 三种值;fixed 相对视口固定,local 随元素内容滚动',
      'background-repeat 在 CSS3 中扩展为双值语法(水平/垂直),新增 space(均匀分布)和 round(缩放适配)值',
      '多层背景中,先声明的层在上方,background-color 始终在最底层',
      'background 简写会将未显式设置的子属性重置为初始值,因此需注意与独立属性的声明顺序',
      '根元素的背景会扩展覆盖整个画布(canvas);HTML 中若 html 元素无背景则使用 body 元素的背景',
    ],
    tutorial: [
      { type: 'heading', text: 'color 属性:文本前景色的基石' },
      { type: 'paragraph', text: 'color 属性是 CSS 中最基础也是最常用的属性之一,它控制元素的文本颜色(前景色)。color 是可继承属性,子元素会自动获得父元素的 color 值,除非显式覆盖。这种继承机制让你可以在 body 或容器元素上设置一次颜色,整个子树都会应用,无需重复声明。' },
      { type: 'code', code: '/* color 的继承特性 */\nbody {\n  color: #333;  /* 深灰色文本,整个页面继承 */\n}\n\n.highlight {\n  color: red;   /* 局部覆盖,只影响这个元素及其子元素 */\n}\n\na {\n  color: blue;  /* 链接通常需要显式设置颜色 */\n}', lang: 'css', caption: 'color 属性的继承' },
      { type: 'tip', text: 'color 属性不仅影响文本,还影响边框(border-color: currentColor 时)、文本装饰线(text-decoration)、列表标记等元素的默认颜色。' },
      { type: 'heading', text: 'background-color:背景颜色' },
      { type: 'paragraph', text: 'background-color 设置元素的背景颜色,默认值是 transparent(完全透明)。背景颜色绘制在内容、内边距和边框区域下方,不会覆盖内容。与 color 不同,background-color 不会继承,每个元素默认都是透明背景。' },
      { type: 'code', code: '/* 背景颜色基础 */\n.card {\n  background-color: #f5f5f5;     /* 浅灰色背景 */\n  color: #333;                    /* 深灰色文本 */\n}\n\n/* 透明度背景 */\n.overlay {\n  background-color: rgba(0, 0, 0, 0.5);  /* 50% 透明黑色 */\n  background-color: oklch(20% 0 0 / 0.5); /* 同样效果,OKLCH 格式 */\n}', lang: 'css', caption: '背景颜色设置' },
      { type: 'heading', text: 'background-image:背景图像' },
      { type: 'paragraph', text: 'background-image 指定元素的背景图像,可以是 URL 引用的图片、渐变(gradient)或其他图像值。背景图像绘制在 background-color 之上。CSS3 支持多个背景图像,用逗号分隔,先声明的图像在上层。' },
      { type: 'code', code: '/* 单个背景图像 */\n.hero {\n  background-image: url("hero.jpg");\n}\n\n/* 多个背景图像(层叠) */\n.pattern {\n  background-image: \n    url("logo.png"),           /* 最上层:logo */\n    url("pattern.svg"),        /* 中层:图案 */\n    linear-gradient(to bottom, #fff, #eee);  /* 底层:渐变 */\n}\n\n/* none 表示无背景图像 */\n.no-bg {\n  background-image: none;  /* 默认值 */\n}', lang: 'css', caption: '背景图像及多层背景' },
      { type: 'warning', text: '背景图像加载失败时不会显示任何内容,也不会有错误提示。始终设置 background-color 作为降级方案。' },
      { type: 'heading', text: 'background-repeat:背景重复方式' },
      { type: 'paragraph', text: 'background-repeat 控制背景图像如何平铺。CSS2 支持 repeat(默认,水平和垂直重复)、repeat-x(仅水平)、repeat-y(仅垂直)、no-repeat(不重复)。CSS3 扩展为双值语法,分别控制水平和垂直方向,并新增 space(均匀分布,不裁剪)和 round(缩放适配)值。' },
      { type: 'code', code: '/* CSS2 单值语法 */\nbackground-repeat: repeat;      /* 水平和垂直都重复(默认) */\nbackground-repeat: repeat-x;    /* 仅水平重复 */\nbackground-repeat: no-repeat;   /* 不重复 */\n\n/* CSS3 双值语法 */\nbackground-repeat: repeat no-repeat;  /* 水平重复,垂直不重复 */\nbackground-repeat: space;             /* 均匀分布,调整间距避免裁剪 */\nbackground-repeat: round;             /* 缩放图像使其恰好填满,不裁剪 */\n\n/* 多层背景的重复方式 */\nbackground-image: url("a.png"), url("b.png");\nbackground-repeat: no-repeat, repeat;  /* 第一层不重复,第二层重复 */', lang: 'css', caption: 'background-repeat 控制平铺' },
      { type: 'example', title: 'space vs round 的区别', code: '.space {\n  background-repeat: space;  /* 图像原始尺寸,间距自动调整 */\n}\n\n.round {\n  background-repeat: round;  /* 图像缩放,恰好填满区域 */\n}', lang: 'css', explanation: 'space 保持图像原始尺寸但可能有间距,round 会缩放图像但没有间距。' },
      { type: 'heading', text: 'background-position:背景定位' },
      { type: 'paragraph', text: 'background-position 指定背景图像在背景定位区域(background positioning area)中的位置。默认值是 0% 0%(左上角)。可以使用关键字(left/center/right、top/center/bottom)、长度值(px/em)或百分比。百分比的计算方式特殊:图像的 X% 位置对齐到区域的 X% 位置。' },
      { type: 'code', code: '/* 关键字定位 */\nbackground-position: center;           /* 水平和垂直居中 */\nbackground-position: right top;        /* 右上角 */\nbackground-position: left bottom;      /* 左下角 */\n\n/* 长度值定位 */\nbackground-position: 20px 10px;        /* 距左 20px,距上 10px */\n\n/* 百分比定位 */\nbackground-position: 50% 50%;          /* 居中(图像中心对齐区域中心) */\nbackground-position: 100% 100%;        /* 右下角对齐 */\n\n/* CSS3 四值语法(相对于边缘偏移) */\nbackground-position: right 20px bottom 10px;  /* 距右 20px,距下 10px */', lang: 'css', caption: '背景定位语法' },
      { type: 'tip', text: '百分比定位的特殊计算:50% 50% 是真正的居中,因为图像的 50% 点(中心)对齐到区域的 50% 点(中心)。0% 0% 是左上角对齐,100% 100% 是右下角对齐。' },
      { type: 'heading', text: 'background-size:背景尺寸(CSS3)' },
      { type: 'paragraph', text: 'background-size 控制背景图像的渲染尺寸。默认值 auto 使用图像的固有尺寸。contain 缩放图像使其完全包含在区域内(可能有留白),cover 缩放图像使其完全覆盖区域(可能被裁剪)。也可以用长度或百分比显式指定宽度和高度。' },
      { type: 'code', code: '/* 关键字尺寸 */\nbackground-size: auto;           /* 固有尺寸(默认) */\nbackground-size: contain;        /* 缩放适配,完整显示图像,可能有留白 */\nbackground-size: cover;          /* 缩放填满,完全覆盖区域,可能裁剪 */\n\n/* 显式尺寸 */\nbackground-size: 100px 50px;     /* 宽 100px,高 50px */\nbackground-size: 50% 50%;        /* 宽高各占区域的 50% */\nbackground-size: 100% auto;      /* 宽度 100%,高度按比例 */\n\n/* 多层背景的尺寸 */\nbackground-image: url("a.png"), url("b.png");\nbackground-size: cover, auto;    /* 第一层 cover,第二层 auto */', lang: 'css', caption: 'background-size 控制图像尺寸' },
      { type: 'example', title: 'contain vs cover 的视觉差异', code: '.hero {\n  background-image: url("wide.jpg");  /* 宽图 */\n  background-size: contain;  /* 图像完整显示,上下可能有留白 */\n}\n\n.header {\n  background-image: url("wide.jpg");\n  background-size: cover;    /* 图像填满区域,左右可能被裁剪 */\n}', lang: 'css', explanation: 'contain 优先保证图像完整,cover 优先保证区域填满。' },
      { type: 'heading', text: 'background-attachment:背景附着(滚动行为)' },
      { type: 'paragraph', text: 'background-attachment 控制背景图像的滚动行为。scroll(默认)表示背景相对元素固定,随元素滚动;fixed 表示背景相对视口固定,不随页面滚动;local(CSS3)表示背景随元素内容滚动。三种值在有滚动机制的元素中行为差异明显。' },
      { type: 'code', code: '/* scroll: 背景随元素移动,但不随内容滚动 */\n.box {\n  background-attachment: scroll;  /* 默认值 */\n  overflow: auto;\n}\n\n/* fixed: 背景相对视口固定,视差效果 */\n.parallax {\n  background-image: url("bg.jpg");\n  background-attachment: fixed;   /* 背景不随页面滚动 */\n  background-size: cover;\n}\n\n/* local: 背景随内容滚动 */\n.scrollable {\n  background-attachment: local;   /* 背景随内容一起滚动 */\n  overflow: auto;\n}', lang: 'css', caption: 'background-attachment 滚动行为' },
      { type: 'heading', text: 'background-origin 和 background-clip(CSS3)' },
      { type: 'paragraph', text: 'background-origin 指定背景定位区域(背景图像的坐标原点),background-clip 指定背景绘制区域(背景的裁剪边界)。两者都支持 border-box、padding-box、content-box 三个值。background-clip 还支持 text 值,可以实现渐变文字效果。' },
      { type: 'code', code: '/* background-origin: 背景从哪里开始定位 */\n.box {\n  background-origin: padding-box;  /* 默认:从内边距盒开始 */\n  background-origin: border-box;   /* 从边框盒开始(边框下方) */\n  background-origin: content-box;  /* 从内容盒开始 */\n}\n\n/* background-clip: 背景绘制到哪里 */\n.card {\n  background-clip: border-box;     /* 默认:绘制到边框外边缘 */\n  background-clip: padding-box;    /* 绘制到内边距外边缘 */\n  background-clip: content-box;    /* 仅绘制在内容区 */\n}\n\n/* background-clip: text 实现渐变文字 */\n.gradient-text {\n  background: linear-gradient(90deg, red, blue);\n  background-clip: text;\n  -webkit-background-clip: text;   /* WebKit 前缀 */\n  color: transparent;               /* 文字透明,显示背景 */\n}', lang: 'css', caption: 'background-origin 和 background-clip' },
      { type: 'example', title: '渐变文字效果', code: 'h1 {\n  font-size: 3rem;\n  font-weight: bold;\n  background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);\n  -webkit-background-clip: text;\n  background-clip: text;\n  color: transparent;\n}', lang: 'css', explanation: 'background-clip: text 将背景裁剪到文字形状,配合 color: transparent 实现渐变文字。' },
      { type: 'heading', text: 'background 简写属性' },
      { type: 'paragraph', text: 'background 简写属性可以在一个声明中设置所有背景相关属性。语法灵活但有陷阱:未显式设置的子属性会被重置为初始值。多层背景用逗号分隔,但 background-color 只能在最后一层指定。' },
      { type: 'code', code: '/* background 简写语法 */\n.element {\n  background: url("bg.jpg") no-repeat center / cover;\n  /* 等价于:\n     background-image: url("bg.jpg");\n     background-repeat: no-repeat;\n     background-position: center;\n     background-size: cover;  (注意 / 分隔符)\n     其他子属性重置为初始值\n  */\n}\n\n/* 多层背景简写 */\n.card {\n  background: \n    url("icon.png") no-repeat top right,\n    url("pattern.svg") repeat,\n    linear-gradient(to bottom, #fff, #eee) #f5f5f5;\n  /*                                       ↑ 背景色只在最后 */\n}', lang: 'css', caption: 'background 简写属性' },
      { type: 'warning', text: 'background 简写会重置所有未指定的子属性!如果你先用独立属性设置了 background-attachment: fixed,后面又用 background: url(...),fixed 会被重置为 scroll。声明顺序很重要。' },
      { type: 'heading', text: '多层背景的层叠顺序' },
      { type: 'paragraph', text: 'CSS3 支持多个背景图像层叠。先声明的图像在上层,后声明的在下层,background-color 始终在最底层。每个背景层可以有独立的 position、size、repeat 等属性,用逗号对应。' },
      { type: 'code', code: '/* 多层背景示例 */\n.card {\n  background-image: \n    url("overlay.png"),        /* 第 1 层(最上) */\n    url("pattern.svg"),        /* 第 2 层 */\n    linear-gradient(#fff, #eee);  /* 第 3 层 */\n  \n  background-position: \n    top right,                 /* 第 1 层位置 */\n    center,                    /* 第 2 层位置 */\n    0 0;                       /* 第 3 层位置 */\n  \n  background-repeat: \n    no-repeat,                 /* 第 1 层不重复 */\n    repeat,                    /* 第 2 层重复 */\n    no-repeat;                 /* 第 3 层不重复 */\n  \n  background-color: #f9f9f9;   /* 最底层颜色 */\n}', lang: 'css', caption: '多层背景的完整控制' },
      { type: 'heading', text: '根元素背景的特殊行为' },
      { type: 'paragraph', text: 'HTML 中,根元素(html)和 body 元素的背景有特殊行为:根元素的背景会扩展覆盖整个画布(canvas),而不仅仅是根元素自身的盒子。如果 html 元素没有背景,浏览器会使用 body 元素的背景作为画布背景。这就是为什么你在 body 上设置背景色会填满整个页面,即使 body 的盒子可能没有那么高。' },
      { type: 'example', title: '根元素背景扩展到画布', code: '/* body 背景会扩展到整个页面 */\nbody {\n  background: linear-gradient(to bottom, #e0f7fa, #80deea);\n  /* 即使 body 高度不足 100vh,背景也会填满视口 */\n}\n\n/* 如果要限制背景在 body 盒子内,需要给 html 设置背景 */\nhtml {\n  background: white;  /* 阻止 body 背景扩展到画布 */\n}\n\nbody {\n  background: linear-gradient(to bottom, #e0f7fa, #80deea);\n  min-height: 100vh;  /* 此时需要显式设置高度 */\n}', lang: 'css', explanation: '根元素背景的扩展是 HTML 的特殊行为,用于确保页面有背景。' },
      { type: 'list', items: [
        'color 是可继承属性,设置文本前景色',
        'background-color 设置背景色,默认透明,不继承',
        'background-image 支持多层图像,先声明的在上层',
        'background-repeat 控制平铺,CSS3 新增 space 和 round',
        'background-position 定位图像,百分比计算特殊',
        'background-size 的 cover 和 contain 常用于响应式',
        'background-attachment: fixed 可实现视差滚动效果',
        'background-clip: text 可实现渐变文字',
        'background 简写会重置未指定的子属性,注意顺序',
        '根元素背景会扩展到整个画布,这是 HTML 的特殊行为'
      ] },
    ] as TutorialBlock[],
  },
  {
    id: 'gradients',
    number: '3',
    title: { zh: '渐变', en: 'Gradients' },
    specId: 'gradients',
    summary: {
      zh: 'CSS3 提供线性、径向和圆锥三种渐变函数,用于创建平滑的颜色过渡效果。',
      en: 'CSS3 provides three types of gradient functions—linear, radial, and conic—for creating smooth color transition effects.',
    },
    keyPoints: [
      'linear-gradient 沿直线方向创建渐变',
      'radial-gradient 从中心点向外辐射创建渐变',
      'conic-gradient 围绕中心点旋转创建渐变',
      '支持 repeating- 前缀创建重复渐变图案',
      '多个渐变可以用逗号分隔进行层叠',
      '渐变线(gradient line)定义了颜色起点和终点,色标位置在 0%~100% 之间分布,但允许超出此范围',
      '颜色过渡提示(color hint / midpoint)放在两个色标之间,控制 50% 混合点的位置,实现非线性过渡',
      '色标的位置会自动修正(fixup):不能早于前一个色标,无位置的色标在相邻色标间均匀分布',
      '渐变中颜色插值默认在预乘 alpha 的 sRGB 空间进行,避免透明过渡时出现灰带',
      '径向渐变的终止形状(ending shape)支持 closest-side、farthest-corner 等关键字控制大小',
    ],
    tutorial: [
      { type: 'heading', text: 'CSS 渐变:用代码绘制颜色过渡' },
      { type: 'paragraph', text: 'CSS 渐变是一种特殊的图像值,在两种或多种颜色之间创建平滑的过渡效果。渐变不是属性,而是可以用在任何接受图像值的地方(background-image、border-image、list-style-image 等)。CSS3 提供三种渐变类型:线性渐变(沿直线过渡)、径向渐变(从中心辐射)、圆锥渐变(围绕中心旋转)。每种都有普通版本和重复版本(repeating-)。' },
      { type: 'heading', text: 'linear-gradient:线性渐变' },
      { type: 'paragraph', text: '线性渐变沿一条直线(渐变线)在颜色之间过渡。语法:linear-gradient([方向], 色标1, 色标2, ...)。方向可以是角度(0deg 向上,90deg 向右)或关键字(to top、to right、to bottom left 等)。色标是颜色 + 可选位置(百分比或长度)。' },
      { type: 'code', code: '/* 基础线性渐变 */\nbackground: linear-gradient(red, blue);  /* 从上到下,红到蓝 */\n\n/* 指定方向 */\nbackground: linear-gradient(to right, red, blue);  /* 从左到右 */\nbackground: linear-gradient(to bottom right, red, blue);  /* 对角线 */\nbackground: linear-gradient(45deg, red, blue);  /* 45° 角度 */\n\n/* 多个色标 */\nbackground: linear-gradient(red, yellow, green, blue);  /* 彩虹渐变 */\n\n/* 指定色标位置 */\nbackground: linear-gradient(\n  to right,\n  red 0%,      /* 红色从 0% 开始 */\n  yellow 50%,  /* 黄色在 50% 位置 */\n  blue 100%    /* 蓝色到 100% 结束 */\n);', lang: 'css', caption: '线性渐变基础语法' },
      { type: 'example', title: '渐变方向的角度', code: 'background: linear-gradient(0deg, red, blue);    /* 0° = to top(向上) */\nbackground: linear-gradient(90deg, red, blue);   /* 90° = to right(向右) */\nbackground: linear-gradient(180deg, red, blue);  /* 180° = to bottom(向下) */\nbackground: linear-gradient(270deg, red, blue);  /* 270° = to left(向左) */', lang: 'css', explanation: '角度从 0° 开始顺时针旋转,0° 是向上,90° 是向右。' },
      { type: 'tip', text: '色标位置可以省略,浏览器会自动均匀分布。两个色标均匀分布在 0% 和 100%,三个色标在 0%、50%、100%,以此类推。' },
      { type: 'heading', text: '硬边渐变:创建条纹效果' },
      { type: 'paragraph', text: '通过让相邻色标的位置重叠或紧邻,可以创建没有过渡的硬边渐变,常用于条纹图案、色块等效果。' },
      { type: 'code', code: '/* 硬边渐变:色标位置重叠 */\nbackground: linear-gradient(\n  to right,\n  red 0%, red 50%,    /* 红色占据 0%-50% */\n  blue 50%, blue 100% /* 蓝色占据 50%-100%,在 50% 处突变 */\n);\n\n/* 创建条纹图案 */\nbackground: linear-gradient(\n  90deg,\n  #fff 0%, #fff 25%,\n  #eee 25%, #eee 50%,\n  #fff 50%, #fff 75%,\n  #eee 75%, #eee 100%\n);', lang: 'css', caption: '硬边渐变实现条纹' },
      { type: 'heading', text: 'radial-gradient:径向渐变' },
      { type: 'paragraph', text: '径向渐变从一个中心点向外辐射,颜色沿半径方向过渡。语法:radial-gradient([形状 大小] [at 位置], 色标...)。形状可以是 circle(圆形)或 ellipse(椭圆,默认),大小可以是关键字(closest-side、farthest-corner 等)或显式长度。' },
      { type: 'code', code: '/* 基础径向渐变 */\nbackground: radial-gradient(circle, red, blue);  /* 圆形,从中心的红到边缘的蓝 */\n\n/* 指定位置 */\nbackground: radial-gradient(circle at top left, red, blue);  /* 中心在左上角 */\nbackground: radial-gradient(at 30% 40%, red, blue);  /* 中心在 30%, 40% */\n\n/* 指定大小 */\nbackground: radial-gradient(\n  circle closest-side,  /* 圆形,半径到最近的边 */\n  red, blue\n);\n\nbackground: radial-gradient(\n  circle farthest-corner at center,  /* 半径到最远的角 */\n  red, blue\n);\n\n/* 显式尺寸 */\nbackground: radial-gradient(\n  circle 100px at center,  /* 半径 100px 的圆 */\n  red, blue\n);', lang: 'css', caption: '径向渐变语法' },
      { type: 'example', title: '径向渐变实现聚光灯效果', code: '.spotlight {\n  background: \n    radial-gradient(\n      circle 200px at 50% 50%,\n      rgba(255, 255, 255, 0.8) 0%,\n      rgba(255, 255, 255, 0) 100%\n    ),\n    #000;  /* 黑色背景 */\n}', lang: 'css', explanation: '中心亮,边缘透明,叠加在黑色背景上实现聚光灯效果。' },
      { type: 'heading', text: 'conic-gradient:圆锥渐变(CSS Images 4)' },
      { type: 'paragraph', text: '圆锥渐变围绕中心点旋转,颜色沿角度方向过渡,像一个色环。语法:conic-gradient([from 起始角度] [at 位置], 色标...)。色标位置用角度(deg)或百分比表示,一圈是 360deg 或 100%。' },
      { type: 'code', code: '/* 基础圆锥渐变 */\nbackground: conic-gradient(red, yellow, lime, cyan, blue, magenta, red);\n/* 色轮,从红色开始顺时针旋转 */\n\n/* 指定起始角度和位置 */\nbackground: conic-gradient(\n  from 45deg at 50% 50%,  /* 从 45° 开始,中心在 50% 50% */\n  red, blue\n);\n\n/* 指定色标角度 */\nbackground: conic-gradient(\n  red 0deg,\n  yellow 90deg,\n  lime 180deg,\n  blue 270deg,\n  red 360deg\n);', lang: 'css', caption: '圆锥渐变语法' },
      { type: 'example', title: '圆锥渐变实现饼图', code: '.pie-chart {\n  width: 200px;\n  height: 200px;\n  border-radius: 50%;\n  background: conic-gradient(\n    #4caf50 0deg 120deg,    /* 绿色占 33.3% (120/360) */\n    #2196f3 120deg 240deg,  /* 蓝色占 33.3% */\n    #ff9800 240deg 360deg   /* 橙色占 33.3% */\n  );\n}', lang: 'css', explanation: '通过控制色标角度范围,可以实现饼图效果。' },
      { type: 'heading', text: 'repeating-gradient:重复渐变' },
      { type: 'paragraph', text: '每种渐变都有对应的重复版本:repeating-linear-gradient、repeating-radial-gradient、repeating-conic-gradient。重复渐变会将最后一个色标到第一个色标的距离作为一个单元,不断重复平铺,常用于创建条纹、格纹等图案。' },
      { type: 'code', code: '/* 重复线性渐变:条纹 */\nbackground: repeating-linear-gradient(\n  45deg,\n  #fff 0px,\n  #fff 10px,\n  #eee 10px,\n  #eee 20px\n);  /* 每 20px 重复一次,斜条纹 */\n\n/* 重复径向渐变:同心圆 */\nbackground: repeating-radial-gradient(\n  circle,\n  #fff 0px,\n  #fff 10px,\n  #000 10px,\n  #000 20px\n);  /* 黑白相间的同心圆 */\n\n/* 重复圆锥渐变:光芒效果 */\nbackground: repeating-conic-gradient(\n  from 0deg,\n  #fff 0deg 10deg,\n  #eee 10deg 20deg\n);  /* 每 20° 重复,放射状光芒 */', lang: 'css', caption: '重复渐变语法' },
      { type: 'heading', text: '颜色过渡提示(Color Hint)' },
      { type: 'paragraph', text: '颜色过渡提示(也叫中点 midpoint)放在两个色标之间,用于控制 50% 混合点的位置,实现非线性的颜色过渡。没有颜色过渡提示时,颜色在两个色标之间线性插值。' },
      { type: 'code', code: '/* 无过渡提示:线性过渡 */\nbackground: linear-gradient(to right, red 0%, blue 100%);\n/* 在 50% 位置是红蓝各 50% 的混合 */\n\n/* 有过渡提示:调整混合点位置 */\nbackground: linear-gradient(\n  to right,\n  red 0%,\n  30%,        /* 过渡提示:50% 混合点在 30% 位置 */\n  blue 100%\n);\n/* 在 30% 位置是红蓝各 50% 的混合,红色区域更大 */\n\n/* 多个过渡提示 */\nbackground: linear-gradient(\n  to right,\n  red 0%,\n  20%,        /* 第一个过渡提示 */\n  yellow 50%,\n  80%,        /* 第二个过渡提示 */\n  blue 100%\n);', lang: 'css', caption: '颜色过渡提示调整混合曲线' },
      { type: 'tip', text: '过渡提示只是一个百分比或长度值,没有颜色。它改变颜色插值的速率,使过渡非线性。' },
      { type: 'heading', text: '渐变中的颜色插值空间' },
      { type: 'paragraph', text: 'CSS Color 4 允许指定渐变中的颜色插值空间。默认在 OKLab 插值(感知均匀),也可以指定 sRGB、HSL、OKLCH 等空间。不同插值空间的视觉效果差异很大,尤其是在饱和度较高的颜色之间。' },
      { type: 'code', code: '/* 默认:在 OKLab 插值 */\nbackground: linear-gradient(in oklch, red, blue);\n\n/* 在 sRGB 插值(可能经过灰色区域) */\nbackground: linear-gradient(in srgb, red, blue);\n\n/* 在 HSL 插值(沿色轮) */\nbackground: linear-gradient(in hsl, red, blue);\n\n/* 在 HSL 插值,指定色相方向 */\nbackground: linear-gradient(\n  in hsl longer hue,  /* 沿色轮走较长路径 */\n  red, blue\n);', lang: 'css', caption: '指定渐变插值空间' },
      { type: 'heading', text: '渐变叠加与多层背景' },
      { type: 'paragraph', text: '渐变可以作为多层背景的一部分,与其他渐变或图像叠加。先声明的层在上方,利用半透明渐变叠加可以创造丰富的视觉效果。' },
      { type: 'example', title: '多层渐变叠加', code: '.card {\n  background:\n    linear-gradient(135deg, rgba(255,255,255,0.1), transparent),\n    linear-gradient(225deg, rgba(255,255,255,0.1), transparent),\n    linear-gradient(to bottom, #667eea, #764ba2);\n  /* 两个半透明白色渐变叠加在主渐变上,产生光泽效果 */\n}', lang: 'css', explanation: '半透明渐变叠加可以实现玻璃质感、光泽、纹理等效果。' },
      { type: 'heading', text: '渐变的实用技巧' },
      { type: 'code', code: '/* 技巧 1: 渐变实现单边阴影 */\n.shadow {\n  background: linear-gradient(to bottom, rgba(0,0,0,0.1), transparent);\n  height: 10px;\n}\n\n/* 技巧 2: 渐变实现遮罩效果 */\n.fade-out {\n  -webkit-mask-image: linear-gradient(to bottom, black 80%, transparent);\n  mask-image: linear-gradient(to bottom, black 80%, transparent);\n}\n\n/* 技巧 3: 渐变实现彩色边框 */\n.gradient-border {\n  border: 5px solid transparent;\n  background: \n    linear-gradient(white, white) padding-box,\n    linear-gradient(45deg, red, blue) border-box;\n}\n\n/* 技巧 4: 网格图案 */\n.grid {\n  background:\n    repeating-linear-gradient(0deg, #ccc 0, #ccc 1px, transparent 1px, transparent 20px),\n    repeating-linear-gradient(90deg, #ccc 0, #ccc 1px, transparent 1px, transparent 20px);\n}', lang: 'css', caption: '渐变的创意应用' },
      { type: 'warning', text: '复杂的渐变(多色标、重复、多层叠加)可能影响渲染性能,尤其是在移动设备上。对于静态图案,考虑使用 SVG 背景图像替代。' },
      { type: 'list', items: [
        'linear-gradient 沿直线过渡,用角度或关键字指定方向',
        'radial-gradient 从中心辐射,支持圆形和椭圆',
        'conic-gradient 围绕中心旋转,适合饼图和色轮',
        '硬边渐变(色标位置重叠)可以实现条纹和色块',
        'repeating- 前缀创建重复图案,常用于条纹和格纹',
        '颜色过渡提示调整混合曲线,实现非线性过渡',
        '指定插值空间可以改变渐变的视觉效果',
        '渐变可以叠加、与图像混合,创造丰富效果'
      ] },
    ] as TutorialBlock[],
  },
  {
    id: 'borders-decoration',
    number: '4',
    title: { zh: '边框装饰', en: 'Border Decoration' },
    specId: 'border-radius',
    summary: {
      zh: 'CSS3 为边框增加了圆角、阴影和图像边框等装饰效果,以及不影响布局的轮廓属性。',
      en: 'CSS3 adds decorative effects to borders including rounded corners, shadows, and border images, as well as outline properties that do not affect layout.',
    },
    keyPoints: [
      'border-radius 创建圆角,可单独控制每个角',
      'box-shadow 添加外阴影或内阴影效果',
      'border-image 使用图像作为边框',
      'outline 在边框外绘制轮廓,不占用布局空间',
      'outline-offset 控制轮廓与边框的距离',
      'border-radius 的百分比值分别相对于元素的宽度和高度,可产生椭圆角;50% 将矩形变为椭圆/圆形',
      'border-radius 使用斜杠(/)语法分别指定水平和垂直半径,如 border-radius: 10px / 20px',
      'border-image-slice 将源图像切割为九宫格区域,fill 关键字使中心区域也被绘制',
      'border-image-outset 允许边框图像绘制到边框盒之外,不影响布局',
      '当 border-radius 与 box-shadow 同时存在时,阴影的圆角会自动匹配边框的圆角曲线',
    ],
    tutorial: [
      { type: 'heading', text: 'border-radius:圆角的魔法' },
      { type: 'paragraph', text: 'border-radius 是 CSS3 引入的最受欢迎的特性之一,用于创建圆角边框。在 CSS2 时代,圆角需要用图片或多层嵌套 div 实现,而 border-radius 让圆角变得简单直接。border-radius 可以为元素的边框盒(border box)的四个角分别指定圆角半径,也可以一次性设置所有角。' },
      { type: 'code', code: '/* 单值语法:四个角相同 */\n.box {\n  border-radius: 10px;  /* 所有角半径 10px */\n}\n\n/* 双值语法:左上右下 / 右上左下 */\n.box {\n  border-radius: 10px 20px;  /* 左上右下 10px,右上左下 20px */\n}\n\n/* 三值语法:左上 / 右上左下 / 右下 */\n.box {\n  border-radius: 10px 20px 30px;  \n}\n\n/* 四值语法:左上 右上 右下 左下(顺时针) */\n.box {\n  border-radius: 10px 20px 30px 40px;\n}\n\n/* 单独控制每个角 */\n.box {\n  border-top-left-radius: 10px;\n  border-top-right-radius: 20px;\n  border-bottom-right-radius: 30px;\n  border-bottom-left-radius: 40px;\n}', lang: 'css', caption: 'border-radius 语法' },
      { type: 'tip', text: 'border-radius 的值顺序是顺时针:左上 → 右上 → 右下 → 左下,与 margin/padding 的顺序(上右下左)不同!' },
      { type: 'heading', text: '椭圆角:水平和垂直半径' },
      { type: 'paragraph', text: 'border-radius 支持分别指定水平半径和垂直半径,用斜杠(/)分隔,可以创建椭圆角。语法:border-radius: 水平半径 / 垂直半径。百分比值分别相对于元素的宽度(水平半径)和高度(垂直半径)。' },
      { type: 'code', code: '/* 椭圆角:不同的水平和垂直半径 */\n.ellipse {\n  width: 200px;\n  height: 100px;\n  border-radius: 100px / 50px;  /* 水平 100px,垂直 50px */\n}\n\n/* 百分比实现完美椭圆/圆形 */\n.circle {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;  /* 正方形变圆形 */\n}\n\n.ellipse {\n  width: 200px;\n  height: 100px;\n  border-radius: 50%;  /* 矩形变椭圆 */\n}\n\n/* 每个角独立的椭圆半径 */\n.fancy {\n  border-radius: 10px 20px 30px 40px / 40px 30px 20px 10px;\n  /* 左上角 10px/40px,右上角 20px/30px,... */\n}', lang: 'css', caption: '椭圆角语法' },
      { type: 'example', title: '创建胶囊按钮', code: '.pill-button {\n  padding: 10px 30px;\n  border-radius: 50px;  /* 大于高度的一半,两端变半圆 */\n  background: #2196f3;\n  color: white;\n}', lang: 'css', explanation: '给定足够大的 border-radius,矩形按钮的两端会变成半圆,形成胶囊形状。' },
      { type: 'heading', text: 'box-shadow:盒阴影效果' },
      { type: 'paragraph', text: 'box-shadow 在元素的边框盒周围添加阴影效果。阴影可以在元素外部(投影)或内部(内阴影)。语法:box-shadow: [inset] 水平偏移 垂直偏移 模糊半径 扩展半径 颜色。多个阴影用逗号分隔,先声明的阴影在上层。' },
      { type: 'code', code: '/* 基础外阴影 */\n.card {\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  /* 水平 0,垂直 2px,模糊 4px,颜色半透明黑 */\n}\n\n/* 完整语法 */\n.box {\n  box-shadow: 10px 10px 5px 0px rgba(0, 0, 0, 0.3);\n  /* 右下偏移 10px,模糊 5px,扩展 0,黑色 30% 透明 */\n}\n\n/* 扩展半径:在模糊前先扩大/缩小阴影 */\n.glow {\n  box-shadow: 0 0 0 5px rgba(66, 153, 225, 0.5);\n  /* 无偏移,无模糊,扩展 5px,产生光晕效果 */\n}\n\n/* 内阴影(inset) */\n.inset-shadow {\n  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);\n  /* 内阴影在元素内部,产生凹陷效果 */\n}', lang: 'css', caption: 'box-shadow 语法' },
      { type: 'heading', text: '多重阴影:叠加效果' },
      { type: 'paragraph', text: 'box-shadow 支持声明多个阴影,用逗号分隔。先声明的阴影在上层,可以叠加创造复杂的深度效果、光晕、边框等。外阴影绘制在背景之下,内阴影绘制在背景之上边框之下。' },
      { type: 'code', code: '/* Material Design 风格的多层阴影 */\n.card {\n  box-shadow: \n    0 1px 3px rgba(0, 0, 0, 0.12),   /* 近距离小阴影 */\n    0 1px 2px rgba(0, 0, 0, 0.24);   /* 环境光阴影 */\n}\n\n.card:hover {\n  box-shadow:\n    0 14px 28px rgba(0, 0, 0, 0.25),  /* 悬停时阴影更大更深 */\n    0 10px 10px rgba(0, 0, 0, 0.22);\n}\n\n/* 多色光晕效果 */\n.neon {\n  box-shadow:\n    0 0 5px #fff,\n    0 0 10px #fff,\n    0 0 20px #0ff,\n    0 0 40px #0ff,\n    0 0 80px #0ff;\n}\n\n/* 外阴影 + 内阴影组合 */\n.fancy {\n  box-shadow:\n    0 2px 8px rgba(0, 0, 0, 0.1),          /* 外阴影 */\n    inset 0 1px 0 rgba(255, 255, 255, 0.5); /* 内阴影(高光) */\n}', lang: 'css', caption: '多重阴影叠加' },
      { type: 'tip', text: 'box-shadow 不影响布局,不会触发滚动,也不会计入元素的可点击区域。阴影纯粹是视觉效果。' },
      { type: 'heading', text: 'box-shadow 与 border-radius 的配合' },
      { type: 'paragraph', text: '当元素同时有 border-radius 和 box-shadow 时,阴影会自动跟随圆角曲线,无需额外设置。内阴影(inset)也会沿圆角边框内侧绘制。' },
      { type: 'example', title: '圆角卡片阴影', code: '.rounded-card {\n  border-radius: 12px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  /* 阴影自动跟随圆角 */\n}', lang: 'css', explanation: '阴影的形状自动匹配元素的圆角,无需手动调整。' },
      { type: 'heading', text: 'outline:不影响布局的轮廓' },
      { type: 'paragraph', text: 'outline 在元素的边框外绘制轮廓线,与 border 类似但有关键区别:outline 不占用布局空间,不影响元素尺寸和位置,不能为每条边单独设置样式,可以是非矩形的(沿元素的外轮廓)。outline 常用于焦点指示、调试布局。' },
      { type: 'code', code: '/* outline 基础语法 */\n.button {\n  outline: 2px solid blue;  /* 简写:宽度 样式 颜色 */\n}\n\n/* 分开设置 */\n.input:focus {\n  outline-width: 2px;\n  outline-style: solid;   /* solid | dotted | dashed | double ... */\n  outline-color: #2196f3;\n}\n\n/* outline-offset: 轮廓与边框的距离 */\n.button:focus {\n  outline: 2px solid orange;\n  outline-offset: 3px;  /* 轮廓距边框外边缘 3px */\n}\n\n/* 移除默认焦点轮廓(需提供替代方案!) */\n.custom-focus:focus {\n  outline: none;  /* 移除浏览器默认轮廓 */\n  box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.5);  /* 用阴影替代 */\n}', lang: 'css', caption: 'outline 属性' },
      { type: 'warning', text: '永远不要单独使用 outline: none 移除焦点指示!这会严重影响键盘用户的可访问性。如果要自定义焦点样式,必须提供明显的替代视觉指示(如 box-shadow、border、background 变化)。' },
      { type: 'heading', text: 'border-image:图像边框(CSS3)' },
      { type: 'paragraph', text: 'border-image 使用图像替代普通边框样式。源图像被切割为九宫格(四角、四边、中心),分别应用到元素边框的对应位置。border-image 是一个复杂的简写属性,包含 source(图像来源)、slice(切割方式)、width(宽度)、outset(外扩)、repeat(重复方式)五个子属性。' },
      { type: 'code', code: '/* border-image 简写语法 */\n.fancy-border {\n  border: 10px solid;  /* 必须先声明 border 宽度 */\n  border-image: url("border.png") 30 round;\n  /* source: url("border.png")\n     slice: 30 (从四边各切 30px)\n     repeat: round (缩放适配) */\n}\n\n/* 完整语法 */\n.box {\n  border: 15px solid;\n  border-image-source: url("border.svg");\n  border-image-slice: 30 fill;  /* 切割 30px,fill 绘制中心 */\n  border-image-width: 15px;     /* 边框图像宽度 */\n  border-image-outset: 0;       /* 向外扩展 */\n  border-image-repeat: stretch; /* stretch | repeat | round | space */\n}\n\n/* 渐变边框 */\n.gradient-border {\n  border: 5px solid;\n  border-image: linear-gradient(45deg, red, blue) 1;\n  /* 渐变作为边框图像,slice 为 1 */\n}', lang: 'css', caption: 'border-image 语法' },
      { type: 'example', title: 'border-image-slice 的九宫格切割', code: 'border-image-slice: 30;\n/* 从上右下左各切 30px,图像被分为 9 个区域:\n   ┌────┬────────┬────┐\n   │ 角 │  边    │ 角 │  上\n   ├────┼────────┼────┤\n   │ 边 │ 中心   │ 边 │  中\n   ├────┼────────┼────┤\n   │ 角 │  边    │ 角 │  下\n   └────┴────────┴────┘\n   左      中      右\n   四角放在元素的四角,四边平铺/拉伸/缩放,中心默认不绘制\n*/', lang: 'css', explanation: 'slice 定义切割线位置,生成 9 个区域分别应用到边框。' },
      { type: 'tip', text: 'border-image 会覆盖 border-style 和 border-color,但不会覆盖 border-width。border-radius 与 border-image 同时存在时,border-image 优先,圆角不生效。' },
      { type: 'heading', text: '实用边框技巧' },
      { type: 'code', code: '/* 技巧 1: 单边阴影 */\n.bottom-shadow {\n  box-shadow: 0 4px 2px -2px rgba(0, 0, 0, 0.2);\n  /* 负扩展半径使阴影只在底部可见 */\n}\n\n/* 技巧 2: 渐变边框(背景实现) */\n.gradient-border {\n  border: 3px solid transparent;\n  background: \n    linear-gradient(white, white) padding-box,\n    linear-gradient(45deg, red, blue) border-box;\n  /* 内容区白色,边框区渐变 */\n}\n\n/* 技巧 3: 发光按钮 */\n.glow-button {\n  border: none;\n  border-radius: 4px;\n  box-shadow: \n    0 0 10px rgba(33, 150, 243, 0.5),\n    0 0 20px rgba(33, 150, 243, 0.3),\n    0 4px 8px rgba(0, 0, 0, 0.2);\n}\n\n/* 技巧 4: 浮起效果(Material Design) */\n.card {\n  transition: box-shadow 0.3s;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.card:hover {\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);\n  /* 阴影变大变深,产生浮起效果 */\n}', lang: 'css', caption: '边框与阴影的创意应用' },
      { type: 'heading', text: '性能考虑' },
      { type: 'paragraph', text: 'box-shadow 和 border-radius 都会触发浏览器的绘制(paint)操作。复杂的阴影(多层、大模糊半径)和极端的圆角(超大半径、不规则形状)可能影响性能,尤其是在动画中。对于需要频繁重绘的元素(如滚动列表项),考虑简化阴影或用图片替代。' },
      { type: 'tip', text: 'box-shadow 可以使用硬件加速(GPU),而 border 不行。在某些情况下,用 box-shadow 模拟边框(扩展半径 + 无模糊)比真正的 border 性能更好。' },
      { type: 'list', items: [
        'border-radius 创建圆角,支持椭圆角和单独控制每个角',
        '50% 的 border-radius 将正方形变圆形,矩形变椭圆',
        'box-shadow 支持外阴影和内阴影,可以多层叠加',
        '阴影的扩展半径在模糊前先扩大或缩小阴影形状',
        'outline 不占布局空间,常用于焦点指示和调试',
        'outline-offset 可以为负值,使轮廓绘制在边框内',
        'border-image 将图像切为九宫格应用到边框',
        'border-radius 与 box-shadow 配合,阴影自动跟随圆角',
        '移除 outline: none 时必须提供替代焦点指示'
      ] },
    ] as TutorialBlock[],
  },
  {
    id: 'shadows-effects',
    number: '5',
    title: { zh: '阴影与效果', en: 'Shadows & Effects' },
    specId: 'box-shadow',
    summary: {
      zh: '综合运用颜色、背景、渐变和阴影属性,创建丰富的视觉效果和层次感。',
      en: 'Combine color, background, gradient, and shadow properties to create rich visual effects and depth.',
    },
    keyPoints: [
      '多重 box-shadow 可叠加创建复杂阴影效果',
      'inset 关键字创建内阴影',
      '渐变与背景图像结合实现复杂图案',
      'background-clip: text 实现渐变文字效果',
      '合理使用透明度和模糊创建自然的视觉层次',
      'box-shadow 的扩展半径(spread radius)在模糊前先扩大或缩小阴影形状,正值扩大,负值缩小',
      '多重 box-shadow 按声明顺序绘制,先声明的阴影在上方;外阴影在背景之下,内阴影在背景之上边框之下',
      'box-shadow 阴影不影响布局,不触发滚动,也不增加可滚动溢出区域',
      '阴影会继承元素的 border-radius 曲线形状,inset 阴影在圆角边框内同样呈现圆角',
      'opacity 属性控制整个元素(含子元素)的透明度,值为 0~1,小于 1 时创建新的层叠上下文',
    ],
    tutorial: [
      { type: 'heading', text: '视觉深度:用阴影创造层次感' },
      { type: 'paragraph', text: '在扁平的二维屏幕上创造深度感是 UI 设计的核心挑战之一。CSS 提供了强大的工具——box-shadow、渐变、透明度、模糊——让我们能够模拟光影、材质、深度。这一节探讨如何综合运用这些技术,创造自然、有层次感的视觉效果。理解光影的物理原理(光源、投影、环境光)能帮助你创造更真实的效果。' },
      { type: 'heading', text: 'Material Design 阴影系统' },
      { type: 'paragraph', text: 'Google 的 Material Design 定义了一套基于物理的阴影系统,用海拔高度(elevation)表示元素离"纸面"的距离。海拔越高,阴影越大越模糊,颜色越深。Material Design 使用两层阴影:关键光阴影(key light,定向光源)和环境光阴影(ambient light,漫反射)。' },
      { type: 'code', code: '/* Material Design 海拔系统 */\n\n/* 海拔 1: 卡片静止状态 */\n.elevation-1 {\n  box-shadow: \n    0 1px 3px rgba(0, 0, 0, 0.12),   /* 环境光阴影 */\n    0 1px 2px rgba(0, 0, 0, 0.24);   /* 关键光阴影 */\n}\n\n/* 海拔 2: 按钮静止 */\n.elevation-2 {\n  box-shadow:\n    0 3px 6px rgba(0, 0, 0, 0.16),\n    0 3px 6px rgba(0, 0, 0, 0.23);\n}\n\n/* 海拔 3: 卡片悬停 */\n.elevation-3 {\n  box-shadow:\n    0 10px 20px rgba(0, 0, 0, 0.19),\n    0 6px 6px rgba(0, 0, 0, 0.23);\n}\n\n/* 海拔 4: 按钮悬停 */\n.elevation-4 {\n  box-shadow:\n    0 14px 28px rgba(0, 0, 0, 0.25),\n    0 10px 10px rgba(0, 0, 0, 0.22);\n}\n\n/* 海拔 5: 模态框、菜单 */\n.elevation-5 {\n  box-shadow:\n    0 19px 38px rgba(0, 0, 0, 0.30),\n    0 15px 12px rgba(0, 0, 0, 0.22);\n}', lang: 'css', caption: 'Material Design 海拔阴影' },
      { type: 'tip', text: '使用 transition: box-shadow 0.3s 为海拔变化添加平滑过渡,让悬停、点击等交互更自然。' },
      { type: 'heading', text: '内阴影:凹陷与嵌入效果' },
      { type: 'paragraph', text: '内阴影(inset)在元素内部绘制,产生凹陷、嵌入或内发光的视觉效果。内阴影绘制在背景之上、内容之下,可以与外阴影同时使用创造复杂效果。内阴影常用于输入框(嵌入感)、按钮按下状态(凹陷)、内发光效果。' },
      { type: 'code', code: '/* 输入框嵌入效果 */\ninput[type="text"] {\n  border: 1px solid #ccc;\n  padding: 8px;\n  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n  /* 内阴影产生轻微凹陷感 */\n}\n\n/* 按钮按下状态 */\n.button:active {\n  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);\n  transform: translateY(1px);  /* 配合位移增强按下感 */\n}\n\n/* 内发光效果 */\n.inner-glow {\n  background: #1a1a1a;\n  box-shadow: inset 0 0 20px rgba(0, 150, 255, 0.5);\n  /* 无偏移,大模糊,产生内部光晕 */\n}\n\n/* 外阴影 + 内阴影组合 */\n.combo {\n  box-shadow:\n    0 4px 8px rgba(0, 0, 0, 0.1),          /* 外阴影:深度 */\n    inset 0 1px 0 rgba(255, 255, 255, 0.5); /* 内阴影:顶部高光 */\n}', lang: 'css', caption: '内阴影的应用场景' },
      { type: 'example', title: '拟物化按钮', code: '.skeuomorphic-button {\n  background: linear-gradient(to bottom, #5cb85c, #449d44);\n  border: 1px solid #398439;\n  border-radius: 4px;\n  color: white;\n  padding: 10px 20px;\n  box-shadow:\n    0 2px 4px rgba(0, 0, 0, 0.2),          /* 外阴影:投影 */\n    inset 0 1px 0 rgba(255, 255, 255, 0.3), /* 内阴影:顶部高光 */\n    inset 0 -1px 0 rgba(0, 0, 0, 0.2);      /* 内阴影:底部暗部 */\n}', lang: 'css', explanation: '组合外阴影和内阴影,加上渐变背景,创造立体的拟物化按钮。' },
      { type: 'heading', text: '渐变与背景叠加:复杂图案' },
      { type: 'paragraph', text: '通过叠加多个渐变和背景图像,可以创造无限复杂的图案——格纹、波点、条纹、网格、几何图形等,完全用 CSS 实现,无需图片。关键技巧:半透明渐变叠加、硬边渐变、重复渐变、精确的色标位置控制。' },
      { type: 'code', code: '/* 网格图案 */\n.grid {\n  background:\n    repeating-linear-gradient(\n      0deg,\n      transparent,\n      transparent 19px,\n      #ddd 19px,\n      #ddd 20px\n    ),\n    repeating-linear-gradient(\n      90deg,\n      transparent,\n      transparent 19px,\n      #ddd 19px,\n      #ddd 20px\n    );\n  background-size: 20px 20px;\n}\n\n/* 对角条纹 */\n.diagonal-stripes {\n  background: repeating-linear-gradient(\n    45deg,\n    #fff,\n    #fff 10px,\n    #f0f0f0 10px,\n    #f0f0f0 20px\n  );\n}\n\n/* 波点图案 */\n.polka-dots {\n  background-image: \n    radial-gradient(circle, #333 2px, transparent 2px);\n  background-size: 20px 20px;\n  background-color: #fff;\n}\n\n/* 棋盘格 */\n.checkerboard {\n  background-image:\n    linear-gradient(45deg, #ccc 25%, transparent 25%),\n    linear-gradient(-45deg, #ccc 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, #ccc 75%),\n    linear-gradient(-45deg, transparent 75%, #ccc 75%);\n  background-size: 20px 20px;\n  background-position: 0 0, 0 10px, 10px -10px, -10px 0;\n}', lang: 'css', caption: '纯 CSS 图案生成' },
      { type: 'heading', text: 'background-clip: text 渐变文字' },
      { type: 'paragraph', text: 'background-clip: text 是创建渐变文字、图案文字的利器。它将背景裁剪到文字的形状,配合 color: transparent 让文字透明,背景透出,产生渐变文字效果。这个技术需要 WebKit 前缀(-webkit-background-clip)以确保兼容性。' },
      { type: 'code', code: '/* 渐变文字基础 */\n.gradient-text {\n  font-size: 3rem;\n  font-weight: bold;\n  background: linear-gradient(45deg, #667eea, #764ba2);\n  -webkit-background-clip: text;\n  background-clip: text;\n  color: transparent;\n}\n\n/* 彩虹渐变文字 */\n.rainbow-text {\n  background: linear-gradient(\n    to right,\n    red, orange, yellow, lime, cyan, blue, magenta, red\n  );\n  -webkit-background-clip: text;\n  background-clip: text;\n  color: transparent;\n}\n\n/* 动画渐变文字 */\n@keyframes gradient-shift {\n  0% { background-position: 0% 50%; }\n  100% { background-position: 100% 50%; }\n}\n\n.animated-gradient-text {\n  background: linear-gradient(\n    90deg,\n    #667eea, #764ba2, #f093fb, #667eea\n  );\n  background-size: 200% 100%;\n  -webkit-background-clip: text;\n  background-clip: text;\n  color: transparent;\n  animation: gradient-shift 3s linear infinite;\n}', lang: 'css', caption: 'background-clip: text 渐变文字' },
      { type: 'warning', text: 'background-clip: text 会让文字选中时的高亮效果失效(因为文字是透明的)。对于长文本内容,考虑只在标题等短文本上使用。' },
      { type: 'heading', text: 'opacity:整体透明度' },
      { type: 'paragraph', text: 'opacity 属性控制整个元素(包括内容、背景、边框、阴影和所有子元素)的透明度。值为 0(完全透明)到 1(完全不透明)。opacity < 1 会创建新的层叠上下文,影响 z-index 的行为。与 rgba/hsla 颜色不同,opacity 影响整个元素,包括文本和子元素。' },
      { type: 'code', code: '/* 整体透明度 */\n.overlay {\n  opacity: 0.8;  /* 元素及所有子元素都 80% 不透明 */\n}\n\n/* opacity 与 rgba 的区别 */\n.rgba-bg {\n  background: rgba(0, 0, 0, 0.5);  /* 只有背景半透明,文字不透明 */\n}\n\n.opacity-bg {\n  background: #000;\n  opacity: 0.5;  /* 背景和文字都半透明 */\n}\n\n/* 淡入淡出动画 */\n@keyframes fade-in {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n.fade {\n  animation: fade-in 0.5s;\n}\n\n/* 悬停透明度过渡 */\n.image {\n  opacity: 1;\n  transition: opacity 0.3s;\n}\n\n.image:hover {\n  opacity: 0.7;  /* 悬停时变半透明 */\n}', lang: 'css', caption: 'opacity 属性的使用' },
      { type: 'tip', text: 'opacity 创建新的层叠上下文,意味着设置了 opacity < 1 的元素内的 position: fixed 子元素会相对该元素定位,而非视口。' },
      { type: 'heading', text: '阴影的性能优化' },
      { type: 'paragraph', text: 'box-shadow 是绘制密集型操作,尤其是大模糊半径和多层阴影。在动画、滚动列表等高频重绘场景中,阴影可能成为性能瓶颈。优化策略:减少阴影层数、降低模糊半径、使用 will-change 或 transform 触发硬件加速、对静态阴影使用图片替代。' },
      { type: 'code', code: '/* 性能优化技巧 */\n\n/* 1. 简化阴影(只保留关键层) */\n.optimized-shadow {\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);  /* 单层阴影 */\n}\n\n/* 2. 使用 transform 替代 top/left 动画 */\n.animated-card {\n  transition: transform 0.3s, box-shadow 0.3s;\n}\n\n.animated-card:hover {\n  transform: translateY(-4px);  /* GPU 加速 */\n  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);\n}\n\n/* 3. will-change 提示浏览器优化 */\n.will-animate {\n  will-change: box-shadow, transform;\n}\n\n/* 4. 避免在滚动容器的每个子项上使用复杂阴影 */\n.list-item {\n  /* 不好:100 个列表项各有 5 层阴影 = 500 个阴影 */\n  /* box-shadow: ... 5 layers ...; */\n  \n  /* 好:简化为单层或使用边框模拟 */\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n}', lang: 'css', caption: '阴影性能优化' },
      { type: 'heading', text: '视觉效果综合案例' },
      { type: 'code', code: '/* 玻璃拟态(Glassmorphism) */\n.glass {\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);  /* 背景模糊 */\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 12px;\n  box-shadow: \n    0 8px 32px rgba(0, 0, 0, 0.1),\n    inset 0 1px 0 rgba(255, 255, 255, 0.5);\n}\n\n/* 新拟态(Neomorphism) */\n.neomorphism {\n  background: #e0e5ec;\n  border-radius: 20px;\n  box-shadow:\n    9px 9px 16px rgba(163, 177, 198, 0.6),\n    -9px -9px 16px rgba(255, 255, 255, 0.5);\n}\n\n.neomorphism-inset {\n  background: #e0e5ec;\n  border-radius: 20px;\n  box-shadow:\n    inset 6px 6px 12px rgba(163, 177, 198, 0.6),\n    inset -6px -6px 12px rgba(255, 255, 255, 0.5);\n}\n\n/* 霓虹发光效果 */\n.neon {\n  color: #fff;\n  text-shadow:\n    0 0 5px #fff,\n    0 0 10px #fff,\n    0 0 20px #0ff,\n    0 0 40px #0ff,\n    0 0 80px #0ff,\n    0 0 90px #0ff,\n    0 0 100px #0ff,\n    0 0 150px #0ff;\n  /* 多层文字阴影创造霓虹灯效果 */\n}', lang: 'css', caption: '现代视觉效果风格' },
      { type: 'example', title: '卡片悬停浮起效果', code: '.card {\n  border-radius: 8px;\n  background: white;\n  padding: 20px;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.card:hover {\n  transform: translateY(-8px);\n  box-shadow: \n    0 12px 24px rgba(0, 0, 0, 0.15),\n    0 6px 12px rgba(0, 0, 0, 0.1);\n}', lang: 'css', explanation: '组合 transform 和 box-shadow 过渡,创造卡片浮起的视觉反馈。' },
      { type: 'list', items: [
        '多层阴影模拟真实光影,关键光 + 环境光创造深度',
        'Material Design 海拔系统用阴影大小表示元素高度',
        '内阴影(inset)创造凹陷、嵌入、内发光效果',
        '渐变叠加可以创造格纹、网格、波点等复杂图案',
        'background-clip: text 实现渐变文字和图案文字',
        'opacity 影响整个元素(含子元素),创建层叠上下文',
        '阴影性能优化:减少层数、降低模糊、使用硬件加速',
        '现代视觉风格:玻璃拟态、新拟态、霓虹发光',
        'transform + box-shadow 组合创造流畅的交互反馈'
      ] },
    ] as TutorialBlock[],
  },
];

export const anchors: Record<string, string> = {
  'colors': 'foreground-color',
  'background': 'background',
  'propdef-color': 'foreground-color',
  'propdef-background-color': 'background',
  'propdef-background-image': 'background',
  'propdef-background-repeat': 'background',
  'propdef-background-attachment': 'background',
  'propdef-background-position': 'background',
  'propdef-background': 'background',
  'propdef-background-size': 'background',
  'propdef-background-origin': 'background',
  'propdef-background-clip': 'background',
  'gradients': 'gradients',
  'border-radius': 'borders-decoration',
  'box-shadow': 'borders-decoration',
  'border-image': 'borders-decoration',
  'outline': 'borders-decoration'
};

export const glossaryTerms: Record<string, GlossaryEntry> = {
  'color value': {
    zh: '颜色值',
    description: 'CSS 中表示颜色的值,可以用多种格式表示,包括命名颜色、十六进制表示法(#RRGGBB)、RGB/RGBA 函数、HSL/HSLA 函数以及 LAB、LCH 和 OKLCH 等高级颜色空间。',
    sectionRef: 'colors-backgrounds#color-values',
  },
  'currentcolor': {
    zh: 'currentColor',
    description: 'CSS 关键字,表示当前元素上 color 属性的计算值。它允许其他属性(如 border-color、box-shadow)自动使用文本颜色,创建一致的配色方案。',
    sectionRef: 'colors-backgrounds#foreground-background',
  },
  'gradient': {
    zh: '渐变',
    description: 'CSS 图像值,在两种或多种颜色之间创建平滑的颜色过渡。CSS3 提供三种类型:线性渐变(沿直线)、径向渐变(从中心点辐射)和圆锥渐变(围绕中心旋转)。',
    sectionRef: 'colors-backgrounds#gradients',
  },
  'background': {
    zh: '背景',
    description: '元素内容和内边距后面的区域。CSS 允许控制背景颜色、图像、定位、重复、大小、裁剪和层叠。CSS3 引入了多个背景层、渐变以及对背景渲染的增强控制。',
    sectionRef: 'colors-backgrounds#foreground-background',
  },
  'box shadow': {
    zh: '盒阴影',
    description: 'CSS3 效果,在元素框周围添加阴影。阴影可以使用 x 和 y 偏移定位,使用模糊半径模糊,使用扩展半径扩展,可以在元素外部(投影)或内部(内阴影)。',
    sectionRef: 'colors-backgrounds#borders-decoration',
  },
  'border radius': {
    zh: '边框圆角',
    description: 'CSS3 属性,使元素边框盒的角变圆。每个角可以独立控制,并且可以有不同的水平和垂直半径以创建椭圆角。在正方形元素上将 border-radius 设置为 50% 可创建完美的圆形。',
    sectionRef: 'colors-backgrounds#borders-decoration',
  },
  'alpha': {
    zh: '透明度通道',
    description: '颜色的第四个分量,控制透明度。0 为完全透明,1 为完全不透明。在 rgba()、hsla() 及现代颜色函数中使用。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-4/#transparency',
  },
  'color space': {
    zh: '颜色空间',
    description: '定义颜色组织方式的数学模型。CSS 支持 sRGB(默认)、display-p3、rec2020 等广色域空间,以及 Lab、LCH、OKLab、OKLCH 等感知均匀颜色空间。不同颜色空间可表示的色域范围不同。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-4/#predefined',
  },
  'gamut': {
    zh: '色域',
    description: '颜色空间中可表示的颜色范围。sRGB 色域较小,display-p3 和 rec2020 等广色域可表示更鲜艳的颜色。当颜色超出设备色域时,浏览器会进行色域映射(gamut mapping)以找到最接近的可显示颜色。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-4/#gamut-mapping',
  },
  'color-mix()': {
    zh: '颜色混合函数',
    description: 'CSS Color 5 函数,在指定颜色空间中按比例混合两种颜色。语法为 color-mix(in <color-space>, <color> <percentage>?, <color> <percentage>?),可用于创建色调变体和动态配色。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-5/#color-mix',
  },
  'relative color syntax': {
    zh: '相对颜色语法',
    description: 'CSS Color 5 语法,允许基于现有颜色通过引用和修改其通道值来派生新颜色。例如 oklch(from var(--brand) l calc(c * 1.2) h) 可提高饱和度。支持在任意颜色空间中进行通道操作。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-5/#relative-colors',
  },
  'system colors': {
    zh: '系统颜色',
    description: '映射到操作系统 UI 配色的 CSS 颜色关键字,如 Canvas(背景)、CanvasText(文本)、LinkText(链接)、AccentColor(强调色)等。用于创建与操作系统主题一致的界面,同时支持浅色和深色模式。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-4/#css-system-colors',
  },
  'named colors': {
    zh: '命名颜色',
    description: 'CSS 预定义的 148 个颜色关键字(如 red、blue、coral、rebeccapurple 等),源自 X11 颜色和 SVG 颜色规范。这些关键字不区分大小写,每个对应一个固定的 sRGB 值。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-4/#named-colors',
  },
  'hex color': {
    zh: '十六进制颜色',
    description: '以 # 开头的颜色表示法,支持 3 位(#RGB)、4 位(#RGBA)、6 位(#RRGGBB)和 8 位(#RRGGBBAA)格式。每位为 0-9 或 A-F,分别表示红、绿、蓝及可选的 alpha 通道。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-4/#hex-notation',
  },
  'border-image': {
    zh: '边框图像',
    description: 'CSS3 属性,使用图像替代普通边框样式。通过 border-image-source(图像来源)、border-image-slice(切割方式)、border-image-width(宽度)、border-image-outset(外扩)和 border-image-repeat(重复方式)五个子属性控制。',
    sectionRef: 'colors-backgrounds#borders-decoration',
    specUrl: 'https://www.w3.org/TR/css-backgrounds-3/#border-images',
  },
  'background-attachment': {
    zh: '背景附着',
    description: '控制背景图像的滚动行为。scroll(默认)随元素滚动,fixed 相对视口固定不动,local(CSS3 新增)随元素内容一起滚动。三种值在有滚动机制的元素中行为差异明显。',
    sectionRef: 'colors-backgrounds#foreground-background',
    specUrl: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-attachment',
  },
  'multiple backgrounds': {
    zh: '多重背景',
    description: 'CSS3 允许为一个元素设置多个背景层,用逗号分隔。每层可独立指定图像、位置、大小、重复等属性。先声明的层在上方,background-color 仅应用于最底层。',
    sectionRef: 'colors-backgrounds#foreground-background',
    specUrl: 'https://www.w3.org/TR/css-backgrounds-3/#layering',
  },
  'color interpolation': {
    zh: '颜色插值',
    description: '在两个颜色值之间计算中间颜色的过程,用于渐变、过渡和动画。CSS Color 4 默认在 OKLab 空间插值以获得感知均匀的过渡效果,也可指定 sRGB、HSL、LCH 等其他空间。',
    sectionRef: 'colors-backgrounds#color-values',
    specUrl: 'https://www.w3.org/TR/css-color-4/#interpolation',
  },
};

export const propertyTerms: Record<string, PropertyEntry> = {
  'color': {
    zh: '前景色',
    value: '<color>',
    initial: '取决于用户代理',
    appliesTo: '所有元素',
    inherited: true,
    percentages: null,
    computedValue: '计算后的颜色值',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-color',
    css3Url: 'https://www.w3.org/TR/css-color-4/#the-color-property',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background-color': {
    zh: '背景颜色',
    value: '<color>',
    initial: 'transparent',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '计算后的颜色值',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background-color',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background-image': {
    zh: '背景图像',
    value: '<bg-image>#',
    initial: 'none',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值,URI 为绝对 URI',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background-image',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-image',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background-repeat': {
    zh: '背景重复',
    value: '<repeat-style>#',
    initial: 'repeat',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '一对关键字,每层一对',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background-repeat',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-repeat',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background-attachment': {
    zh: '背景附着',
    value: 'scroll | fixed | local',
    initial: 'scroll',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background-attachment',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-attachment',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background-position': {
    zh: '背景定位',
    value: '<bg-position>#',
    initial: '0% 0%',
    appliesTo: '所有元素',
    inherited: false,
    percentages: '相对于背景定位区域的大小减去背景图像的大小',
    computedValue: '一对偏移量(长度或百分比),每层一对',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background-position',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-position',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background': {
    zh: '背景(简写)',
    value: '[ <bg-layer> , ]* <final-bg-layer>',
    initial: '见各子属性',
    appliesTo: '所有元素',
    inherited: false,
    percentages: '见各子属性',
    computedValue: '见各子属性',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background-size': {
    zh: '背景尺寸',
    value: 'auto | contain | cover | <length> | <percentage>',
    initial: 'auto',
    appliesTo: '所有元素',
    inherited: false,
    percentages: '相对于背景定位区域的大小',
    computedValue: '指定值,但长度是绝对的',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-size',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background-origin': {
    zh: '背景原点',
    value: 'padding-box | border-box | content-box',
    initial: 'padding-box',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-origin',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'background-clip': {
    zh: '背景裁剪',
    value: 'border-box | padding-box | content-box | text',
    initial: 'border-box',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: 'https://www.w3.org/TR/CSS22/colors.html#propdef-background',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-background-clip',
    sectionRef: 'colors-backgrounds#foreground-background'
  },
  'border-radius': {
    zh: '边框圆角',
    value: '<length-percentage>{1,4} [ / <length-percentage>{1,4} ]?',
    initial: '0',
    appliesTo: '所有元素(但 UA 可不应用于 table 和 inline-table 当 border-collapse 为 collapse 时)',
    inherited: false,
    percentages: '水平半径相对于边框盒宽度,垂直半径相对于边框盒高度',
    computedValue: '四对长度或百分比值',
    css2Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-border-radius',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-border-radius',
    sectionRef: 'colors-backgrounds#borders-decoration'
  },
  'box-shadow': {
    zh: '盒阴影',
    value: 'none | <shadow>#',
    initial: 'none',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: 'none 或阴影列表(含绝对长度和计算后颜色)',
    css2Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-box-shadow',
    sectionRef: 'colors-backgrounds#shadows-effects'
  },
  'border-image': {
    zh: '边框图像(简写)',
    value: '<border-image-source> || <border-image-slice> [ / <border-image-width>? [ / <border-image-outset> ]? ]? || <border-image-repeat>',
    initial: '见各子属性',
    appliesTo: '所有元素(border-image-slice 不适用于 border-collapse: collapse 的表格)',
    inherited: false,
    percentages: null,
    computedValue: '见各子属性',
    css2Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-border-image',
    css3Url: 'https://www.w3.org/TR/css-backgrounds-3/#propdef-border-image',
    sectionRef: 'colors-backgrounds#borders-decoration'
  },
  'opacity': {
    zh: '不透明度',
    value: '<alpha-value>',
    initial: '1',
    appliesTo: '所有元素',
    inherited: false,
    percentages: '映射到 <number> 范围',
    computedValue: '指定的数值,截断到 [0, 1] 范围',
    css2Url: 'https://www.w3.org/TR/css-color-4/#transparency',
    css3Url: 'https://www.w3.org/TR/css-color-4/#transparency',
    sectionRef: 'colors-backgrounds#shadows-effects'
  },
  'outline': {
    zh: '轮廓',
    value: '[ <outline-width> || <outline-style> || <outline-color> ]',
    initial: '见各属性',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '见各属性',
    css2Url: 'https://www.w3.org/TR/CSS22/ui.html#propdef-outline',
    sectionRef: 'colors-backgrounds#borders-decoration'
  },
  'outline-width': {
    zh: '轮廓宽度',
    value: 'thin | medium | thick | <length>',
    initial: 'medium',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '绝对长度;如果 outline-style 为 none,则为 0',
    css2Url: 'https://www.w3.org/TR/CSS22/ui.html#propdef-outline-width',
    sectionRef: 'colors-backgrounds#borders-decoration'
  },
  'outline-style': {
    zh: '轮廓样式',
    value: 'none | dotted | dashed | solid | double | groove | ridge | inset | outset',
    initial: 'none',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: 'https://www.w3.org/TR/CSS22/ui.html#propdef-outline-style',
    sectionRef: 'colors-backgrounds#borders-decoration'
  },
  'outline-color': {
    zh: '轮廓颜色',
    value: '<color> | invert',
    initial: 'invert',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '计算后的颜色值',
    css2Url: 'https://www.w3.org/TR/CSS22/ui.html#propdef-outline-color',
    sectionRef: 'colors-backgrounds#borders-decoration'
  },
  'outline-offset': {
    zh: '轮廓偏移',
    value: '<length>',
    initial: '0',
    appliesTo: '所有元素',
    inherited: false,
    percentages: null,
    computedValue: '绝对长度',
    css2Url: 'https://www.w3.org/TR/CSS22/ui.html#propdef-outline',
    css3Url: 'https://www.w3.org/TR/css-ui-3/#propdef-outline-offset',
    sectionRef: 'colors-backgrounds#borders-decoration'
  }
};
