import type { Section } from '../modules';
import type { GlossaryEntry } from '../glossary';
import type { PropertyEntry } from '../properties';

export const sections: Section[] = [
  {
    id: 'transforms-2d',
    number: '1',
    title: { zh: '2D 变换', en: '2D Transforms' },
    summary: 'CSS 2D 变换允许你在二维空间中平移、旋转、缩放和倾斜元素。通过 transform 属性和各种变换函数,你可以改变元素的视觉呈现而不影响文档流。',
    keyPoints: [
      'transform 属性应用一个或多个变换函数',
      'translate() 平移、rotate() 旋转、scale() 缩放、skew() 倾斜',
      'transform-origin 设置变换的基准点(默认为元素中心)',
      'matrix() 函数提供底层的 2D 变换矩阵控制',
      '变换不触发文档重排,性能较好',
    ],
  },
  {
    id: 'transforms-3d',
    number: '2',
    title: { zh: '3D 变换', en: '3D Transforms' },
    summary: 'CSS 3D 变换扩展了 2D 变换,允许在三维空间中操作元素。perspective 属性定义透视深度,创建 3D 视觉效果。',
    keyPoints: [
      'perspective 定义观察者与 z=0 平面的距离',
      'translate3d()、rotate3d()、scale3d() 提供三维变换',
      'transform-style: preserve-3d 保持子元素的 3D 空间',
      'backface-visibility 控制元素背面的可见性',
      'perspective-origin 设置 3D 透视的消失点位置',
    ],
  },
  {
    id: 'transitions',
    number: '3',
    title: { zh: '过渡', en: 'Transitions' },
    summary: 'CSS 过渡使属性值的变化在一段时间内平滑地进行,而不是瞬间完成。当元素状态改变时(如 :hover),过渡会自动触发。',
    keyPoints: [
      'transition-property 指定要过渡的属性(或使用 all)',
      'transition-duration 设置过渡持续时间',
      'transition-timing-function 定义缓动曲线(ease、linear、cubic-bezier 等)',
      'transition-delay 设置过渡开始前的延迟',
      'transition 简写属性: property duration timing-function delay',
      '只有可动画的属性才能应用过渡效果',
    ],
  },
  {
    id: 'animations',
    number: '4',
    title: { zh: '动画', en: 'Animations' },
    summary: 'CSS 动画通过 @keyframes 规则定义动画序列,可以创建复杂的多步动画效果。与过渡不同,动画可以自动播放,不需要状态变化触发。',
    keyPoints: [
      '@keyframes 规则定义动画的关键帧序列',
      'animation-name 引用 @keyframes 定义的动画名称',
      'animation-duration、animation-timing-function、animation-delay 控制时间',
      'animation-iteration-count 控制重复次数(可为 infinite)',
      'animation-direction 控制播放方向(normal、reverse、alternate)',
      'animation-fill-mode 定义动画前后的样式状态',
      'animation-play-state 控制动画的播放和暂停',
    ],
  },
  {
    id: 'easing',
    number: '5',
    title: { zh: '缓动函数', en: 'Easing Functions' },
    summary: '缓动函数(timing function)控制动画或过渡的速率变化,决定了动画如何从起始状态过渡到结束状态,创建更自然的运动效果。',
    keyPoints: [
      '预定义缓动: ease、linear、ease-in、ease-out、ease-in-out',
      'cubic-bezier(x1, y1, x2, y2) 自定义三次贝塞尔曲线',
      'steps(n, start|end) 创建步进式动画',
      'CSS3 新增: linear() 函数提供多段线性插值',
      '缓动函数应用于整个动画周期,也可在关键帧中单独指定',
    ],
  },
];

export const anchors: Record<string, string> = {
  'transform-property': 'transforms-2d',
  'transform-functions': 'transforms-2d',
  'translate': 'transforms-2d',
  'rotate': 'transforms-2d',
  'scale': 'transforms-2d',
  'skew': 'transforms-2d',
  'matrix': 'transforms-2d',
  'transform-origin': 'transforms-2d',
  'perspective': 'transforms-3d',
  'translate3d': 'transforms-3d',
  'rotate3d': 'transforms-3d',
  'scale3d': 'transforms-3d',
  'transform-style': 'transforms-3d',
  'backface-visibility': 'transforms-3d',
  'transition-property': 'transitions',
  'transition-duration': 'transitions',
  'transition-timing-function': 'transitions',
  'transition-delay': 'transitions',
  'transition-shorthand': 'transitions',
  'transitionable-properties': 'transitions',
  'keyframes': 'animations',
  'animation-name': 'animations',
  'animation-duration': 'animations',
  'animation-timing-function': 'animations',
  'animation-delay': 'animations',
  'animation-iteration-count': 'animations',
  'animation-direction': 'animations',
  'animation-fill-mode': 'animations',
  'animation-play-state': 'animations',
  'animation-shorthand': 'animations',
  'cubic-bezier': 'easing',
  'steps': 'easing',
  'linear-function': 'easing',
};

export const glossaryTerms: Record<string, GlossaryEntry> = {
  transform: {
    zh: '变换',
    description: 'CSS 变换允许在不影响文档流的情况下修改元素的视觉呈现,包括平移、旋转、缩放和倾斜等操作。变换可以是 2D 或 3D 的,通过 transform 属性应用一个或多个变换函数。变换不会触发文档重排,只会触发重绘和合成,因此性能较好。',
    sectionRef: 'transforms#transforms-2d',
  },
  'transform-origin': {
    zh: '变换原点',
    description: '变换原点是元素进行变换操作时的基准点。默认情况下,变换原点位于元素的中心(50% 50%),但可以通过 transform-origin 属性修改。改变变换原点会影响旋转、缩放和倾斜等变换的视觉效果。例如,将原点设置为左上角(0 0)会使旋转围绕左上角进行。',
    sectionRef: 'transforms#transforms-2d',
  },
  perspective: {
    zh: '透视',
    description: '透视是 3D 变换中的关键概念,定义了观察者与 z=0 平面之间的距离。perspective 属性值越小,3D 效果越强烈;值越大,效果越平缓。透视可以应用在父元素上(perspective 属性)或直接应用在变换元素上(perspective() 函数)。透视原点由 perspective-origin 属性控制,决定了 3D 空间的消失点位置。',
    sectionRef: 'transforms#transforms-3d',
  },
  transition: {
    zh: '过渡',
    description: 'CSS 过渡提供了一种在属性值变化时创建平滑动画效果的方式。当元素的 CSS 属性值发生变化时(如通过伪类、JavaScript 或用户交互),过渡会在指定的时间内平滑地从旧值过渡到新值,而不是瞬间改变。过渡可以指定要过渡的属性、持续时间、缓动函数和延迟时间。只有可动画的属性才能应用过渡效果。',
    sectionRef: 'transforms#transitions',
  },
  animation: {
    zh: '动画',
    description: 'CSS 动画通过 @keyframes 规则定义一系列关键帧,创建复杂的动画序列。与过渡不同,动画可以自动播放,不需要状态变化触发。动画可以定义多个关键帧,控制重复次数、播放方向、填充模式等。animation 属性系列提供了对动画各个方面的精细控制,包括名称、持续时间、缓动函数、延迟、迭代次数、方向、填充模式和播放状态。',
    sectionRef: 'transforms#animations',
  },
  '@keyframes': {
    zh: '关键帧',
    description: '@keyframes 规则用于定义 CSS 动画的关键帧序列。通过指定动画在不同时间点的样式,浏览器会自动计算中间帧,创建平滑的动画效果。关键帧可以使用百分比(0%-100%)或关键字(from/to)指定。一个 @keyframes 规则可以包含多个关键帧,每个关键帧定义一组 CSS 属性值。关键帧名称用于在 animation-name 中引用。',
    sectionRef: 'transforms#animations',
  },
  'easing-function': {
    zh: '缓动函数',
    description: '缓动函数(也称为计时函数或时间函数)控制动画或过渡的速率变化,决定了动画如何从起始状态过渡到结束状态。CSS 提供了几种预定义的缓动函数(ease、linear、ease-in、ease-out、ease-in-out),也可以使用 cubic-bezier() 自定义三次贝塞尔曲线,或使用 steps() 创建步进式动画。缓动函数通过改变动画的速度曲线,使动画看起来更自然或更有节奏感。',
    sectionRef: 'transforms#easing',
  },
};

export const propertyTerms: Record<string, PropertyEntry> = {
  'transform-origin': {
    zh: '变换原点属性设置元素进行变换操作时的基准点。该属性接受 1 到 3 个值,分别表示 x、y 和 z 轴上的原点位置。可以使用长度值、百分比或关键字(left、center、right、top、bottom)。默认值为元素的中心点(50% 50% 0)。改变变换原点会显著影响旋转、缩放等变换的视觉效果。例如,将原点设置为 top left 会使旋转围绕左上角进行,而不是默认的中心点。该属性不影响平移变换,因为平移不依赖于原点位置。',
    value: '[ <length-percentage> | left | center | right ] [ <length-percentage> | top | center | bottom ]? <length>?',
    initial: '50% 50% 0',
    appliesTo: '可变换元素(transformable elements)',
    inherited: false,
    percentages: '相对于边界框的尺寸',
    computedValue: '对于长度值,为绝对长度值;对于百分比,为指定值',
    css2Url: '',
    css3Url: 'https://drafts.csswg.org/css-transforms-1/#transform-origin-property',
    sectionRef: 'transforms#transforms-2d',
  },
  'transform-style': {
    zh: '变换样式属性决定元素的子元素是在 3D 空间中定位(preserve-3d)还是在元素的平面中展平(flat)。当设置为 preserve-3d 时,子元素保持其 3D 位置,可以创建真正的 3D 场景效果。设置为 flat 时(默认值),所有子元素被展平到父元素的 2D 平面上。该属性对于构建 3D 场景至关重要,例如创建 3D 立方体、卡片翻转效果等。注意,某些 CSS 属性(如 overflow: hidden、filter、opacity < 1)会强制元素创建层叠上下文,从而覆盖 preserve-3d 效果,导致子元素被展平。',
    value: 'flat | preserve-3d',
    initial: 'flat',
    appliesTo: '可变换元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: '',
    css3Url: 'https://drafts.csswg.org/css-transforms-2/#transform-style-property',
    sectionRef: 'transforms#transforms-3d',
  },
  perspective: {
    zh: '透视属性为元素的子元素定义 3D 透视效果,指定观察者与 z=0 平面之间的距离。该属性应用在父元素上,影响所有子元素的 3D 变换。属性值是一个长度值,表示透视距离。值越小,3D 效果越强烈,对象看起来越扭曲;值越大,透视效果越平缓,接近正交投影。none 值表示不应用透视。透视距离决定了 z 轴位移对元素大小的影响程度:在相同的 z 轴位移下,透视距离越小,元素的大小变化越明显。常用值范围在 400px 到 1000px 之间,具体取决于设计需求。',
    value: 'none | <length>',
    initial: 'none',
    appliesTo: '可变换元素',
    inherited: false,
    percentages: null,
    computedValue: '绝对长度值或 none',
    css2Url: '',
    css3Url: 'https://drafts.csswg.org/css-transforms-2/#perspective-property',
    sectionRef: 'transforms#transforms-3d',
  },
  'perspective-origin': {
    zh: '透视原点属性定义 3D 透视的消失点位置,即观察者的视点位置。该属性应用在父元素上,与 perspective 属性配合使用。接受 1 到 2 个值,分别表示水平和垂直位置。可以使用长度值、百分比或关键字(left、center、right、top、bottom)。默认值为 50% 50%,表示消失点位于元素的中心。改变透视原点会改变 3D 变换的视角,就像移动摄像机的位置一样。例如,设置为 left top 会使视角偏向左上角,看到的 3D 效果会相应变化。该属性对于创建特定视角的 3D 场景非常有用。',
    value: '[ <length-percentage> | left | center | right ] [ <length-percentage> | top | center | bottom ]?',
    initial: '50% 50%',
    appliesTo: '可变换元素',
    inherited: false,
    percentages: '相对于边界框的尺寸',
    computedValue: '对于长度值,为绝对长度值;对于百分比,为指定值',
    css2Url: '',
    css3Url: 'https://drafts.csswg.org/css-transforms-2/#perspective-origin-property',
    sectionRef: 'transforms#transforms-3d',
  },
  'backface-visibility': {
    zh: '背面可见性属性决定元素背面是否可见。当元素通过 3D 旋转使其背面朝向观察者时,该属性控制背面的显示方式。visible(默认值)使背面可见,元素的内容会镜像显示;hidden 使背面不可见,当元素旋转到背面时会变得透明。该属性常用于卡片翻转效果:当卡片旋转时,正面和背面可以分别设置不同的内容和样式,通过 backface-visibility: hidden 确保只有面向观察者的一面可见。注意,该属性只影响元素本身的背面可见性,不影响其子元素。',
    value: 'visible | hidden',
    initial: 'visible',
    appliesTo: '可变换元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: '',
    css3Url: 'https://drafts.csswg.org/css-transforms-2/#backface-visibility-property',
    sectionRef: 'transforms#transforms-3d',
  },
  'transition-property': {
    zh: '过渡属性指定要应用过渡效果的 CSS 属性名称。可以是单个属性名、逗号分隔的多个属性名、all(所有可过渡属性)或 none(不过渡任何属性)。只有可动画的属性(如颜色、长度、数字等)才能应用过渡效果。不可动画的属性(如 display)会被忽略。当指定多个属性时,可以为每个属性设置不同的过渡参数(持续时间、缓动函数、延迟)。使用 all 虽然方便,但可能会导致不必要的属性也产生过渡效果,影响性能。建议明确指定需要过渡的属性,以获得更好的控制和性能。',
    value: 'none | <single-transition-property>#',
    initial: 'all',
    appliesTo: '所有元素,以及 ::before 和 ::after 伪元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: '',
    css3Url: 'https://drafts.csswg.org/css-transitions/#transition-property-property',
    sectionRef: 'transforms#transitions',
  },
  'transition-duration': {
    zh: '过渡持续时间属性指定过渡效果从开始到结束所需的时间。可以使用秒(s)或毫秒(ms)作为单位。默认值为 0s,表示没有过渡效果,属性值会立即改变。当指定多个过渡属性时,可以为每个属性设置不同的持续时间,使用逗号分隔。如果持续时间的数量少于过渡属性的数量,持续时间列表会循环使用。负值会被视为 0s。较短的持续时间(0.1s-0.3s)适合快速反馈,较长的持续时间(0.3s-1s)适合较大的状态变化。过长的持续时间可能使用户感到延迟,影响用户体验。',
    value: '<time>#',
    initial: '0s',
    appliesTo: '所有元素,以及 ::before 和 ::after 伪元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: '',
    css3Url: 'https://drafts.csswg.org/css-transitions/#transition-duration-property',
    sectionRef: 'transforms#transitions',
  },
  'transition-timing-function': {
    zh: '过渡计时函数属性定义过渡效果的速率曲线,控制过渡在持续时间内如何进行。CSS 提供了几种预定义的缓动函数:linear(匀速)、ease(默认值,慢-快-慢)、ease-in(慢速开始)、ease-out(慢速结束)、ease-in-out(慢速开始和结束)。还可以使用 cubic-bezier(x1, y1, x2, y2) 自定义三次贝塞尔曲线,其中 x1、y1、x2、y2 是 0 到 1 之间的数值,定义曲线的两个控制点。steps(n, start|end) 创建步进式过渡,将过渡分为 n 个相等的步骤。选择合适的计时函数可以使动画看起来更自然或更有节奏感。',
    value: '<easing-function>#',
    initial: 'ease',
    appliesTo: '所有元素,以及 ::before 和 ::after 伪元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: '',
    css3Url: 'https://drafts.csswg.org/css-transitions/#transition-timing-function-property',
    sectionRef: 'transforms#transitions',
  },
  'transition-delay': {
    zh: '过渡延迟属性指定过渡效果开始前的等待时间。可以使用秒(s)或毫秒(ms)作为单位。默认值为 0s,表示立即开始过渡。正值会延迟过渡的开始,负值会使过渡立即开始,但从中途开始播放(跳过前面的部分)。当指定多个过渡属性时,可以为每个属性设置不同的延迟时间,使用逗号分隔。如果延迟时间的数量少于过渡属性的数量,延迟列表会循环使用。延迟可以用于创建错落有致的动画效果,使多个元素或属性按顺序过渡,而不是同时改变。',
    value: '<time>#',
    initial: '0s',
    appliesTo: '所有元素,以及 ::before 和 ::after 伪元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: '',
    css3Url: 'https://drafts.csswg.org/css-transitions/#transition-delay-property',
    sectionRef: 'transforms#transitions',
  },
  'animation-name': {
    zh: '动画名称属性指定要应用的 @keyframes 动画的名称。可以是单个名称或逗号分隔的多个名称,用于同时应用多个动画。none 值表示不应用任何动画。名称是大小写敏感的,必须与 @keyframes 规则中定义的名称完全匹配。当指定多个动画时,后面的动画属性(如 duration、timing-function 等)会按照相同的顺序应用到对应的动画上。如果动画属性的数量少于动画名称的数量,属性列表会循环使用。可以动态改变 animation-name 来切换动画,或设置为 none 来停止动画。',
    value: '[ none | <keyframes-name> ]#',
    initial: 'none',
    appliesTo: '所有元素,以及 ::before 和 ::after 伪元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: '',
    css3Url: 'https://drafts.csswg.org/css-animations/#animation-name',
    sectionRef: 'transforms#animations',
  },
  'animation-duration': {
    zh: '动画持续时间属性指定动画完成一个周期所需的时间。可以使用秒(s)或毫秒(ms)作为单位。默认值为 0s,表示没有动画效果。当指定多个动画时,可以为每个动画设置不同的持续时间,使用逗号分隔。如果持续时间的数量少于动画名称的数量,持续时间列表会循环使用。负值会被视为 0s。动画持续时间与 animation-iteration-count 配合使用,决定整个动画序列的总时长。较短的持续时间(0.2s-0.5s)适合微交互,较长的持续时间(1s-3s)适合复杂的动画序列。过长的持续时间可能使用户失去耐心。',
    value: '<time>#',
    initial: '0s',
    appliesTo: '所有元素,以及 ::before 和 ::after 伪元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: '',
    css3Url: 'https://drafts.csswg.org/css-animations/#animation-duration',
    sectionRef: 'transforms#animations',
  },
  'animation-timing-function': {
    zh: '动画计时函数属性定义动画在每个周期内的速率曲线,控制关键帧之间的插值方式。与过渡计时函数类似,可以使用预定义的缓动函数(linear、ease、ease-in、ease-out、ease-in-out)、cubic-bezier() 自定义曲线或 steps() 步进函数。该属性应用于整个动画周期,也可以在 @keyframes 规则的各个关键帧中单独指定,覆盖全局设置。当指定多个动画时,可以为每个动画设置不同的计时函数。选择合适的计时函数可以使动画更加流畅自然,或创建特殊的节奏效果。例如,使用 ease-out 可以使动画在结束时减速,创建更真实的物理效果。',
    value: '<easing-function>#',
    initial: 'ease',
    appliesTo: '所有元素,以及 ::before 和 ::after 伪元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: '',
    css3Url: 'https://drafts.csswg.org/css-animations/#animation-timing-function',
    sectionRef: 'transforms#animations',
  },
  'animation-delay': {
    zh: '动画延迟属性指定动画开始前的等待时间。可以使用秒(s)或毫秒(ms)作为单位。默认值为 0s,表示立即开始动画。正值会延迟动画的开始,负值会使动画立即开始,但从中途开始播放(跳过前面的部分)。例如,animation-delay: -1s 会使 3 秒的动画从第 1 秒的状态开始播放。当指定多个动画时,可以为每个动画设置不同的延迟时间。延迟只影响动画的第一次播放,后续的迭代不受延迟影响。动画延迟可以用于创建序列动画效果,使多个元素或动画按顺序开始,而不是同时播放。',
    value: '<time>#',
    initial: '0s',
    appliesTo: '所有元素,以及 ::before 和 ::after 伪元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: '',
    css3Url: 'https://drafts.csswg.org/css-animations/#animation-delay',
    sectionRef: 'transforms#animations',
  },
  'animation-iteration-count': {
    zh: '动画迭代次数属性指定动画播放的次数。可以是一个数字(包括小数,如 2.5 表示播放 2 次半)或 infinite(无限循环)。默认值为 1,表示只播放一次。当设置为 0 或负值时,动画不会播放。小数值允许动画在中途停止,例如 0.5 会使动画播放到一半。infinite 值使动画无限重复,常用于加载指示器、背景动画等需要持续播放的场景。当指定多个动画时,可以为每个动画设置不同的迭代次数。动画迭代次数与 animation-duration 相乘,得到动画的总播放时长。',
    value: '<single-animation-iteration-count>#',
    initial: '1',
    appliesTo: '所有元素,以及 ::before 和 ::after 伪元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: '',
    css3Url: 'https://drafts.csswg.org/css-animations/#animation-iteration-count',
    sectionRef: 'transforms#animations',
  },
  'animation-direction': {
    zh: '动画方向属性指定动画是正向播放、反向播放还是交替播放。normal(默认值)表示每次迭代都正向播放(从 0% 到 100%);reverse 表示每次迭代都反向播放(从 100% 到 0%);alternate 表示奇数次迭代正向播放,偶数次迭代反向播放;alternate-reverse 表示奇数次迭代反向播放,偶数次迭代正向播放。交替播放模式可以创建来回往复的动画效果,常用于钟摆、呼吸灯等动画。该属性与 animation-iteration-count 配合使用,特别是在迭代次数大于 1 时才能体现交替效果。当指定多个动画时,可以为每个动画设置不同的播放方向。',
    value: '<single-animation-direction>#',
    initial: 'normal',
    appliesTo: '所有元素,以及 ::before 和 ::after 伪元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: '',
    css3Url: 'https://drafts.csswg.org/css-animations/#animation-direction',
    sectionRef: 'transforms#animations',
  },
  'animation-fill-mode': {
    zh: '动画填充模式属性定义动画在执行前和执行后如何应用样式。none(默认值)表示动画不影响动画之外的时间,元素保持原始样式;forwards 表示动画结束后,元素保持最后一个关键帧的样式;backwards 表示在动画延迟期间,元素应用第一个关键帧的样式;both 表示同时应用 forwards 和 backwards 的效果。该属性对于创建平滑的状态转换非常重要。例如,设置为 forwards 可以使元素在动画结束后保持动画的最终状态,而不是突然跳回原始状态。与 animation-delay 配合使用时,backwards 可以在延迟期间提前显示动画的起始状态。',
    value: '<single-animation-fill-mode>#',
    initial: 'none',
    appliesTo: '所有元素,以及 ::before 和 ::after 伪元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: '',
    css3Url: 'https://drafts.csswg.org/css-animations/#animation-fill-mode',
    sectionRef: 'transforms#animations',
  },
  'animation-play-state': {
    zh: '动画播放状态属性控制动画的播放和暂停。running(默认值)表示动画正在播放;paused 表示动画已暂停。该属性可以用于通过 JavaScript 或 CSS 伪类(如 :hover)动态控制动画的播放状态。当动画暂停时,它会停留在当前帧,而不是跳到开始或结束位置。再次设置为 running 时,动画会从暂停的位置继续播放。这对于创建可交互的动画非常有用,例如鼠标悬停时暂停轮播图、点击按钮控制加载动画等。当指定多个动画时,可以为每个动画独立控制播放状态。',
    value: '<single-animation-play-state>#',
    initial: 'running',
    appliesTo: '所有元素,以及 ::before 和 ::after 伪元素',
    inherited: false,
    percentages: null,
    computedValue: '指定值',
    css2Url: '',
    css3Url: 'https://drafts.csswg.org/css-animations/#animation-play-state',
    sectionRef: 'transforms#animations',
  },
};
