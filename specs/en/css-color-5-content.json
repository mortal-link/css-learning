{
  "specName": "css-color-5",
  "extractedAt": "2026-02-06T03:06:34.920Z",
  "totalSections": 26,
  "coreSections": 19,
  "sections": {
    "sotd": {
      "id": "sotd",
      "heading": "Status of this document",
      "content": "This section describes the status of this document at the time of its publication.\n A list of current W3C publications\n and the latest revision of this technical report\n can be found in the [W3C standards and drafts index.](https://www.w3.org/TR/) \n\n \n This document was published\n by the [CSS Working Group](https://www.w3.org/groups/wg/css) as a Working Draft using the [Recommendation\n track](https://www.w3.org/policies/process/20250818/#recs-and-notes).\n Publication as a Working Draft\n does not imply endorsement by W3C and its Members. \n\n \n This is a draft document\n and may be updated, replaced\n or obsoleted by other documents at any time.\n It is inappropriate to cite this document as other than a work in progress. \n\n \nPlease send feedback\n by [filing issues in GitHub](https://github.com/w3c/csswg-drafts/issues) (preferred),\n including the spec code “css-color” in the title, like this:\n “[css-color] …summary of comment…”.\n All issues and comments are [archived](https://lists.w3.org/Archives/Public/public-css-archive/).\n Alternately, feedback can be sent to the ([archived](https://lists.w3.org/Archives/Public/www-style/)) public mailing list [www-style@w3.org](mailto:www-style@w3.org?Subject=%5Bcss-color%5D%20PUT%20SUBJECT%20HERE). \n\n \nThis document is governed by the [18 August 2025 W3C Process Document](https://www.w3.org/policies/process/20250818/). \n\n \nThis document was produced by a group operating under the [W3C Patent Policy](https://www.w3.org/policies/patent-policy/20200915/).\n W3C maintains a [public list of any patent disclosures](https://www.w3.org/groups/wg/css/ipr) made in connection with the deliverables of the group;\n that page also includes instructions for disclosing a patent.\n An individual who has actual knowledge of a patent that the individual believes\n contains [Essential Claim(s)](https://www.w3.org/policies/patent-policy/20200915/#def-essential) must disclose the information in accordance with [section 6 of the W3C Patent Policy](https://www.w3.org/policies/patent-policy/20200915/#sec-Disclosure).",
      "rawLength": 2500
    },
    "intro": {
      "id": "intro",
      "heading": "1. Introduction",
      "content": "This section is not normative.\n\n \nThis module adds the new functions [contrast-color()](#funcdef-contrast-color), [color-mix()](#funcdef-color-mix) and [light-dark()](#funcdef-light-dark),\n and extends existing ones with [relative color syntax](#relative-colors).\n\n \nIt also extends the [color()](#funcdef-color) function\n so that not only predefined color spaces,\n but also custom color spaces defined by ICC profiles\n (including calibrated CMYK)\n can be used in CSS.\n\n \nIt also adds device-cmyk,\n a representation of\n uncalibrated cmyk color.",
      "rawLength": 935
    },
    "color-syntax": {
      "id": "color-syntax",
      "heading": "2. The &lt;color> syntax",
      "content": "Colors in CSS are represented by the **[<color>](#typedef-color)** type:\n\n```\n<color> = [<color-base>](#typedef-color-base) [|](https://www.w3.org/TR/css-values-4/#comb-one) currentColor [|](https://www.w3.org/TR/css-values-4/#comb-one) [<system-color>](https://www.w3.org/TR/css-color-4/#typedef-system-color) [|](https://www.w3.org/TR/css-values-4/#comb-one) \n [<contrast-color()>](#funcdef-contrast-color) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<device-cmyk()>](#funcdef-device-cmyk) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<light-dark()>](#funcdef-light-dark)\n\n**<color-base>** = [<hex-color>](https://www.w3.org/TR/css-color-4/#typedef-hex-color) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<color-function>](#typedef-color-function) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<named-color>](https://www.w3.org/TR/css-color-4/#typedef-named-color) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<color-mix()>](#funcdef-color-mix) [|](https://www.w3.org/TR/css-values-4/#comb-one) transparent\n**<color-function>** = [<rgb()>](https://www.w3.org/TR/css-color-4/#funcdef-rgb) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<rgba()>](https://www.w3.org/TR/css-color-4/#funcdef-rgba) [|](https://www.w3.org/TR/css-values-4/#comb-one)\n [<hsl()>](https://www.w3.org/TR/css-color-4/#funcdef-hsl) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<hsla()>](https://www.w3.org/TR/css-color-4/#funcdef-hsla) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<hwb()>](#funcdef-hwb) [|](https://www.w3.org/TR/css-values-4/#comb-one)\n [<lab()>](#funcdef-lab) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<lch()>](#funcdef-lch) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<oklab()>](#funcdef-oklab) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<oklch()>](#funcdef-oklch) [|](https://www.w3.org/TR/css-values-4/#comb-one)\n [<alpha()>](#funcdef-alpha) [|](https://www.w3.org/TR/css-values-4/#comb-one)\n [<color()>](#funcdef-color)\n\n```\n\n \nAn **absolute color** is a [<color>](#typedef-color) whose computed value\n has an absolute, colorimetric interpretation.\n This means that the value is not:\n\n \n\n \n \n[currentColor](https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor) (which depends on the value of the [color](https://www.w3.org/TR/css-color-4/#propdef-color) property)\n\n \n \na [<system-color>](https://www.w3.org/TR/css-color-4/#typedef-system-color) (which depends on the color mode)\n\n \n \n[<light-dark()>](#funcdef-light-dark) (which depends on the color mode)\n\n \n \n[<contrast-color()>](#funcdef-contrast-color) (which depends on the color mode)\n\n \n \n[<device-cmyk()>](#funcdef-device-cmyk) (which has no colorimetric basis)\n\n \n\n \nNor are any of those values used inside [<color-mix()>](#funcdef-color-mix) or in relative color syntax.\n\n \nThe colors that **resolve to sRGB** are:\n\n \n\n \n \n[hex](https://www.w3.org/TR/css-color-4/#hex-notation) colors\n\n \n \n[rgb()](https://www.w3.org/TR/css-color-4/#funcdef-rgb) and [rgba()](https://www.w3.org/TR/css-color-4/#funcdef-rgba) values, including relative colors\n\n \n \n[hsl()](https://www.w3.org/TR/css-color-4/#funcdef-hsl) and [hsla()](https://www.w3.org/TR/css-color-4/#funcdef-hsla) values, including relative colors\n\n \n \n[hwb()](#funcdef-hwb) values, including relative colors\n\n \n \n[named](https://www.w3.org/TR/css-color-4/#named-colors) colors\n\n \n\n \nThe functions that **support legacy color syntax** are:\n\n \n\n \n \n[rgb()](https://www.w3.org/TR/css-color-4/#funcdef-rgb) and [rgba()](https://www.w3.org/TR/css-color-4/#funcdef-rgba)\n\n \n \n[hsl()](https://www.w3.org/TR/css-color-4/#funcdef-hsl) and [hsla()](https://www.w3.org/TR/css-color-4/#funcdef-hsla)\n\n \n\n \nThe [<hsl()>](https://www.w3.org/TR/css-color-4/#funcdef-hsl), [<hsla()>](https://www.w3.org/TR/css-color-4/#funcdef-hsla), [<hwb()>](#funcdef-hwb), [<lch()>](#funcdef-lch), and [<oklch()>](#funcdef-oklch) [color functions](https://drafts.csswg.org/css-color-4/#color-functions) are [cylindrical polar color](https://www.w3.org/TR/css-color-4/#cylindrical-polar-color) representations using a [<hue>](https://www.w3.org/TR/css-color-4/#typedef-hue) angle;\n the other color functions use [rectangular orthogonal color](https://www.w3.org/TR/css-color-4/#rectangular-orthogonal-color) representations.",
      "rawLength": 10393
    },
    "color-mix": {
      "id": "color-mix",
      "heading": "3. Mixing Colors: the color-mix() Function",
      "content": "Web developers, design tools and design system developers\n often use color functions to assist in scaling the design\n of their component color relations.\n With the increasing usage of design systems that support multiple platforms\n and multiple user preferences, like the increased capability of Dark Mode in UI,\n this becomes even more useful to not need to manually set color,\n and to instead have a single source from which schemes are calculated.\n\n \n \n \n\n Above, a color picker operating in CIE LCH space.\n Here, a pair of colors are being used\n to define a color scale\n on the Chroma-Lightness plane (constant Hue).\n Below, the color scale in use on a choropleth map. \n \n \nCurrently Sass, calc() on HSL values, or PostCSS is used to do this.\n However, preprocessors are unable to work on dynamically adjusted colors;\n all current solutions are restricted to the sRGB gamut\n and to the perceptual limitations of HSL\n (colors are bunched up in the color wheel,\n and two colors with visually different lightness,\n like yellow and blue, can have the same HSL lightness).\n\n \nTo meet this need, the color-mix() function takes\n a list of one or more [<color>](#typedef-color) specifications\n and returns the result of mixing them,\n in a given [<color-space>](#typedef-color-space),\n in the specified amounts.\n\n```\n**color-mix()** = color-mix( [<color-interpolation-method>](#color-interpolation-method)[?](https://www.w3.org/TR/css-values-4/#mult-opt) [,](https://www.w3.org/TR/css-values-4/#comb-comma) [ [<color>](#typedef-color) [&&](https://www.w3.org/TR/css-values-4/#comb-all) [<percentage [0,100]>](https://www.w3.org/TR/css-values-4/#percentage-value)[?](https://www.w3.org/TR/css-values-4/#mult-opt) ][#](https://www.w3.org/TR/css-values-4/#mult-comma))\n\n```\n\n \n Tests\n \n\n [color-computed-color-mix-function.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-color-mix-function.html) [(live test)](http://wpt.live/css/css-color/parsing/color-computed-color-mix-function.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-color-mix-function.html)\n [color-valid-color-mix-function.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html) [(live test)](http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html)\n \n\n \n 3.1. Colorspace for mixing [](#color-mix-space)\n \nIf no color interpolation method is specified, assume Oklab.\nOtherwise, use the specified colorspace for mixing.\n\n 3.2. Percentage Normalization [](#color-mix-percent-norm)\n \nPercentages are required to be in the range 0% to 100%.\n Negative percentages are specifically disallowed.\n Percentages are normalized by [normalizing mix percentages](https://drafts.csswg.org/css-values-5/#normalize-mix-percentages).\n\n \n Tests\n \n\n [color-mix-percents-01.html](https://wpt.fyi/results/css/css-color/color-mix-percents-01.html) [(live test)](http://wpt.live/css/css-color/color-mix-percents-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-percents-01.html)\n [color-mix-percents-02.html](https://wpt.fyi/results/css/css-color/color-mix-percents-02.html) [(live test)](http://wpt.live/css/css-color/color-mix-percents-02.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-percents-02.html)\n \n\n \n \n [](#ex-mix-syntactic) These syntactic forms are thus all equivalent: \n\n```\ncolor-mix(in lch, purple 50%, plum 50%)\ncolor-mix(in lch, purple 50%, plum)\ncolor-mix(in lch, purple, plum 50%)\ncolor-mix(in lch, purple, plum)\ncolor-mix(in lch, plum, purple)\ncolor-mix(in lch, purple 80%, plum 80%)\n\n```\n\n \nAll produce a 50-50 mix of purple and plum,\n in lch: lch(51.51% 52.21 325.8) which is rgb(68.51% 36.01% 68.29%).\n\n \nHowever, this form is not the same, as the alpha is less than one:\n\n```\ncolor-mix(in lch, purple 30%, plum 30%)\n\n```\n\n \nThis produces lch(51.51% 52.21 325.8 / 0.6) which is rgb(68.51% 36.01% 68.29% / 0.6).\n\n \n 3.3. Calculating the Result of color-mix [](#color-mix-result)\n \n To **calculate a color-mix()**: \n \n\n \n \n[Normalize mix percentages](https://drafts.csswg.org/css-values-5/#normalize-mix-percentages) from the list of [mix items](https://drafts.csswg.org/css-values-5/#mix-item) passed to the function,\nwith the \"forced normalization\" flag set to true,\nletting items and leftover be the result.\n\n \n \nIf leftover is 100%,\nreturn [transparent black](https://www.w3.org/TR/css-color-4/#transparent-black),\nconverted to the specified interpolation [<color-space>](#typedef-color-space).\n\n \n \nLet alpha mult be 1 - leftover,\ninterpreting leftover as a number between 0 and 1.\n\n \n \nIf items is length 1,\nset color to the color of that sole item,\nconverted to the specified interpolation [<color-space>](#typedef-color-space).\n\n \nOtherwise:\n\n \n\n \n \nLet item stack be a [stack](https://infra.spec.whatwg.org/#stack) made by reversing items.\n(Thus, with the first item at the top of the stack.)\n\n \n \nWhile item stack has length 2 or greater:\n\n \n\n \n \n[Pop](https://infra.spec.whatwg.org/#stack-pop) from item stack twice,\nletting a and b be the two results in order.\nLet combined percentage be the sum of a and b’s percentages.\n\n \n \nInterpolate a and b’s colors\nas described in [CSS Color 4 §  12. Color Interpolation](https://www.w3.org/TR/css-color-4/#interpolation),\nwith a progress percentage equal to (b’s percentage) / combined percentage).\nIf the specified color space is a [cylindrical polar color](https://www.w3.org/TR/css-color-4/#cylindrical-polar-color) space,\nthen the [<hue-interpolation-method>](#typedef-hue-interpolation-method) controls the\ninterpolation of hue, as described in [CSS Color 4 § 12.4 Hue Interpolation](https://www.w3.org/TR/css-color-4/#hue-interpolation).\nIf no <hue-interpolation-method> is specified,\nassume shorter.\n\n \n \nCreate a new [mix item](https://drafts.csswg.org/css-values-5/#mix-item) with the resulting color\nand a percentage of combined percentage,\nand [push](https://infra.spec.whatwg.org/#stack-push) it onto item stack.\n\n \n\n \n \nSet color to the color of the sole remaining item in item stack.\n\n \n\n \n \nMultiply the alpha component of color by alpha mult.\n\n \n \nReturn color.\n\n \n\n \nNote: In [cylindrical polar color](https://www.w3.org/TR/css-color-4/#cylindrical-polar-color) spaces,\n mixing is order-dependent,\n as which direction is “shorter” or “longer” around the hue circle\n can change depending on what other mixes have already been performed.\n This algorithm mixes each color in the specified order,\n mixing the result with the next in the list.\n For [rectangular orthogonal color](https://www.w3.org/TR/css-color-4/#rectangular-orthogonal-color) spaces,\n the order doesn’t matter,\n and the process can be simplified.\n\n \n \n Tests\n \n\n [color-mix-basic-001.html](https://wpt.fyi/results/css/css-color/color-mix-basic-001.html) [(live test)](http://wpt.live/css/css-color/color-mix-basic-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-basic-001.html)\n [color-mix-missing-components.html](https://wpt.fyi/results/css/css-color/color-mix-missing-components.html) [(live test)](http://wpt.live/css/css-color/color-mix-missing-components.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-missing-components.html)\n [color-mix-non-srgb-001.html](https://wpt.fyi/results/css/css-color/color-mix-non-srgb-001.html) [(live test)](http://wpt.live/css/css-color/color-mix-non-srgb-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-non-srgb-001.html)\n [color-computed-color-mix-function.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-color-mix-function.html) [(live test)](http://wpt.live/css/css-color/parsing/color-computed-color-mix-function.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-color-mix-function.html)\n [color-invalid-color-mix-function.html](https://wpt.fyi/results/css/css-color/parsing/color-invalid-color-mix-function.html) [(live test)](http://wpt.live/css/css-color/parsing/color-invalid-color-mix-function.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-color-mix-function.html)\n [color-valid-color-mix-function.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html) [(live test)](http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html)\n [color-mix-out-of-gamut.html](https://wpt.fyi/results/css/css-color/parsing/color-mix-out-of-gamut.html) [(live test)](http://wpt.live/css/css-color/parsing/color-mix-out-of-gamut.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-mix-out-of-gamut.html)\n [2d.fillStyle.colormix.html](https://wpt.fyi/results/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html) [(live test)](http://wpt.live/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html)\n [2d.fillStyle.colormix.currentcolor.html](https://wpt.fyi/results/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html) [(live test)](http://wpt.live/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html)\n [2d.strokeStyle.colormix.html](https://wpt.fyi/results/html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html) [(live test)](http://wpt.live/html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html)\n \n\n \n \n [](#ex-mix-lch-peru40) This example produces a mixture of 40% peru\n and 60% palegoldenrod. \n\n```\ncolor-mix(in lch, peru 40%, palegoldenrod)\n```\n\n \nThe mixing is done in [lch](https://www.w3.org/TR/css-color-4/#valdef-lch-lch) color space.\n Here is a top-down view, looking along the neutral L axis:\n\n \n \n \nA mixture of two colors, and the mixed output.\n We are looking down the CIE L axis onto the ab plane.\n There are two axes, labelled a and b which cross at the origin,\n which is in the centre of the plot.\n\n \n Mixtures of peru and palegoldenrod in CIE LCH.\n Peru has a hue angle, measured from the positive a axis,\n of 63.677 degrees\n while palegoldenrod has a hue angle of 98.834 degrees.\n Peru has a chroma, or distance from the central neutral axis, of 54.011\n while palegoldenrod has a chroma of 31.406.\n All possible mixtures lie along the curve. A 40%/60% mixture is shown. \n \n \nThe calculation is as follows:\n\n \n\n \n \n peru is lch(62.253% 54.011 63.677)\n\n \n \n palegoldenrod is lch(91.374% 31.406 98.834)\n\n \n \nthe mixed lightness is 62.253 * 40/100 + 91.374 * (100-40)/100 = 79.7256\n\n \n \nthe mixed chroma is 54.011 * 40/100 + 31.406 * (100-40)/100 = 40.448\n\n \n \nthe mixed hue is 63.677 * 40/100 + 98.834 * (100-40)/100 = 84.771\n\n \n \nthe mixed result is lch(79.7256% 40.448 84.771)\n\n \n\n \n \n [](#ex-mix-lch-teal65) This example produces the mixture of teal and olive,\n in [lch](https://www.w3.org/TR/css-color-4/#valdef-lch-lch) color space,\n with each lch component being 65% of the value for teal\n and 35% of the value for olive. \n \nNote: interpolating on hue and chroma\n keeps the intermediate colors\n as saturated as the endpoint colors.\n\n```\ncolor-mix(in lch, teal 65%, olive);\n```\n\n \n \n \nA mixture of two colors, and the mixed output.\n We are looking down the CIE L axis onto the ab plane.\n There are two axes, labelled a and b which cross at the origin,\n which is in the centre of the plot. \n\n \n Mixtures of teal and olive.\n Teal has a hue angle, measured from the positive a axis,\n of 196.4524 degrees\n while olive has a hue angle of 99.5746 degrees.\n Teal has a chroma, or distance from the central neutral axis, of 31.6903\n while olive has a chroma of 56.8124.\n Mixtures lie along the dashed curve. A 65%/35% mixture is shown. \n \n \nThe calculation is as follows:\n\n \n\n \n \nsRGB teal (#008080) is lch(47.9855% 31.6903 196.4524)\n\n \n \nsRGB olive (#808000) is lch(52.1496% 56.8124 99.5746)\n\n \n \nmixed lightness is 47.9855 * 0.65 + 52.1496 * 0.35 = 49.4429\n\n \n \nmixed chroma is 31.6903 * 0.65 + 56.8124 * 0.35 = 40.4830\n\n \n \nmixed hue is 196.4524 * 0.65 + 99.5746 * 0.35 = 162.5452\n\n \n \nmixed result is lch(49.4429% 40.4830 162.5452)\n\n \n \nwhich is a slightly-blueish green: rgb(7.7377% 52.5730% 37.3213%)\n\n \n\n \n \n [](#ex-mix-zero-sum) In this example, both percentages are zero, so their sum is also zero: \n\n```\ncolor-mix(in oklch, teal 0%, olive 0%);\n```\n\n \nThus, the result is transparent black, in the [oklch](https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch) color space: oklch(0% 0 none / 0)\n\n \n 3.4. Effect of Mixing Color Space on color-mix [](#color-mix-color-space-effect)\n \nThe choice of mixing color space can have a large effect on the end result.\n\n \n [](#ex-mix-colorspaces-black-white) This example is a 50% mix of white and black,\n in three different color spaces. \n\n```\ncolor-mix(in lch, white, black);\ncolor-mix(in xyz, white, black);\ncolor-mix(in srgb, white, black);\n\n```\n\n \nThe calculation is as follows:\n\n \n\n \n \nsRGB white (#FFF) is lch(100% 0 0)\n\n \n \nsRGB black (#000) is lch(0% 0 0)\n\n \n \nThe mix in LCH is lch(50% 0 0)\n\n \n \nThe mix in XYZ is lch(76% 0 0)\n\n \n \nThe mix in sRGB is lch(53.4% 0 0)\n\n \n\n \nThe mix in LCH gives an L value of 50%,\n a perfect mid gray, exactly as expected\n (mixing in Lab would do the same,\n as the Lightness axis is the same in LCH and Lab).\n\n \nThe mix in XYZ gives a result that is too light;\n XYZ is linear-light but is not perceptually uniform.\n The mix in sRGB gives a result that is a bit too light;\n sRGB is neither perceptually uniform nor linear-light.\n\n \n \n [](#ex-mix-xyz) This example produces the mixture of\n the a red and a sky blue,\n in [xyz](https://www.w3.org/TR/css-color-4/#valdef-color-xyz) color space,\n with the mixture being 75.23% of that of the red\n (and thus, 24.77% of that of the blue). \n\n```\ncolor-mix(in xyz, rgb(82.02% 30.21% 35.02%) 75.23%, rgb(5.64% 55.94% 85.31%));\n```\n\n \nThe calculation is as follows:\n\n \n\n \n \n rgb(82.02% 30.21% 35.02%) is lch(52% 58.1 22.7) which is X=0.3214, Y=0.2014, Z=0.0879.\n\n \n \n rgb(5.64% 55.94% 85.31%) is lch(56% 49.1 257.1) which is X=0.2070, Y=0.2391, Z=0.5249.\n\n \n \nmixed result X=(0.3214 * 0.7523) + (0.2070 * (1 - 0.7523)) = 0.29306.\n\n \n \nmixed result Y=(0.2014 * 0.7523) + (0.2391 * (1 - 0.7523)) = 0.21074.\n\n \n \nmixed result Z=(0.0879 * 0.7523) + (0.5249 * (1 - 0.7523)) = 0.19614.\n\n \n \nmix result is lch(53.0304% 38.9346 352.8138) which is rgb(72.300% 38.639% 53.557%)\n\n \n\n \n \n [](#ex-mix-blue-white) \n \nThis example is a 50% mix of white and blue,\n in three different color spaces.\n\n```\ncolor-mix(in lch, white, blue);\ncolor-mix(in oklch, white, blue);\ncolor-mix(in srgb, white, blue);\n\n```\n\n \nThe calcuation is as follows:\n\n \n\n \n \n white\nis rgb(100% 100% 100%)\nwhich is lch(100% 0 none)\nwhich is oklch(100% 0 none)\n\n \n \n blue\nis rgb(0% 0% 100%)\nwhich is lch(29.5683% 131.201 301.364)\nwhich is oklch(45.201% 0.31321 264.052)\n\n \n \n mix\nin lch is lch(64.7841% 65.6008 301.364) which is quite purple\n\n \n \n mix\nin oklch is oklch(72.601% 0.15661 264.052)\n\n \n \n mix\nin srgb is rgb(50% 50% 100%) which is also a bit purple\n\n \n\n \n \n [](#ex-hsl-gamut-map) This example is a mix of two colors,\n in [hsl](https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl) color space,\n where one of the colors to be mixed\n is outside the [sRGB](https://www.w3.org/TR/css-color-4/#valdef-color-srgb) gamut. \n\n```\ncolor-mix(in hsl, color(display-p3 0 1 0) 80%, yellow);\n\n```\n\n \nThe calcuation is as follows:\n\n \n\n \n \n color(display-p3 0 1 0)\nis color(srgb -0.5116 1.01827 -0.3107) which is outside the sRGB gamut\n\n \n \nConverted to [hsl](https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl) hsl(127.879 301.946 25.334)\n\n \n \n yellow is hsl(60 100% 50%)\n\n \n \nthe hue is 127.879 × 0.8 + 60 × 0.2 = 114.3032\n\n \n \nthe saturation is 301.946 × 0.8 + 100 × 0.2 = 261.5568\n\n \n \nthe lightness is 25.334 × 0.8 + 50 × 0.2 = 30.2672\n\n \n \nthe mixed result is hsl(114.3032 261.5568 30.2672) which is color(srgb -0.3387 1.0943 -0.48899)\n\n \n\n \n \n [](#ex-device-cmyk-mix) [device-cmyk()](#funcdef-device-cmyk) can be used in [color-mix()](#funcdef-color-mix) but the result will depend on how the implementation\n chooses to obtain a computed value. \n\n```\ncolor-mix(in lab, device-cmyk(0.091777 0.043303 0.312816 0.000000) 100%, yellow);\n\n```\n\n \nSince the first color is at 100%,\n the second color is 0% and does not affect the mixed result in any way.\n The result is thus the computed value of the first color,\n in CIE Lab.\n\n \nTo visualize the result,\n let us say that the device CMYK values \n are in fact to be printed using SWOP 2006 coated.\n\n \n\n \n \n device-cmyk(0.091777 0.043303 0.312816 0.000000) is lab(91.44% 4.142 20.52)\n\n \n\n \nSuppose the implementation uses an ICC profile\n to obtain [lab()](#funcdef-lab) colors,\n and in this example a FOGRA39 Coated profile is used:\n\n \n\n \n \n device-cmyk(0.091777 0.043303 0.312816 0.000000) is lab(91.840596 -3.559090 20.449159)\n\n \n \nThe deltaE 2000 between this and the original printed color\nis 8.17 which is clearly visible.\n\n \n\n \nNow suppose another implementation uses\n the naive color conversion algorithm,\n giving an sRGB result.\n\n \n\n \n \n device-cmyk(0.091777 0.043303 0.312816 0.000000) is rgb(90.8223% 95.6697% 68.7184%)\nwhich is lab(94.02% -12.31 31.79)\n\n \n \nThe deltaE 2000 between this and the original printed color\nis 14.3 which is very visible.\n\n \n\n \n 3.5. Effect of Non-Unity Alpha on color-mix [](#color-mix-with-alpha)\n \nSo far, all the [color-mix()](#funcdef-color-mix) examples\nhave used fully opaque colors.\nTo simplify the examples,\nthe [premultilication](https://www.w3.org/TR/css-color-4/#premultiplied) and unpremultiplication steps\nwere omitted\nbecause these would simply multiply by 1, and divide by 1,\nso the result would be unchanged.\n\n \nIn the general case,\ncolors may have non-unity alpha components\nand thus the [premultiply](https://www.w3.org/TR/css-color-4/#premultiplied), interpolate, unpremultiply steps\nmust not be omitted.\n\n \n [](#ex-premultiply-srgb) This example is 25% semi-opaque red\n and 75% semi-opaque green.\n mixed in sRGB.\n Both the correct ([premultiplied](https://www.w3.org/TR/css-color-4/#premultiplied))\n and incorrect (non-premultiplied)\n workings are shown. \n\n```\ncolor-mix(in srgb, rgb(100% 0% 0% / 0.7) 25%, rgb(0% 100% 0% / 0.2));\n\n```\n\n \nThe calcuation is as follows:\n\n \n\n \n \n rgb(100% 0% 0% / 0.7)\nwhen premultiplied, is [0.7, 0, 0]\n\n \n \n rgb(0% 100% 0% / 0.2)\nwhen premultiplied, is [0, 0.2, 0]\n\n \n \nthe premultiplied, interpolated result is\n[0.7 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 0.2 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]\nwhich is [0.175, 0.150, 0]\n\n \n \nthe interpolated alpha is 0.7 * 0.25 + 0.2 * (1 - 0.25) = 0.325\n\n \n \nthe un-premultiplied result is\n[0.175 / 0.325, 0.150 / 0.325, 0 / 0.325]\nwhich is [0.53846, 0.46154, 0]\n\n \n \nso the mixed color is color(srgb 0.53846 0.46154 0 / 0.325)\n\n \n\n \nThe incorrect calculation would be:\n\n \n\n \n \nthe interpolated result is\n[1 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 1 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]\nwhich is [0.25, 0.75, 0]\n\n \n \nso the incorrect mixed color is color(srgb 0.25 0.75 0 / 0.325)\n\n \n\n \nThis is a huge difference; the ΔE2000 between the correct and incorrect results is 30.7!\n\n \n \nWhen the percentage normalization generates an alpha multiplier,\nthe calculation is the same except for an additional last step.\n\n \n [](#ex-premultiply-srgb-2) This example is similar to the previous one,\n 25% semi-opaque red\n and 75% semi-opaque green.\n mixed in sRGB. \n \nHowever in this case the percentages are specified as\n 20% of the first color and 60% of the second.\n This adds to 80% so the alpha multiplier is 0.8.\n\n \nThe mix percentages are then scaled\n by a factor of 100/80: 20% * 100/80 = 25% 60% * 100/80 = 75% giving the same final mix percentages as the previous example.\n\n```\ncolor-mix(in srgb, rgb(100% 0% 0% / 0.7) 20%, rgb(0% 100% 0% / 0.2) 60%);\n\n```\n\n \nThe calcuation is as follows:\n\n \n\n \n \n rgb(100% 0% 0% / 0.7)\nwhen premultiplied, is [0.7, 0, 0]\n\n \n \n rgb(0% 100% 0% / 0.2)\nwhen premultiplied, is [0, 0.2, 0]\n\n \n \nthe premultiplied, interpolated result is\n[0.7 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 0.2 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]\nwhich is [0.175, 0.150, 0]\n\n \n \nthe interpolated alpha is 0.7 * 0.25 + 0.2 * (1 - 0.25) = 0.325\n\n \n \nthe un-premultiplied result is\n[0.175 / 0.325, 0.150 / 0.325, 0 / 0.325]\nwhich is [0.53846, 0.46154, 0]\n\n \n \nso the mixed color would be color(srgb 0.53846 0.46154 0 / 0.325)\n\n \n \nthere is a 0.8 alpha multiplier,\nso the alpha of the mixed result is actually 0.325 * 0.8 = 0.260\nso the mixed color is actually color(srgb 0.53846 0.46154 0 / 0.260)\n\n \n\n \n \nNote: do not multiply the interpolated alpha by the alpha multiplier\nand then use that to undo premultiplication.\nThat would be correct if the mix percentages were not scaled to sum to 100%,\nbut they are, so doing it this way would adjust the mixed color twice.",
      "rawLength": 39247
    },
    "relative-colors": {
      "id": "relative-colors",
      "heading": "4.  Relative Colors",
      "content": "4.1. Processing Model for Relative Colors [](#rcs-intro)\n \nIn previous levels of this specification,\nthe color functions could only specify colors in an absolute manner,\nby directly specifying all of the color components.\n\n \nThe new **relative color** syntax\nextends [modern color syntax](https://www.w3.org/TR/css-color-4/#modern-color-syntax) to allow existing colors to be modified\nusing the color functions:\nif an **origin color** is specified,\nthen each color component\n(and the alpha component, if specified)\ncan either be directly specified,\nor taken from the origin color\n(and possibly modified with [math functions](https://www.w3.org/TR/css-values-4/#math-function)).\n\n \nThe origin color and the relative color need not use the same color function.\n\n \n**Required conversion**:\nAll operations take part in the [color space](https://www.w3.org/TR/css-color-4/#color-space) of the [relative color](#relative-color) function;\nif the **originally specified color space** for the [origin color](#origin-color) used a different color function,\nit’s first converted into the chosen color function,\nso it has meaningful values for the components,\nand [component keywords](#component-keyword) refer to the color space of the relative color, not the origin color.\n\n \nIf the alpha value of the relative color is omitted,\nit defaults to that of the [origin color](#origin-color) (rather than defaulting to 100%, as it does in the absolute syntax).\n\n \nWhen relative color syntax is used, color component values, \nwhether directly specified \nor arising from color space conversion,\nare not clamped to the reference ranges but are retained as-is.\nThis preserves out of gamut values,\nif the destination color space is capable of representing them.\n\n \nHowever, when relative color syntax is used, alpha component values \nwhether directly specified \nor arising from color space conversion, are clamped to the reference range.\n\n \nMissing components are handled the same way as with [CSS Color 4 § 12.2 Interpolating with Missing Components](https://www.w3.org/TR/css-color-4/#interpolation-missing):\nthe origin colorspace and the relative function colorspace\nare checked for [analogous components](https://www.w3.org/TR/css-color-4/#analogous-components) which are then [carried forward](https://www.w3.org/TR/css-color-4/#carried-forward) as missing.\n\n \nWhile most uses of [relative color](#relative-color) syntax\nwill use the [component keywords](#component-keyword) in their corresponding argument,\nyou can use them in any position.\n\n \nBeware when using components outside their normal position;\nwhen percentages are resolved to numbers,\nthere is no \"magic scaling\"\nto account for the changed position\nif those numbers are used in a different place.\n\n \nThere is no relative [device-cmyk()](#funcdef-device-cmyk) syntax.\n\n 4.2. Relative Color Syntax [](#relative-syntax)\n \nThe precise details of each function’s syntactic changes\nto accommodate [relative colors](#relative-color) are listed below,\nbut they all follow a common structure:\n\n \n\n \n \nAn [origin color](#origin-color) can be specified with a from [<color>](#typedef-color) value\nat the start of the function.\nThis includes the optional alpha component, if specified.\n\n \n \nIf no origin color is specified, the function is not a relative color.\n\n \n \nIf an [origin color](#origin-color) is specified,\nthe remaining arguments can either be specified directly, as normal,\nor be specified as a **component keyword** referring to one of the components of the origin color converted to the [color space](https://www.w3.org/TR/css-color-4/#color-space) of the relative color. [Math functions](https://www.w3.org/TR/css-values-4/#math-function) can also use these keywords\nto do dynamic modifications of the origin color’s components.\n\n \n \n[Relative color](#relative-color) syntax doesn’t change whether an argument is required or optional.\n\n \n \nRelative color syntax only applies to the [modern color syntax](https://www.w3.org/TR/css-color-4/#modern-color-syntax).\nIt cannot be used with [legacy color syntax](https://www.w3.org/TR/css-color-4/#legacy-color-syntax) and attempting to do so is an error.\n\n \n \nHowever, the [origin color](#origin-color) can use either modern or legacy syntax.\n\n \n\n \nThe [component keywords](#component-keyword) return a [<number>](https://www.w3.org/TR/css-values-4/#number-value), or [none](https://www.w3.org/TR/css-color-4/#valdef-color-none);\nif they were originally specified as a [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) or an [<angle>](https://www.w3.org/TR/css-values-4/#angle-value),\nthat <percentage> is resolved to a <number> and the <angle> is resolved to a <number> of degrees\n(which is the [canonical unit](https://www.w3.org/TR/css-values-4/#canonical-unit))\nin the range [0, 360].\n\n \n Tests\n \n\n [relative-color-with-zoom.html](https://wpt.fyi/results/css/css-color/relative-color-with-zoom.html) [(live test)](http://wpt.live/css/css-color/relative-color-with-zoom.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-color-with-zoom.html)\n [relative-currentcolor-a98rgb-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-a98rgb-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-a98rgb-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-a98rgb-01.html)\n [relative-currentcolor-lch-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-lch-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-lch-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lch-01.html)\n [relative-currentcolor-rgb-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html)\n [relative-currentcolor-displayp3-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-displayp3-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-displayp3-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-displayp3-01.html)\n [relative-currentcolor-oklab-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html)\n [relative-currentcolor-rgb-02.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html)\n [relative-currentcolor-hsl-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html)\n [relative-currentcolor-oklch-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-oklch-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-oklch-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklch-01.html)\n [relative-currentcolor-xyzd50-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd50-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-xyzd50-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd50-01.html)\n [relative-currentcolor-hsl-02.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html)\n [relative-currentcolor-prophoto-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-prophoto-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-prophoto-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-prophoto-01.html)\n [relative-currentcolor-xyzd65-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd65-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-xyzd65-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd65-01.html)\n [relative-currentcolor-hwb-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html)\n [relative-currentcolor-rec2020-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-rec2020-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-01.html)\n [relative-currentcolor-lab-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-lab-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html)\n [relative-currentcolor-rec2020-02.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-02.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-rec2020-02.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-02.html)\n [relative-currentcolor-visited-getcomputedstyle.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-visited-getcomputedstyle.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-visited-getcomputedstyle.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-visited-getcomputedstyle.html)\n [color-computed-relative-color.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html) [(live test)](http://wpt.live/css/css-color/parsing/color-computed-relative-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html)\n [color-invalid-relative-color.html](https://wpt.fyi/results/css/css-color/parsing/color-invalid-relative-color.html) [(live test)](http://wpt.live/css/css-color/parsing/color-invalid-relative-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-relative-color.html)\n [color-valid-relative-color.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-relative-color.html) [(live test)](http://wpt.live/css/css-color/parsing/color-valid-relative-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-relative-color.html)\n [relative-color-out-of-gamut.html](https://wpt.fyi/results/css/css-color/parsing/relative-color-out-of-gamut.html) [(live test)](http://wpt.live/css/css-color/parsing/relative-color-out-of-gamut.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/relative-color-out-of-gamut.html)\n \n\n \n \n [](#example-1f6216e3) For example, if a color is specified using [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value),\n then RCS in the same colorspace will use the resolved [<number>](https://www.w3.org/TR/css-values-4/#number-value) form: \n\n```\nhtml { --bluegreen: oklab(54.3% -22.5% -5%); }\n.overlay {\n background: oklab(from var(--bluegreen) calc(1.0 - l) calc(a * 0.8) b);\n}\n\n```\n\n \nIn this example, the specified percentages are resolved to numbers,\n giving oklab(0.543 -0.09 -0.02).\n The resulting RCS color has l = 1 - 0.543 = 0.457,\n a = -0.09 * 0.8 = -0.072,\n and b is unchanged at -0.02:\n oklab(0.457 -0.072 -0.02).\n\n \n \n [](#example-4889a5cd) For example, if the origin color has a hue [<angle>](https://www.w3.org/TR/css-values-4/#angle-value) specified in degrees,\n then RCS in the same colorspace will use the resolved [<number>](https://www.w3.org/TR/css-values-4/#number-value) form: \n\n```\nhtml { --base: oklch(52.6% 0.115 44.6deg) }\n.summary {\n background: oklch(from var(--base) l c calc(h + 90));\n}\n\n```\n\n \nIn this example the resulting RCS color is oklch(0.526 0.115 134.6).\n\n \nHad the origin color hue [<angle>](https://www.w3.org/TR/css-values-4/#angle-value) been specified in another unit,\n such as radians or turns,\n still the resolved [<number>](https://www.w3.org/TR/css-values-4/#number-value) would be the number of degrees.\n\n \n \n [](#example-2a49656f) By using the [component keywords](#component-keyword) in a [math function](https://www.w3.org/TR/css-values-4/#math-function),\n an [origin color](#origin-color) can be manipulated in more advanced ways. \n\n```\nhtml { --color: green; }\n.foo {\n --darker-accent: lch(from var(--color) calc(l / 2) c h);\n}\n\n```\n\n \nIn this example, the [origin color](#origin-color) is darkened\n by cutting its lightness in half,\n without changing any other aspect of the color.\n\n \nNote as well that the [origin color](#origin-color) is a color keyword\n (and thus, sRGB),\n but it’s automatically interpreted as an LCH color\n due to being used in the [lch()](#funcdef-lch) function.\n\n \n \n [](#example-1374fcad) For example, if a theme color is specified as opaque,\n but in a particular instance you need it to be partially transparent: \n\n```\nhtml { --bg-color: blue; }\n.overlay {\n background: rgb(from var(--bg-color) r g b / 80%);\n}\n\n```\n\n \nIn this example, the r, g, and b components of the [origin color](#origin-color) are unchanged,\n indicated by specifying them with the keywords\n drawing their values from the origin color,\n but the opacity is set to 80% to make it slightly transparent,\n regardless of what the origin color’s opacity was.\n\n \n \n [](#example-b1f4bd13) For example, a Display P3 color\n which is outside the gamut of sRGB can still be represented,\n as it is not clipped. \n\n```\n--vivid-yellow: color(display-p3 1 1 0); \n--paler-yellow: color(from var(--vivid-yellow) srgb r g calc(b + 0.5));\n\n```\n\n \nHere --vivid-yellow, once converted to sRGB,\n is rgb(100% 100% -34.63%)\n and the negative blue component is not clamped.\n The result of the RCS calculation is rgb(100% 100% 15.37%)\n\n \n \n [](#example-4bad0aeb) For example, attempting to double an alpha of 0.7 in the origin color\n results in an alpha in the result of 1, not 1.4. \n\n```\n--tan: oklch(78% 0.06 75 / 0.7);\n--deeper-tan: oklch(from var(--tan) l c h / calc(alpha * 2));\n\n```\n\n \n \n [](#example-2bf59389) For example, to do a rough approximation of grayscaling a color: \n\n```\n--blue-into-gray: rgb(from var(--color)\n calc(r * .3 + g * .59 + b * .11)\n calc(r * .3 + g * .59 + b * .11)\n calc(r * .3 + g * .59 + b * .11));\n\n```\n\n \nUsing this, [red](https://www.w3.org/TR/css-color-4/#valdef-color-red) would become rgb(76.5 76.5 76.5), [lime](https://www.w3.org/TR/css-color-4/#valdef-color-lime) would become rgb(150.45 150.45 150.45),\n and [blue](https://www.w3.org/TR/css-color-4/#valdef-color-blue) would become rgb(150.45 150.45 150.45).\n A more moderate color, like [darkolivegreen](https://www.w3.org/TR/css-color-4/#valdef-color-darkolivegreen),\n which has RGB values rgb(85 107 47),\n would become rgb(93.8 93.8 93.8).\n\n \n(Rough because firstly,\n although this looks like a luminance calculation,\n the red green and blue values\n are manipulated in gamma-encoded space\n rather than linear-light;\n secondly,\n the weighting factors are those\n for the obsolete NTSC color space,\n not sRGB.)\n\n \n(Note, too, that this is just to illustrate the syntax;\n an easier and more accurate way to grayscale a color\n is to use the [oklch()](#funcdef-oklch) function,\n as that color space is more accurate to human perception: oklch(from var(--color) l 0 h) preserves the lightness,\n but zeroes out the chroma,\n which determines how \"colorful\" the color is.)\n\n \n \n [](#ex-no-percentage-magic) \n \nFor example,\n\n```\ncolor: color(from color(srgb 0 0 0 / 60%) srgb alpha 0.6 0.6 / 0.9);\n\n```\n\n \nThe alpha component is resolved as a [<number>](https://www.w3.org/TR/css-values-4/#number-value),\n giving 0.6; thus the resulting color is color(srgb 0.6 0.6 0.6 / 0.9). \n\n \nHowever, in this second example, again the alpha resolves to 0.6,\n giving a very different color due to the color component range\n of 0 to 255 in\n rgb() syntax: \n\n```\ncolor: rgb(from rgb(0 0 0 / 60%) alpha 153 153 / 0.9);\n\n```\n\n \nwhich results in rgb(0.6 153 153 / 0.9) and not rgb(153 153 153 / 0.9). \n\n \n \n [](#ex-missing-analogous) In this example the achromatic origin color has a missing hue;\n the [relative color](#relative-color) also has a missing hue,\n which affects a gradient using that color. \n\n```\nhtml { --bg: hsl(none 3% 50%); }\n.foo {\n --darker-bg: oklch(from var(--bg) calc(l * 0.8) c h);\n}\n.bar {\n background: linear-gradient(in Oklab to right, var(--darker-bg), #4C3);\n}\n\n```\n\n \nThe value of --bg when converted to OkLCh is\n oklch(0.592 0.009 17.42)\n but the analogous hue component is carried forward\n giving oklch(0.592 0.009 none).\n These values are then used in the relative function, giving\n the darker color oklch(0.474 0.009 none).\n\n \nThe light green in the gradient is oklch(0.743 0.222 141.6),\n and so, when interpolated, the other color take that hue,\n becoming oklch(0.474 0.009 141.6).\n\n \nThus, the gradient will have a constant greenish hue.\n\n \nIf an implementation failed to do this carrying forward,\n the grayish --darker-bg would have a hue of 0,\n giving an undesirable reddish tint at the start of the gradient.\n\n \n \n Correct (above) and incorrect (below, reddish) gradients.\n \n \n \nHowever, if calculations are done on missing values, [none](https://www.w3.org/TR/css-color-4/#valdef-color-none) is treated as 0.\n\n 4.3. Relative sRGB Colors[](#relative-RGB)\n \nThe meaning of sRGB colors is defined in [CSS Color 4 § 5 sRGB Colors](https://www.w3.org/TR/css-color-4/#numeric-srgb).\n\n \nThe grammar of the [modern color syntax](https://www.w3.org/TR/css-color-4/#modern-color-syntax) [rgb()](https://www.w3.org/TR/css-color-4/#funcdef-rgb) and [rgba()](https://www.w3.org/TR/css-color-4/#funcdef-rgba) functions are extended as follows:\n\n```\n**[<modern-rgb-syntax>](#typedef-modern-rgb-syntax)** = rgb( [ from [<color>](#typedef-color) ][?](https://www.w3.org/TR/css-values-4/#mult-opt)\n [ [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none][{3}](https://www.w3.org/TR/css-values-4/#mult-num)\n [ / [[<alpha-value>](https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n**[<modern-rgba-syntax>](#typedef-modern-rgba-syntax)** = rgba( [ from [<color>](#typedef-color) ][?](https://www.w3.org/TR/css-values-4/#mult-opt)\n [ [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none][{3}](https://www.w3.org/TR/css-values-4/#mult-num)\n [ / [[<alpha-value>](https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n\n```\n\n \nWithin a [relative color](#relative-color) syntax [rgb()](https://www.w3.org/TR/css-color-4/#funcdef-rgb) or [rgba()](https://www.w3.org/TR/css-color-4/#funcdef-rgba) function,\nthe allowed [component keywords](#component-keyword) are:\n\n \n\n \n \n**r**, **g**, and **b** are all [<number>](https://www.w3.org/TR/css-values-4/#number-value)s\nthat correspond to the [origin color’s](#origin-color) red, green, and blue components\nafter [conversion, if required](#required-conversion) to sRGB.\n255.0 is equivalent to 100%.\n\n \n \n**alpha** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) alpha transparency. 1.0 is equivalent to 100%.\n\n \n\n \n Tests\n \n\n [relative-currentcolor-rgb-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html)\n [relative-currentcolor-rgb-02.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html)\n \n\n \n \n [](#example-cebe6396) To manipulate color components in the sRGB color space: \n\n```\nrgb(from indianred 255 g b)\n\n```\n\n \nThis takes the sRGB value of indianred (205 92 92) and replaces\n the red component with 255 to give rgb(255 92 92).\n\n \n \nRelative sRGB color syntax is only applicable to the non-legacy RGB syntactic forms.\n\n \n [](#example-648e776c) For example, this attempt to use the rgba [legacy color syntax](https://www.w3.org/TR/css-color-4/#legacy-color-syntax) with commas would be incorrect \n\n```\nrgba(from darkblue 16, 32, b, 0.5 )\n\n```\n\n \n \n [](#example-c4b962d1) Instead, use \n\n```\nrgb(from darkblue 16 32 b / 0.5 )\n\n```\n\n \nThis takes the sRGB value of darkblue (0 0 139) and replaces\n the red, green and alpha components to give rgb(16 32 139 / 0.5)\n\n \n 4.4. Relative HSL Colors[](#relative-HSL)\n \nThe meaning of HSL colors is defined in [CSS Color 4 § 7 HSL Colors: hsl() and hsla() functions](https://www.w3.org/TR/css-color-4/#the-hsl-notation).\n\n \nThe grammar of the [modern color syntax](https://www.w3.org/TR/css-color-4/#modern-color-syntax) [hsl()](https://www.w3.org/TR/css-color-4/#funcdef-hsl) and [hsla()](https://www.w3.org/TR/css-color-4/#funcdef-hsla) functions is extended as follows:\n\n```\n**[<modern-hsl-syntax>](#typedef-modern-hsl-syntax)** = hsl([from [<color>](#typedef-color)][?](https://www.w3.org/TR/css-values-4/#mult-opt)\n [[<hue>](https://www.w3.org/TR/css-color-4/#typedef-hue) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ / [[<alpha-value>](https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n**[<modern-hsla-syntax>](#typedef-modern-hsla-syntax)** = hsla([from [<color>](#typedef-color)][?](https://www.w3.org/TR/css-values-4/#mult-opt)\n [[<hue>](https://www.w3.org/TR/css-color-4/#typedef-hue) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ / [[<alpha-value>](https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n\n```\n\n \nWithin a [relative color](#relative-color) syntax [hsl()](https://www.w3.org/TR/css-color-4/#funcdef-hsl) or [hsla()](https://www.w3.org/TR/css-color-4/#funcdef-hsla) function,\nthe allowed [component keywords](#component-keyword) are:\n\n \n\n \n \n**h** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) HSL hue, in degrees,\nafter [conversion, if required](#required-conversion) to sRGB,\nnormalized to a [0, 360] range. 90 is equivalent to 90deg.\n\n \n \n**s** and **l** are [<number>](https://www.w3.org/TR/css-values-4/#number-value)s that correspond to the [origin color’s](#origin-color) HSL saturation and lightness,\nafter [conversion, if required](#required-conversion) to sRGB.\n100 is equivalent to 100%.\n\n \n \n**alpha** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) alpha transparency 1.0 is equivalent to 100%.\n\n \n\n \n Tests\n \n\n [relative-currentcolor-hsl-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html)\n [relative-currentcolor-hsl-02.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html)\n \n\n \n \n [](#example-c4b276dd) This adds 180 degrees to the hue angle, giving a complementary color. \n\n```\n--accent: lightseagreen;\n--complement: hsl(from var(--accent) calc(h + 180) s l);\n\n```\n\n \nlightseagreen is hsl(177deg 70% 41%), so --complement is hsl(357deg 70% 41%)\n\n \n \nRelative HSL color syntax is only applicable to the non-legacy HSL syntactic forms.\n\n 4.5. Relative HWB Colors[](#relative-HWB)\n \nThe meaning of HWB colors is defined in [CSS Color 4 § 8 HWB Colors: hwb() function](https://www.w3.org/TR/css-color-4/#the-hwb-notation).\n\n \nThe grammar of the [hwb()](#funcdef-hwb) function is extended as follows:\n\n```\n**hwb()** = hwb([from [<color>](#typedef-color)][?](https://www.w3.org/TR/css-values-4/#mult-opt)\n [[<hue>](https://www.w3.org/TR/css-color-4/#typedef-hue) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ / [[<alpha-value>](https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n\n```\n\n \nWithin a [relative color](#relative-color) syntax [hwb()](#funcdef-hwb) function,\nthe allowed [component keywords](#component-keyword) are:\n\n \n\n \n \n**h** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) HWB hue, in degrees,\nafter [conversion, if required](#required-conversion) to sRGB,\nnormalized to a [0, 360] range. 90 is equivalent to 90deg.\n\n \n \n**w** and **b** are [<number>](https://www.w3.org/TR/css-values-4/#number-value)s that correspond to the [origin color’s](#origin-color) HWB whiteness and blackness\nafter [conversion, if required](#required-conversion) to sRGB.\n100 is equivalent to 100%.\n\n \n \n**alpha** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) alpha transparency. 1.0 is equivalent to 100%.\n\n \n\n \n Tests\n \n\n [relative-currentcolor-hwb-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html)\n \n\n \n 4.6. Relative Lab Colors[](#relative-Lab)\n \nThe meaning of Lab colors is defined in [CSS Color 4 § 9.1 CIE Lab and LCH](https://www.w3.org/TR/css-color-4/#cie-lab).\n\n \nThe grammar of the [lab()](#funcdef-lab) function is extended as follows:\n\n```\n**lab()** = lab([from [<color>](#typedef-color)][?](https://www.w3.org/TR/css-values-4/#mult-opt)\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ / [[<alpha-value>](https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n\n```\n\n \nWithin a [relative color](#relative-color) syntax [lab()](#funcdef-lab) function,\nthe allowed [component keywords](#component-keyword) are:\n\n \n\n \n \n**l** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) CIE Lightness\nafter [conversion, if required](#required-conversion), to CIE Lab.\n100 is equivalent to 100%.\n\n \n \n**a** and **b** are [<number>](https://www.w3.org/TR/css-values-4/#number-value)s\nthat correspond to the [origin color’s](#origin-color) CIE Lab a and b axes\nafter [conversion, if required](#required-conversion), to CIE Lab.\n125 is equivalent to 100%, while -125 is equivalent to -100%.\n\n \n \n**alpha** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) alpha transparency. 1.0 is equivalent to 100%.\n\n \n Tests\n \n\n [relative-currentcolor-lab-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-lab-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html)\n \n\n \n \n\n \n [](#example-b411f1d3) Multiple ways to adjust the transparency of a base color: \n \n\n \n \nlab(from var(--mycolor) l a b / 100%) sets the alpha of var(--mycolor) to 1.0, regardless of what it originally was.\n\n \n \nlab(from var(--mycolor) l a b / calc(alpha * 0.8)) reduces the alpha of var(--mycolor) by 20% of its original value.\n\n \n\n \nNote that all the adjustments are lossless in the sense that no gamut clipping occurs, since lab() encompasses all visible color.\n This is not true for the alpha adjustments in the sRGB based functions\n (such as 'rgb()', 'hsl()', or 'hwb()'),\n which would also convert to sRGB\n as a necessary step for calculation of HSL or HWB,\n in addition to adjusting the alpha transparency.\n\n \n \n [](#example-d39afaf1) Fully desaturating a color to gray, keeping the exact same lightness: \n\n```\n--mycolor: orchid;\n// orchid is lab(62.753 52.460 -34.103)\n--mygray: lab(from var(--mycolor) l 0 0)\n// mygray is lab(62.753 0 0) which is rgb(59.515% 59.515% 59.515%)\n\n```\n\n \n 4.7. Relative Oklab Colors[](#relative-Oklab)\n \nThe meaning of Oklab colors is defined in [CSS Color 4 § 9.2 Oklab and OKLCh](https://www.w3.org/TR/css-color-4/#ok-lab).\n\n \nThe grammar of the [oklab()](#funcdef-oklab) function is extended as follows:\n\n```\n**oklab()** = oklab([from [<color>](#typedef-color)][?](https://www.w3.org/TR/css-values-4/#mult-opt)\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ / [[<alpha-value>](https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n\n```\n\n \nWithin a [relative color](#relative-color) syntax [oklab()](#funcdef-oklab) function,\nthe allowed [component keywords](#component-keyword) are:\n\n \n\n \n \n**l** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) Oklab Lightness\nafter [conversion, if required](#required-conversion), to Oklab.\n1.0 is equivalent to 100%.\n\n \n \n**a** and **b** are [<number>](https://www.w3.org/TR/css-values-4/#number-value)s\nthat correspond to the [origin color’s](#origin-color) Oklab a and b axes\nafter [conversion, if required](#required-conversion), to Oklab.\n0.4 is equivalent to 100%, while -0.4 is equivalent to -100%.\n\n \n \n**alpha** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) alpha transparency. 1.0 is equivalent to 100%.\n\n \n Tests\n \n\n [relative-currentcolor-oklab-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html)\n \n\n \n \n\n 4.8. Relative LCH Colors[](#relative-LCH)\n \nThe meaning of LCH colors is defined in [CSS Color 4 § 9.1 CIE Lab and LCH](https://www.w3.org/TR/css-color-4/#cie-lab).\n\n \nThe grammar of the [lch()](#funcdef-lch) function is extended as follows:\n\n```\n**lch()** = lch([from [<color>](#typedef-color)][?](https://www.w3.org/TR/css-values-4/#mult-opt)\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<hue>](https://www.w3.org/TR/css-color-4/#typedef-hue) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ / [[<alpha-value>](https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n\n```\n\n \nWithin a [relative color](#relative-color) syntax [lch()](#funcdef-lch) function,\nthe allowed [component keywords](#component-keyword) are:\n\n \n\n \n \n**l** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) CIE Lightness\nafter [conversion, if required](#required-conversion), to CIE LCH.\n100 is equivalent to 100%.\n\n \n \n**c** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) LCH chroma\nafter [conversion, if required](#required-conversion), to CIE LCH.\n150 is equivalent to 100%.\n\n \n \n**h** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) LCH hue, in degrees,\nafter [conversion, if required](#required-conversion), to CIE LCH,\nnormalized to a [0, 360] range. 90 is equivalent to 90deg.\n\n \n \n**alpha** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) alpha transparency. 1.0 is equivalent to 100%.\n\n \n\n \n Tests\n \n\n [relative-currentcolor-lch-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-lch-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-lch-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lch-01.html)\n \n\n \n [](#example-fef81186) lch(from peru calc(l * 0.8) c h) produces a color that is 20% darker than peru or lch(62.2532% 54.0114 63.6769), with its chroma and hue left unchanged.\n The result is lch(49.80256 54.0114 63.6769) \n \n [](#example-fb53cf30) This adds 180 degrees to the hue angle, giving the complementary color. \n\n```\n--accent: lightseagreen;\n--complement: lch(from var(--accent) l c calc(h + 180));\n\n```\n\n \nlightseagreen is lch(65.4937 39.4484 190.1013), so --complement is lch(65.4937 39.4484 370.1013)\n\n \n \n [](#example-dddffb4a) Fully desaturating a color to gray, keeping the exact same lightness: \n\n```\n--mycolor: orchid;\n// orchid is lch(62.753 62.571 326.973)\n--mygray: lch(from var(--mycolor) l 0 h)\n// mygray is lch(62.753 0 326.973) which is rgb(59.515% 59.515% 59.515%)\n\n```\n\n \nBut now (since the hue was preserved) re-saturating again\n\n```\n--mymuted: lch(from var(--mygray) l 30 h);\n// mymuted is lch(62.753 30 326.973) which is rgb(72.710% 53.293% 71.224%)\n\n```\n\n \n \nHowever, unlike HSL, manipulations are not guaranteed to be in-gamut.\n\n \n [](#ex-wildly-oog) In this example, the aim is to produce a new color\n with the same Lightness and Chroma,\n but the triad (hue differs by 120 degrees).\n The origin color is inside the RGB gamut,\n but rotating the hue in LCH\n produces an out of gamut color. \n\n```\n--mycolor: lch(60% 90 320);\nlch(from var(--mycolor) l c calc(h - 120));\n\n```\n\n \nThis gives a very high-chroma blue-green, lch(60% 90 200)\n which is color(srgb -0.6 0.698 0.772)\n and thus out of gamut (negative red value) for sRGB.\n Indeed, it is out of gamut for display-p3: color(display-p3 -0.46 0.68 0.758)\n and even rec2020: color(rec2020 -0.14 0.623 0.729).\n\n \nThe closest color inside the sRGB gamut would be lch(60.71% 37.56 201.1)\n which is rgb(0% 64.2% 66.3%). The difference in chroma (37.5, instead of 90) is huge.\n\n \n \n \nDiagram of CIE CH plane showing relative color manipulation.\n The a and b axes are labelled,\n and cross in the middle.\n We are looking down the central Lightness axis.\n The maximal gamut of the sRGB color space\n is shown as an irregular, convex polygon. \n\n This diagram shows the sRGB gamut, in the CIE ab plane.\n Small circles indicate the primary and secondary color.\n The origin color, shown as a large circle, is in gamut for sRGB;\n but becomes out of gamut (shown as a grey fill and red border)\n when the LCH hue is rotated -120°.\n The gamut-mapped result has much lower chroma. \n \n \nPerforming the same operation in HSL will return an in-gamut result.\n But it is unsatisfactory in other ways:\n\n```\n--mycolor: lch(60% 90 320);\nhsl(from var(--mycolor) calc(h - 120) s l);\n\n```\n\n \nIn HSL, --mycolor is hsl(289.18 93.136% 65.531%)\n so subtracting 120 degrees gives hsl(169.18 93.136% 65.531%).\n Converting that result back to LCH lch(89.0345% 49.3503 178.714)\n we see that, due to the hue rotate in HSL,\n Lightness shot up from 60% to 89%,\n the Chroma has dropped from 90 to 49,\n and the Hue actually changed by 141 degrees, not 120.\n\n \n 4.9. Relative OkLCh Colors[](#relative-OkLCh)\n \nThe meaning of OkLCh colors is defined in [CSS Color 4 § 9.2 Oklab and OKLCh](https://www.w3.org/TR/css-color-4/#ok-lab).\n\n \nThe grammar of the [oklch()](#funcdef-oklch) function is extended as follows:\n\n```\n**oklch()** = oklch([from [<color>](#typedef-color)][?](https://www.w3.org/TR/css-values-4/#mult-opt)\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<hue>](https://www.w3.org/TR/css-color-4/#typedef-hue) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ / [[<alpha-value>](https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n\n```\n\n \nWithin a [relative color](#relative-color) syntax [oklch()](#funcdef-oklch) function,\nthe allowed [component keywords](#component-keyword) are:\n\n \n\n \n \n**l** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) Oklab Lightness\nafter [conversion, if required](#required-conversion), to OkLCh.\n1.0 is equivalent to 100%.\n\n \n \n**c** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) OkLCh chroma\nafter [conversion, if required](#required-conversion), to OkLCh.\n0.4 is equivalent to 100%.\n\n \n \n**h** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) OkLCh hue, in degrees,\nafter [conversion, if required](#required-conversion), to OkLCh,\nnormalized to a [0, 360] range. 90 is equivalent to 90deg.\n\n \n \n**alpha** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) alpha transparency. 1.0 is equivalent to 100%.\n\n \n\n \n Tests\n \n\n [relative-currentcolor-oklch-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-oklch-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-oklch-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklch-01.html)\n \n\n \n \nBecause OkLCh is both perceptually uniform and chroma-preserving,\n and because the axes correspond to easily understood attributes of a color,\n OkLCh is a good choice for color manipulation.\n\n \n [](#ex-oklch-wildly-oog) In this example, the aim is again to produce a new color\nwith the same Lightness and Chroma,\nbut the triad (hue differs by 120 degrees).\nIn this example, we will do the manipulation in OkLCh.\nThe origin color is inside the RGB gamut,\nbut rotating the hue in OkLCh\nagain produces an out of gamut color. \n\n```\n--mycolor: lch(60% 90 320);\noklch(from var(--mycolor) l c calc(h - 120));\n\n```\n\n \n--mycolor is oklch(0.69012 0.25077 319.893).\nSubtracting 120 from the Hue gives a very high-chroma blue-green, oklch(0.69012 0.25077 199.893)\nwhich is out of sRGB gamut,\ncolor(srgb -0.6018 0.7621 0.8448)\nas the negative red component indicates.\nBring this into gamut\nby reducing OkLCh Chroma, yields oklch(0.69012 0.1173 199.893).\nThe OkLCh chroma has dropped from 0.251 to 0.117.\n\n \n 4.10. Relative Alpha Colors[](#relative-alpha)\n \nRelative alpha colors refer to an origin color, and only change the alpha channel. The meaning of alpha channels is defined in [CSS Color 4 § 4.2 Representing Transparency in Colors: the <alpha-value> syntax](https://www.w3.org/TR/css-color-4/#alpha-syntax).\n\n \nThe grammar of the [alpha()](#funcdef-alpha) function, new in this level, is as follows:\n\n```\n**alpha()** = alpha([from [<color>](#typedef-color)]\n [ / [[<alpha-value>](https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n\n```\n\n \nWithin a [relative color](#relative-color) syntax [alpha()](#funcdef-alpha) function,\nthe allowed [component keywords](#component-keyword) are:\n\n \n\n \n \n**alpha** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) alpha transparency. 1.0 is equivalent to 100%.\n\n \n\n \nThe color components of the [origin color](#origin-color) are unchanged,\nthe alpha component is modified or replaced.\nThe result of this function is in the color space of the origin color.\n\n \n [](#ex-alpha-replace) For example, here the result is the same as the origin color,\n but the alpha is changed to 80% \n\n```\n--mycolor: oklch(60% 0.25 315 / 0.3);\n alpha(from var(--mycolor) / 80%);\n\n```\n\n \n \n [](#ex-alpha-change) For example, here the result is the same as the origin color,\n but the alpha is modified to be half of that in the origin color \n\n```\n--mycolor: oklch(60% 0.25 315 / 0.8);\n alpha(from var(--mycolor) / calc(alpha * 0.5));\n\n```",
      "rawLength": 93802
    },
    "color-function": {
      "id": "color-function",
      "heading": "5.  Specifying Predefined and Custom Color Spaces: the color() Function",
      "content": "The [color()](#funcdef-color) function allows a color to be specified\n in a particular, given [color space](https://www.w3.org/TR/css-color-4/#color-space) (rather than the implicit sRGB color space that most of the other color functions operate in).\n\n \nIn this level the [color()](#funcdef-color) function is extended\n to allow custom color spaces,\n in addition to the predefined spaces from [CSS Color 4 §  10. Predefined Color Spaces](https://www.w3.org/TR/css-color-4/#predefined).\n\n \nIt is also extended to allow relative, rather than just absolute, colors.\n\n \nIts syntax is now as follows:\n\n```\n**color()** = color( [from [<color>](#typedef-color)][?](https://www.w3.org/TR/css-values-4/#mult-opt) [<colorspace-params>](#typedef-colorspace-params) [ / [ [<alpha-value>](https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none ] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n**<colorspace-params>** = [[<custom-params>](#typedef-custom-params) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<predefined-rgb-params>](#typedef-predefined-rgb-params) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<xyz-params>](#typedef-xyz-params)]\n**<custom-params>** = [<dashed-ident>](https://www.w3.org/TR/css-values-4/#typedef-dashed-ident) [ [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none ][+](https://www.w3.org/TR/css-values-4/#mult-one-plus)\n**<predefined-rgb-params>** = [<predefined-rgb>](#typedef-predefined-rgb) [ [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none ][{3}](https://www.w3.org/TR/css-values-4/#mult-num)\n**<predefined-rgb>** = srgb [|](https://www.w3.org/TR/css-values-4/#comb-one) srgb-linear [|](https://www.w3.org/TR/css-values-4/#comb-one) display-p3 [|](https://www.w3.org/TR/css-values-4/#comb-one) a98-rgb [|](https://www.w3.org/TR/css-values-4/#comb-one) prophoto-rgb [|](https://www.w3.org/TR/css-values-4/#comb-one) rec2020\n**<xyz-params>** = [<xyz-space>](https://www.w3.org/TR/css-color-4/#typedef-xyz-space) [ [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none ][{3}](https://www.w3.org/TR/css-values-4/#mult-num)\n\n```\n\n \nThe color function takes parameters specifying a color, in an explicitly listed color space.\n\n \nIt represents either an **invalid color**, as described below,\n or a [valid color](#valid-color).\n\n \nAny color which is not an [invalid color](#invalid-color) is a **valid color**.\n\n \nA color may be a [valid color](#valid-color) but still be outside the range of colors\n that can be produced by an output device\n (a screen, projector, or printer).\n It is said to be **out of gamut** for that color space.\n\n \nAn out of gamut color has component values\n less than 0 or 0%, or greater than 1 or 100%.\n These are not invalid; instead, for display, they are [gamut-mapped](#gamut-map) using a relative colorimetric intent\n which brings the values within the range 0/0% to 1/100%\n at computed-value time.\n\n \nEach [valid color](#valid-color) is either in-gamut for the output device (screen, or printer),\n or it is [out of gamut](#out-of-gamut).\n\n 5.1. Relative Color-Function Colors[](#relative-color-function)\n \nWithin a [relative color](#relative-color) syntax [color()](#funcdef-color) function using [<custom-params>](#typedef-custom-params),\nthe number and name of the allowed [component keywords](#component-keyword) are:\n\n \n\n \n \ndefined by the [components](#descdef-color-profile-components) descriptor on the corresponding [@color-profile](#at-ruledef-profile),\nif present;\notherwise, no relative color manipulation is valid. They are [<number>](https://www.w3.org/TR/css-values-4/#number-value)s that correspond to the [origin color’s](#origin-color) components\nafter [conversion, if required](#required-conversion) to the color space of the color profile. The value 1.0 corresponds to 100%.\n\n \n\n \nWithin a [relative color](#relative-color) syntax [color()](#funcdef-color) function using [<predefined-rgb-params>](#typedef-predefined-rgb-params),\nthe allowed [component keywords](#component-keyword) are:\n\n \n\n \n \n**r**, **g**, and **b** are all [<number>](https://www.w3.org/TR/css-values-4/#number-value)s\nthat correspond to the [origin color’s](#origin-color) red, green, and blue components\nafter [conversion, if required](#required-conversion) to the predefined RGB color space.\nThe value 1.0 corresponds to 100%.\n\n \n\n \nWithin a [relative color](#relative-color) syntax [color()](#funcdef-color) function using [<xyz-params>](#typedef-xyz-params),\nthe allowed [component keywords](#component-keyword) are:\n\n \n\n \n \n**x**, **y**, **z** are all [<number>](https://www.w3.org/TR/css-values-4/#number-value)s\nthat correspond to the [origin color’s](#origin-color) X, Y and Z components\nafter [conversion, if required](#required-conversion) to relative CIE XYZ color space\nadapted to the relevant white point.\nThe value 1.0 corresponds to 100%.\n\n \n\n \nWithin a [relative color](#relative-color) syntax [color()](#funcdef-color) function\nusing either [<predefined-rgb-params>](#typedef-predefined-rgb-params) or [<xyz-params>](#typedef-xyz-params), an additional allowed [component keyword](#component-keyword) is:\n\n \n\n \n \n**alpha** is a [<number>](https://www.w3.org/TR/css-values-4/#number-value) that corresponds to the [origin color’s](#origin-color) alpha transparency. 1.0 is equivalent to 100%.\n\n \n\n \nThe parameters have the following form:\n\n \n\n \n \nAn [<ident>](https://www.w3.org/TR/css-values-4/#typedef-ident) or [<dashed-ident>](https://www.w3.org/TR/css-values-4/#typedef-dashed-ident) denoting the color space.\nIf this is an <ident> it denotes one of the\n predefined color spaces [CSS Color 4 §  10. Predefined Color Spaces](https://www.w3.org/TR/css-color-4/#predefined) (such as [display-p3](https://www.w3.org/TR/css-color-4/#valdef-color-display-p3));\nif it is a <dashed-ident> it denotes a custom\ncolor space, defined by a [@color-profile](#at-ruledef-profile) rule.\nIndividual predefined color spaces\nmay further restrict whether [<number>](https://www.w3.org/TR/css-values-4/#number-value)s or [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)s\nor both, may be used.\n\n \nIf the [<ident>](https://www.w3.org/TR/css-values-4/#typedef-ident) names a non-existent color space\n(a name that does not match one of the\npredefined color spaces),\nor a predefined but unsupported color space,\nthis argument represents an [invalid color](#invalid-color).\n\n \nIf the [<dashed-ident>](https://www.w3.org/TR/css-values-4/#typedef-dashed-ident) names a non-existent color space\n( a name that does not match an [color profile’s](#css-color-profile) name,\n or which matches but the corresponding profile has not loaded,\n or does not represent a valid profile),\nthis argument represents an [invalid color](#invalid-color).\n\n \n \nOne or more [<number>](https://www.w3.org/TR/css-values-4/#number-value)s or [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)s providing the parameter values that the color space takes.\n\n \nFor custom color spaces,\nspecified component values\nless than 0 or 0%, or greater than 1 or 100%\nare not invalid;\nthey are clamped to the valid range at computed value time.\nThis is because ICC profiles typically do not accept\nout of range input values.\n\n \nFor custom color spaces, if more [<number>](https://www.w3.org/TR/css-values-4/#number-value)s or [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)s are provided than parameters that the color space takes,\nthe excess <number>s at the end are ignored.\nThe color is still a [valid color](#valid-color).\n\n \nFor custom color spaces, if more [<number>](https://www.w3.org/TR/css-values-4/#number-value)s or [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)s are provided than components listed in the optional components descriptor,\nthe additional values at the end are still valid,\nbut cannot be used in Relative Color Syntax.\nThe color is still a [valid color](#valid-color).\n\n \nFor custom color spaces, if fewer [<number>](https://www.w3.org/TR/css-values-4/#number-value)s or [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)s are provided than parameters that the color space takes,\nthe missing parameters default to 0.\n(This is particularly convenient for multicomponent printers\nwhere the additional inks are spot colors or varnishes\nthat most colors on the page won’t use.)\nThe color is still a [valid color](#valid-color).\n\n \nFor predefined color spaces,\nspecified component values\nless than 0 or 0%, or greater than 1 or 100%\nare not invalid;\nthese out of gamut colors\nare gamut mapped to the valid range at computed value time,\nwith a relative colorimetric intent.\n\n \n \nAn optional slash-separated [<alpha-value>](https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value).If omitted, it defaults to 100%.\n\n \n\n \n Tests\n \n\n [color-computed-relative-color.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html) [(live test)](http://wpt.live/css/css-color/parsing/color-computed-relative-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html)\n \n\n \n \n [](#ex-RCS-XYZ) For example, Relative Color Syntax in the CIE XYZ D65 colorspace\n is used to generate a color which has\n the same chromaticity but exactly half the luminance\n of the base color: \n\n```\n--base: color(display-p3 0.7 0.5 0.1);\n--dark: color(from var(--base) xyz-d65 calc(x/2) calc(y/2) calc(z/2));\n\n```\n\n \nThe origin color is color(xyz-d65 0.281 0.253 0.044)\n and so the relative color is color(xyz-d65 0.14 0.126 0.022).\n\n \n 5.2. Custom Color Spaces [](#custom-color)\n \nCSS allows [colors](https://www.w3.org/TR/css-color-4/#color) to be specified by reference to a color profile.\nThis could be for example a calibrated CMYK printer,\nor an RGB color space,\nor any other color or monochrome output device which has been characterized.\n\n \n [](#ex-profiles-colors) This example specifies four calibrated colors:\n two are custom spaces\n (for a SWOP-coated CMYK press,\n and for a wide-gamut seven-ink printer),\n the other two are predefined spaces\n (the ProPhoto RGB,\n and display-p3 RGB spaces).\n In each case, the numerical parameters\n are in the range 0.0 to 1.0\n (rather than, for example, 0 to 255). \n\n```\ncolor: color(--swopc 0.0134 0.8078 0.7451 0.3019);\ncolor: color(--indigo 0.0941 0.6274 0.3372 0.1647 0 0.0706 0.1216);\ncolor: color(prophoto-rgb 0.9137 0.5882 0.4784);\ncolor: color(display-p3 0.3804 0.9921 0.1412);\n\n```\n\n \n \nThe colors not using a predefined color space [CSS Color 4 §  10. Predefined Color Spaces](https://www.w3.org/TR/css-color-4/#predefined) are distinguished by their use of [<dashed-ident>](https://www.w3.org/TR/css-values-4/#typedef-dashed-ident) and\n also need a matching [@color-profile](#at-ruledef-profile) at-rule\n somewhere in the stylesheet,\n to connect the name with the profile data.\n\n \n Tests\n \n\n [at-color-profile-001.html](https://wpt.fyi/results/css/css-color/at-color-profile-001.html) [(live test)](http://wpt.live/css/css-color/at-color-profile-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/at-color-profile-001.html)\n \n\n \n \n [](#ex-profiles-colors-at) \n\n```\n@color-profile --swopc {\n src: url('http://example.org/swop-coated.icc');}\n@color-profile --indigo {\n src: url('http://example.org/indigo-seven.icc');}\n\n```\n\n \n 5.3. Specifying a Color Profile: the [@color-profile](#at-ruledef-profile) at-rule [](#at-profile)\n \nThe **@color-profile** rule\n defines and names a **color profile** which can later be used in the [color()](#funcdef-color) function to specify a color.\n\n \nIt’s defined as:\n\n```\n@color-profile = @color-profile [[<dashed-ident>](https://www.w3.org/TR/css-values-4/#typedef-dashed-ident) [|](https://www.w3.org/TR/css-values-4/#comb-one) device-cmyk] { [<declaration-list>](https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list) }\n\n```\n\n \n Tests\n \n\n [at-color-profile-001.html](https://wpt.fyi/results/css/css-color/at-color-profile-001.html) [(live test)](http://wpt.live/css/css-color/at-color-profile-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/at-color-profile-001.html)\n \n\n \n \nThe [<dashed-ident>](https://www.w3.org/TR/css-values-4/#typedef-dashed-ident) gives the [color profile’s](#css-color-profile) name,\n by which it will be used in a CSS stylesheet.\n Alternatively, the device-cmyk keyword\n means that this color profile will,\n if valid,\n be used to resolve colors specified in device-cmyk.\n\n \nThe [@color-profile](#at-ruledef-profile) rule accepts the descriptors defined in this specification.\n\n \n \n \n Name:\n **src**\n \n For:\n [@color-profile](#at-ruledef-profile) \n \n Value:\n [<url>](https://www.w3.org/TR/css-values-4/#url-value) \n \n Initial:\n n/a \n \n \nThe [src](#descdef-color-profile-src) descriptor specifies the URL to retrieve the color-profile information from.\n\n \nIf multiple [@color-profile](#at-ruledef-profile) rules are defined with the same name,\n the last one in document order wins, and all preceding ones are ignored.\n\n \nThe retrieved ICC profile is valid if\n\n \n\n \n \nit can be parsed as an ICC Profile\n\n \n \nit is an Input, Display, Output, or color space ICC profile. (Abstract, DeviceLink, and NamedColor ICC Profiles must not be used).\n\n \n\n \nIf the profile is not valid, all CSS colors\n which reference this profile\n are [invalid color](#invalid-color)s.\n\n \nTo **fetch an external color profile**, given a [@color-profile](#at-ruledef-profile) rule rule, [fetch a style resource](https://www.w3.org/TR/css-values-4/#fetch-a-style-resource) given rule’s URL,\n with ruleOrDeclaration being rule,\n destination \"color-profile\",\n CORS mode \"cors\",\n and processResponse being the following steps given [response](https://fetch.spec.whatwg.org/#concept-response) |/res| and null, failure or\n a byte stream byteStream:\n If byteStream is a byte stream,\n apply the color profile as parsed from |byteStream.\n\n \nNote: The Internet Media Type (\"MIME type\")\n for ICC profiles is [application/vnd.iccprofile](https://www.iana.org/assignments/media-types/application/vnd.iccprofile).\n\n \n \n \n Name:\n **rendering-intent**\n \n For:\n [@color-profile](#at-ruledef-profile) \n \n Value:\n relative-colorimetric [|](https://www.w3.org/TR/css-values-4/#comb-one) absolute-colorimetric | perceptual | saturation \n \n Initial:\n relative-colorimetric \n \n \n[Color profiles](#css-color-profile) contain “rendering intents”,\n which define how to **gamut-map** their color to smaller gamuts than they’re defined over.\n Often a profile will contain only a single intent,\n but when there are multiple,\n the [rendering-intent](#descdef-color-profile-rendering-intent) descriptor chooses one of them to use.\n\n \nThe four possible rendering intents are [[ICC]](#biblio-icc):\n\n \n **relative-colorimetric** \n \n Media-relative colorimetric is required to leave source colors that fall\n inside the destination medium gamut unchanged relative to the respective\n media white points. Source colors that are out of the destination medium\n gamut are mapped to colors on the gamut boundary using a variety of\n different methods. \n \nThe media-relative colorimetric rendering intent is\n often used with black point compensation, where the source medium black point\n is mapped to the destination medium black point as well.\n This method must map the source white point to the destination white point. If\n black point compensation is in use, the source black point must also be\n mapped to the destination black point. Adaptation algorithms should be used\n to adjust for the change in white point. Relative relationships of colors\n inside both source and destination gamuts should be preserved. Relative\n relationships of colors outside the destination gamut may be changed.\n\n **absolute-colorimetric** \n \n ICC-absolute colorimetric is required to leave source colors that fall\n inside the destination medium gamut unchanged relative to the adopted\n white (a perfect reflecting diffuser). Source colors that are out of the\n destination medium gamut are mapped to colors on the gamut boundary using a\n variety of different methods. This method produces the most accurate\n color matching of in-gamut colors, but will result in highlight clipping\n if the destination medium white point is lower than the source medium\n white point. For this reason it is recommended for use only in applications\n that need exact color matching and where highlight clipping is not a concern. \n \nThis method MUST disable white point matching and black point matching when\n converting colors. In general, this option is not recommended except\n for testing purposes.\n\n **perceptual** \n \n This method is often the preferred choice for images, especially when there are\n substantial differences between the source and destination (such as a screen display\n image reproduced on a reflection print). It takes the colors of the source image\n and re-optimizes the appearance for the destination medium using proprietary\n methods. This re-optimization may result in colors within both the source\n and destination gamuts being changed, although perceptual transforms are\n supposed to maintain the basic artistic intent of the original in the\n reproduction. They will not attempt to correct errors in the source image. \n \nNote: With v2 ICC profiles there is no specified perceptual reference medium,\n which can cause interoperability problems. When v2 ICC profiles are used it can\n be safer to use the media-relative colorimetric rendering intent with black\n point compensation, instead of the perceptual rendering intent, unless the\n specific source and destination profiles to be used have been checked to ensure\n the combination produces the desired result.\n\n \nThis method should maintain relative color values among the pixels as they\n are mapped to the target device gamut. This method may change pixel values\n that were originally within the target device gamut, in order to avoid\n hue shifts and discontinuities and to preserve as much as possible the\n overall appearance of the scene.\n\n **saturation** \n This option was created to preserve the relative saturation (chroma) of the original,\n and to keep solid colors pure. However, it experienced interoperability problems like\n the perceptual intent, and as solid color preservation is not amenable to a reference\n medium solution using v4 profiles does not solve the problem. Use of this rendering intent\n is not recommended unless the specific source and destination profiles to be used have\n been checked to ensure the combination produces the desired result.\n This option should preserve the relative saturation (chroma) values of the original\n pixels. Out of gamut colors should be converted to colors that have the same saturation\n but fall just inside the gamut. \n \n \n \n \n Name:\n **components**\n \n For:\n [@color-profile](#at-ruledef-profile) \n \n Value:\n [<ident>](https://www.w3.org/TR/css-values-4/#typedef-ident)[#](https://www.w3.org/TR/css-values-4/#mult-comma) \n \n Initial:\n n/a \n \n \nColor profiles can define color spaces which contain a varying number of components.\n For example, a Cyan, Magenta, Yellow and Black (CMYK) profile\n has four components\n named c, m, y and k\n While a four-component additive screen profile\n might use four components\n named r, g, y and b.\n\n \nThe value of this descriptor is a comma-separated list of [<ident>](https://www.w3.org/TR/css-values-4/#typedef-ident) tokens.\n Each <ident>> names a component,\n in the order in which they are used in the color profile,\n while the total number of tokens defines the number of components.\n\n \n [](#ex-components-cmyk) This descriptor declares that there are four components named cyan, magenta, yellow and black: \n\n```\ncomponents: cyan, magenta, yellow, black\n```\n\n \nwhile this descriptor opts for terser names:\n\n```\ncomponents: c,m,y,k\n```\n\n \n \n [](#ex-components-cmykogv) This descriptor declares that there are seven components\n named cyan, magenta, yellow, black, orange, green and violet: \n\n```\ncomponents: cyan, magenta, yellow, black, orange, green, violet\n```\n\n \n \nIf a component is an [ASCII case-insensitive](https://infra.spec.whatwg.org/#ascii-case-insensitive) match for [none](https://www.w3.org/TR/css-color-4/#valdef-color-none),\n the descriptor is invalid,\n because that would clash with the token for missing values.\n\n \nIf the name chosen for a component\n clashes with a CSS numeric constant\n as defined in [CSS Values 4 § 10.7.1 Numeric Constants: e, pi](https://www.w3.org/TR/css-values-4/#calc-constants) the component is still valid,\n but inside [calc()](https://www.w3.org/TR/css-values-4/#funcdef-calc) the component\n will be shadowed by the numeric constant\n leading to unexpected results.\n\n \n [](#ex-component-pi) This descriptor unwisely calls a component [pi](https://www.w3.org/TR/css-values-4/#valdef-calc-pi),\n leading to unexpected results in Relative Color Syntax. \n\n```\n@color-profile --unwise {\n src: url(https://example.com/unwise);\n components: mi, pi, ni;\n}\n--base: color(--unwise 35% 20% 8%);\n--accent: color(from var(--base) mi calc(pi * 2) calc(ni / 2));\n\n```\n\n \nHere, the component values of --accent are 35%,\n 3.14159265358979 * 2 = 6.28318530717959,\n 4%.\n\n \n 5.4. CSS and Print: Using Calibrated CMYK and Other Printed Color Spaces [](#cal-cmyk)\n \nThe [@color-profile](#at-ruledef-profile) at-rule is not restricted to RGB color spaces.\n While screens typically display colors directly in RGB,\n printers often represent colors with CMYK.\n\n \nCalibrated four color print with Cyan, Magenta, Yellow and Black (CMYK),\n or high-fidelity wide gamut printing with additional inks\n such as Cyan Magenta Yellow Black Orange Green Violet (CMYKOGV)\n can also be done in CSS,\n provided you have an ICC profile\n corresponding to the combination of\n inks, paper, total ink coverage and equipment\n you will use.\n\n \n [](#ex-fogra) For example, using offset printing to ISO 12647-2:2004 / Amd 1:2007\n using the FOGRA39 characterization data\n on 115gsm coated paper\n with an ink limit of 300% Total Area Coverage [[FOGRA39]](#biblio-fogra39). \n\n```\n@color-profile --fogra39 {\n src: url('https://example.org/Coated_Fogra39L_VIGC_300.icc');\n}\n.header {\n background-color: color(--fogra39 0% 70% 20% 0%);\n }\n\n```\n\n \nHere the color() function first states the name we have given the profile,\n then gives the percentage\n of cyan, magenta, yellow, and black.\n\n \nIn this profile, this resolves to the color  lab(63.673303% 51.576902 5.811058)\n which is  rgb(93.124, 44.098% 57.491%).\n\n \n \nBecause the actual color resulting from a given CMYK combination is known,\n an on-screen visualization of the printed output (soft-proof) can be made.\n\n \nAlso, procedures that rely on knowing the color\n (anti-aliasing, compositing, using the color in a gradient, etc)\n can proceed as normal.\n\n \n \n \nA grid of colored squares. There are six columns,\n labelled A to F,\n and four rows,\n labelled 1 to 4. \n\n \n \n \nA color checker, used for ensuring color fidelity\n in the print and photographic industries.\n Averaged measured Lab values are available for each patch.\n The rectangles show the Lab values, converted to sRGB.\n The circles, which are barely visible, show the Lab values,\n passed through a FOGRA51 [[FOGRA51]](#biblio-fogra51) ICC profile to convert them to CMYK.\n The CMYK values are then passed through the same ICC profile in reverse,\n to yield new Lab values. These are then converted to sRGB for display.\n\n \nThe one patch with a more visible circle (third row, first patch)\n is because the color is slightly outside the gamut of the\n FOGRA51 CMYK space used.\n\n \nThe table below shows, for each patch, the DeltaE 2000 between the original Lab and the Lab value after round-tripping through CMYK. A DeltaE 2000 of 1 or more is just visible.\n\n \n \n \n \n A\n B\n C\n D\n E\n F\n \n 1\n 0.06\n 0.07\n 0.03\n 0.04\n 0.06\n 0.17\n \n 2\n 0.03\n 0.75\n 0.05\n 0.06\n 0.03\n 0.02\n \n 3\n 1.9\n 0.04\n 0.06\n 0.05\n 0.02\n 0.05\n \n 4\n 0.03\n 0.08\n 0.03\n 0.03\n 0.04\n 0.80\n \n \n \n \n [](#ex-swop5v2) This example is using offset printing to ISO 12647-2:2004\n using the CGATS/SWOP TR005 2007 characterization data\n on grade 5 paper\n with an ink limit of 300% Total Area Coverage,\n and medium gray component replacement (GCR). \n\n```\n@color-profile --swop5c {\n src: url('https://example.org/SWOP2006_Coated5v2.icc');\n}\n.header {\n background-color: color(--swop5c 0% 70% 20% 0%);\n}\n\n```\n\n \nIn this profile, this amount of CMYK\n (the same percentages as the previous example)\n resolves to the color  lab(64.965217% 52.119710 5.406966)\n which is  rgb(94.903% 45.248% 59.104%).\n\n \n \nFallback colors can be specified,\n for example using media queries,\n to be used\n if the specified CMYK color is known\n to be outside the sRGB gamut.\n\n \n [](#ex-fogra39-fallback-mq) This example uses the same FOGRA39 setup as before,\n but specifies a bright green which is outside the sRGB gamut.\n It is, however, inside the display-p3 gamut.\n Therefore it is displayed as-is on wide gamut screens\n and in print,\n and a less intense fallback color is used on sRGB screens. \n\n```\n@media (color-gamut: srgb) {\n .header {\n background-color:  rgb(8.154% 60.9704% 37.184%);\n }\n}\n@media print, (color-gamut: p3){\n .header {\n background-color:  color(--fogra39 90% 0% 90% 0%);\n }\n}\n\n```\n\n \nThis CMYK color corresponds to lab(56.596645% -58.995875 28.072154)\n or lch(56.596645% 65.33421077211648 154.5533771086801).\n In sRGB this would be rgb(-60.568% 62.558% 32.390%) which,\n as the large negative red component shows,\n is out of gamut.\n\n \nReducing the chroma until the result is in gamut\n gives  lch(56.596645% 51 154.5533771086801)\n which is  rgb(8.154% 60.9704% 37.184%)\n and this has been manually specified as a fallback color.\n\n \nFor wide gamut screens, the color is inside the display-p3 gamut\n (it is display-p3(0.1658 0.6147 0.3533) ).\n\n \n \nColors are not restricted to four inks (CMYK). For example, wide-gamut 7 Color ink sets can be used.\n\n \n [](#ex-fogra55beta-7color)This example uses the beta FOGRA55 dataset [[FOGRA55]](#biblio-fogra55) for CMYKOGV seven-color printing.\n Four of the inks - black, cyan, magenta, and yellow - are the same as,\n and give the same results as, the FOGRA51 set.\n The other three inks are: \n \n\n Orange: CIELAB 65 58 88\n Green: CIELAB 60 -75 0 \n CIELAB 22 47 -56\n \n\n \nThe measurement condition is M1,\n which means that optical brighteners in the paper are accounted for\n and the spectrophotometer has no UV-cut filter.\n\n```\n@color-profile --fogra55beta {\n src: url('https://example.org/2020_13.003_FOGRA55beta_CL_Profile.icc');\n}\n.dark_skin {\n background-color: \n color(--fogra55beta 0.183596 0.464444 0.461729 0.612490 0.156903 0.000000 0.000000);\n}\n.light_skin {\n background-color: \n color(--fogra55beta 0.070804 0.334971 0.321802 0.215606 0.103107 0.000000 0.000000);\n}\n.blue_sky {\n background-color: \n color(--fogra55beta 0.572088 0.229346 0.081708 0.282044 0.000000 0.000000 0.168260);\n}\n.foliage {\n background-color: \n color(--fogra55beta 0.314566 0.145687 0.661941 0.582879 0.000000 0.234362 0.000000);\n}\n.blue_flower {\n background-color: \n color(--fogra55beta 0.375515 0.259934 0.034849 0.107161 0.000000 0.000000 0.308200);\n}\n.bluish_green {\n background-color: \n color(--fogra55beta 0.397575 0.010047 0.223682 0.031140 0.000000 0.317066 0.000000);\n}\n\n```\n\n \n 5.5. Converting CMYK colors to Lab [](#cmyk-to-lab)\n \nConversion from a calibrated CMYK color space to Lab\n is typically done by looking up the Lab values in an ICC profile.\n\n 5.6. Converting Lab colors to CMYK [](#lab-to-cmyk)\n \nFor print,\n Lab colors will need to be converted\n to the color space of the printer.\n\n \nThis is typically done by looking up the CMYK values in an ICC profile.",
      "rawLength": 52092
    },
    "device-cmyk": {
      "id": "device-cmyk",
      "heading": "6.  Uncalibrated CMYK Colors: the device-cmyk() Function",
      "content": "Sometimes, when a given printer has not been calibrated,\n but the output for particular ink combinations is known through experimentation,\n or via a printed sample swatchbook,\n it is useful to express CMYK colors\n in a device-dependent way.\n\n \nNote: Because the actual resulting color can be unknown,\n CSS processors might attempt to approximate it.\n This approximation is likely to be visually very far from the actual printed result.\n\n \nThe [device-cmyk()](#funcdef-device-cmyk) function allows authors to specify a color in this way:\n\n```\n**device-cmyk()** = [<legacy-device-cmyk-syntax>](#typedef-legacy-device-cmyk-syntax) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<modern-device-cmyk-syntax>](#typedef-modern-device-cmyk-syntax)\n**<legacy-device-cmyk-syntax>** = device-cmyk( [<number>](https://www.w3.org/TR/css-values-4/#number-value)[#{4}](https://www.w3.org/TR/css-values-4/#mult-comma) )\n**<modern-device-cmyk-syntax>** = device-cmyk( [<cmyk-component>](#typedef-cmyk-component)[{4}](https://www.w3.org/TR/css-values-4/#mult-num) [ / [ [<alpha-value>](https://www.w3.org/TR/css-color-4/#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [none](https://www.w3.org/TR/css-color-4/#valdef-color-none) ] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n**<cmyk-component>** = [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [none](https://www.w3.org/TR/css-color-4/#valdef-color-none)\n\n```\n\n \nThe arguments of the [device-cmyk()](#funcdef-device-cmyk) function specify the cyan, magenta, yellow, and black components, in order,\n as a number between 0 and 1\n or, in the modern syntax, as a percentage between 0% and 100%.\n These two usages are equivalent, and map to each other linearly.\n Values less than 0 or 0%, or greater than 1 or 100%,\n are not invalid;\n instead, they are clamped to 0/0% or 1/100% at computed-value time.\n\n \nIn the modern syntax, the fifth argument specifies the alpha component of the color.\n It’s interpreted identically to the fourth argument of the [rgb()](https://www.w3.org/TR/css-color-4/#funcdef-rgb) function.\n If omitted, it defaults to 100%.\n\n \nFor [historical reasons](https://www.w3.org/TR/2011/WD-css3-gcpm-20111129/#cmyk-colors), [device-cmyk()](#funcdef-device-cmyk) also support a [legacy color syntax](https://www.w3.org/TR/css-color-4/#legacy-color-syntax).\n\n \nTypically, print-based applications will actually store the used colors as CMYK,\n and send them to the printer in that form.\n However, such colors do not have a colorimetric interpretation,\n and thus cannot be used in gradients, compositing, blending and so on.\n\n \nAs such, Device CMYK colors must be converted to an equivalent color.\n This is not trivial, like the conversion from HSL or HWB to RGB;\n the precise conversion depends on the precise characteristics of the output device.\n\n \n\n If the user, author, or user-agent stylesheet\n has an [@color-profile](#at-ruledef-profile) definition for device-cmyk,\n and the resource specified by the src descriptor can be retrieved,\n and the resource is a valid CMYK ICC profile,\n and the user agent can process ICC profiles,\n the computed value of the [device-cmyk()](#funcdef-device-cmyk) function\n must be the Lab value of the CMYK color.\n Otherwise,\n the computed value of the [device-cmyk()](#funcdef-device-cmyk) function must be\n the sRGB value of the CMYK color,\n as converted with the following naive conversion algorithm. \n \n\n \n [](#ex-device-cmyk-naive) For example, with no [@color-profile](#at-ruledef-profile),\n the following colors are equivalent, using the naive conversion. \n\n```\ncolor: device-cmyk(0 81% 81% 30%);\ncolor: rgb(178 34 34);\ncolor: firebrick;\n\n```\n\n \n \n [](#ex-device-cmyk-colprof) With the [@color-profile](#at-ruledef-profile) specified as in the example stylesheet,\n the following colors are equivalent, using colorimetric conversion. \n\n```\ncolor: device-cmyk(0 81% 81% 30%);\ncolor: lab(45.060% 45.477 35.459)\ncolor: rgb(70.690% 26.851% 19.724%);\n\n```\n\n \n \nThe naive conversion is necessarily approximate,\n since it has no knowledge of the colorimetry of the inks,\n the dot gain,\n the colorimetry of the RGB space, and so on.\n\n \n \n \nA grid of colored squares. There are six columns,\n labelled A to F,\n and four rows,\n labelled 1 to 4. \n\n \n \n \nA color checker, used for ensuring color fidelity\n in the print and photographic industries.\n Averaged measured Lab values are available for each patch.\n The rectangles show the Lab values, converted to sRGB.\n The circles show the Lab values, passed through an ICC profile to convert them to CMYK.\n The CMYK value are then naively converted to sRGB.\n\n \nThe table below shows, for each patch, the DeltaE 2000 between the original Lab and the Lab value after round-tripping through CMYK. A DeltaE 2000 of 1 or more is just visible, while 5 or more is just a different color altogether.\n\n \n \n \n \n A\n B\n C\n D\n E\n F\n \n 1\n 11.33\n 9.36\n 5.66\n 7.52\n 12.39\n 21.58\n \n 2\n 6.40\n 8.79\n 11.77\n 17.16\n 11.91\n 3.97\n \n 3\n 12.1\n 17.00\n 3.38\n 1.94\n 18.08\n 14.97\n \n 4\n 1.89\n 6.56\n 7.85\n 8.76\n 9.82\n 10.29\n \n \n \n 6.1. Naively Converting Between Uncalibrated CMYK and sRGB-Based Color [](#cmyk-rgb)\n \nTo **naively convert from CMYK to RGBA**:\n\n \n\n red = 1 - min(1, cyan * (1 - black) + black) \n green = 1 - min(1, magenta * (1 - black) + black) \n blue = 1 - min(1, yellow * (1 - black) + black) \n Alpha is same as for input color. \n \n\n \nTo **naively convert from RGBA to CMYK**:\n\n \n\n black = 1 - max(red, green, blue) \n cyan = (1 - red - black) / (1 - black), or 0 if black is 1 \n magenta = (1 - green - black) / (1 - black), or 0 if black is 1 \n yellow = (1 - blue - black) / (1 - black), or 0 if black is 1 \n alpha is the same as the input color",
      "rawLength": 12574
    },
    "light-dark": {
      "id": "light-dark",
      "heading": "7.  Reacting to the used color-scheme: the light-dark() Function",
      "content": "System colors have the ability to react to the current used color-scheme value.\n The [light-dark()](#funcdef-light-dark) function exposes the same capability to authors.\n\n```\n**light-dark()** = light-dark( [<color>](#typedef-color)[,](https://www.w3.org/TR/css-values-4/#comb-comma) [<color>](#typedef-color) )\n\n```\n\n \nThis function computes to the computed value of the first color,\n if the [used color scheme](https://www.w3.org/TR/css-color-adjust-1/#used-color-scheme) is [light](https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-light) or unknown,\n or to the computed value of the second color,\n if the used color scheme is [dark](https://www.w3.org/TR/css-color-adjust-1/#valdef-color-scheme-dark).\n\n \n Tests\n \n\n [light-dark-basic.html](https://wpt.fyi/results/css/css-color/light-dark-basic.html) [(live test)](http://wpt.live/css/css-color/light-dark-basic.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-basic.html)\n [light-dark-currentcolor.html](https://wpt.fyi/results/css/css-color/light-dark-currentcolor.html) [(live test)](http://wpt.live/css/css-color/light-dark-currentcolor.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-currentcolor.html)\n [light-dark-inheritance.html](https://wpt.fyi/results/css/css-color/light-dark-inheritance.html) [(live test)](http://wpt.live/css/css-color/light-dark-inheritance.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-inheritance.html)\n [light-dark-currentcolor-in-color.html](https://wpt.fyi/results/css/css-color/light-dark-currentcolor-in-color.html) [(live test)](http://wpt.live/css/css-color/light-dark-currentcolor-in-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-currentcolor-in-color.html)\n [highlight-styling-004.html](https://wpt.fyi/results/css/css-pseudo/highlight-styling-004.html) [(live test)](http://wpt.live/css/css-pseudo/highlight-styling-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-pseudo/highlight-styling-004.html)",
      "rawLength": 3972
    },
    "contrast-color": {
      "id": "contrast-color",
      "heading": "8.  Dynamically specifying a text color with adequate contrast: the contrast-color() Function",
      "content": "When colors are created dynamically, it can often be a challenge to specify a text color that\n provides adequate contrast with them when used as a background color.\n The [contrast-color()](#funcdef-contrast-color) function automatically provides a color with guaranteed color contrast\n when used as a text color on a solid background of the specified color.\n\n \nNote: Legibility is a complex topic, and sufficient color contrast is only one piece of the puzzle.\n Having a color pair with sufficient contrast does not guarantee that the text will be legible,\n as that also depends on a variety of factors, such as the font, the size of the text,\n the surrounding colors, etc.\n\n```\n**contrast-color()** = contrast-color( [<color>](#typedef-color) )\n\n```\n\n \n[contrast-color()](#funcdef-contrast-color) resolves to either [white](https://www.w3.org/TR/css-color-4/#valdef-color-white) or [black](https://www.w3.org/TR/css-color-4/#valdef-color-black),\n whichever produces maximum color contrast for text \n when the input color is used as a solid background.\n If both white and black produce the same contrast,\n it resolves to white.\n\n \nThe precise color contrast algorithm for determining whether to output a light or dark color\n is UA-defined at this level.\n\n \nNote: Future versions of this specification are expected to introduce more control over\n both the contrast algorithm(s) used, the use cases, as well as the returned color.\n\n \nUAs are advised to not simply use the WCAG 2.1 [section 1.4.3 Contrast (Minimum)](https://www.w3.org/TR/WCAG21/#contrast-minimum) contrast ratio algorithm to decide between light and dark colors, as it has [several known issues](https://www.cedc.tools/article.html).\n However, colors returned by this function should still meet the WCAG 2.1 [section 1.4.3 Contrast (Minimum)](https://www.w3.org/TR/WCAG21/#contrast-minimum) for AA large text, as many authors need to meet legal requirements that mandate this.\n\n \n Tests\n \n\n [contrast-color-001.html](https://wpt.fyi/results/css/css-color/contrast-color-001.html) [(live test)](http://wpt.live/css/css-color/contrast-color-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/contrast-color-001.html)\n [color-computed-contrast-color-function.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-contrast-color-function.html) [(live test)](http://wpt.live/css/css-color/parsing/color-computed-contrast-color-function.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-contrast-color-function.html)\n [color-invalid-contrast-color-function.html](https://wpt.fyi/results/css/css-color/parsing/color-invalid-contrast-color-function.html) [(live test)](http://wpt.live/css/css-color/parsing/color-invalid-contrast-color-function.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-contrast-color-function.html)\n [color-valid-contrast-color-function.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-contrast-color-function.html) [(live test)](http://wpt.live/css/css-color/parsing/color-valid-contrast-color-function.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-contrast-color-function.html)",
      "rawLength": 5157
    },
    "interpolation": {
      "id": "interpolation",
      "heading": "9.  Color Interpolation",
      "content": "9.1. Color Space for Interpolation[](#interpolation-space)\n \nThe [<color-interpolation-method>](#color-interpolation-method) is extended to allow use of the [custom color spaces](#custom-color):\n\n```\n**<color-space>** = [<rectangular-color-space>](#typedef-rectangular-color-space) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<polar-color-space>](#typedef-polar-color-space) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<custom-color-space>](#typedef-custom-color-space)\n**<rectangular-color-space>** = [srgb](https://www.w3.org/TR/css-color-4/#valdef-color-srgb) [|](https://www.w3.org/TR/css-values-4/#comb-one) [srgb-linear](https://www.w3.org/TR/css-color-4/#valdef-color-srgb-linear) [|](https://www.w3.org/TR/css-values-4/#comb-one) [display-p3](https://www.w3.org/TR/css-color-4/#valdef-color-display-p3) [|](https://www.w3.org/TR/css-values-4/#comb-one) display-p3-linear [|](https://www.w3.org/TR/css-values-4/#comb-one) [a98-rgb](https://www.w3.org/TR/css-color-4/#valdef-color-a98-rgb) [|](https://www.w3.org/TR/css-values-4/#comb-one) [prophoto-rgb](https://www.w3.org/TR/css-color-4/#valdef-color-prophoto-rgb) [|](https://www.w3.org/TR/css-values-4/#comb-one) [rec2020](https://www.w3.org/TR/css-color-4/#valdef-color-rec2020) [|](https://www.w3.org/TR/css-values-4/#comb-one) [lab](https://www.w3.org/TR/css-color-4/#valdef-lab-lab) [|](https://www.w3.org/TR/css-values-4/#comb-one) [oklab](https://www.w3.org/TR/css-color-4/#valdef-oklab-oklab) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<xyz-space>](https://www.w3.org/TR/css-color-4/#typedef-xyz-space)\n**<polar-color-space>** = [hsl](https://www.w3.org/TR/css-color-4/#valdef-hsl-hsl) [|](https://www.w3.org/TR/css-values-4/#comb-one) [hwb](https://www.w3.org/TR/css-color-4/#valdef-hwb-hwb) [|](https://www.w3.org/TR/css-values-4/#comb-one) [lch](https://www.w3.org/TR/css-color-4/#valdef-lch-lch) [|](https://www.w3.org/TR/css-values-4/#comb-one) [oklch](https://www.w3.org/TR/css-color-4/#valdef-oklch-oklch)\n**<custom-color-space>** = [<dashed-ident>](https://www.w3.org/TR/css-values-4/#typedef-dashed-ident)\n**<hue-interpolation-method>** = [ shorter [|](https://www.w3.org/TR/css-values-4/#comb-one) longer [|](https://www.w3.org/TR/css-values-4/#comb-one) increasing [|](https://www.w3.org/TR/css-values-4/#comb-one) decreasing ] hue\n**<color-interpolation-method>** = in [ [<rectangular-color-space>](#typedef-rectangular-color-space) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<polar-color-space>](#typedef-polar-color-space) [<hue-interpolation-method>](#typedef-hue-interpolation-method)[?](https://www.w3.org/TR/css-values-4/#mult-opt) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<custom-color-space>](#typedef-custom-color-space) ]\n\n```\n\n \nThe [<dashed-ident>](https://www.w3.org/TR/css-values-4/#typedef-dashed-ident) must have been declared\n in a valid [@color-profile](#at-ruledef-profile) rule,\n otherwise the [<color-interpolation-method>](#color-interpolation-method) is invalid.",
      "rawLength": 7203
    },
    "resolving-color-values": {
      "id": "resolving-color-values",
      "heading": "10.  Resolving &lt;color> Values",
      "content": "10.1. Resolving [color-mix()](#funcdef-color-mix) Values [](#resolving-mix)\n \nIf all [<color>](#typedef-color) parameters resolve\n to the corresponding colors in their respective color spaces,\n the computed value is the mixed color,\n in the specified mixing color space,\n resolved according to [CSS Color 4 §  14. Resolving <color> Values](https://www.w3.org/TR/css-color-4/#resolving-color-values).\n Otherwise (if [currentColor](https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor) was used in the function),\n the computed value is the [color-mix()](#funcdef-color-mix) function\n with each <color> parameter resolved according to [CSS Color 4 §  14. Resolving <color> Values](https://www.w3.org/TR/css-color-4/#resolving-color-values),\n thus preserving inheritance into child elements.\n\n \n Tests\n \n\n [color-mix-currentcolor-001.html](https://wpt.fyi/results/css/css-color/color-mix-currentcolor-001.html) [(live test)](http://wpt.live/css/css-color/color-mix-currentcolor-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-001.html)\n [color-mix-currentcolor-002.html](https://wpt.fyi/results/css/css-color/color-mix-currentcolor-002.html) [(live test)](http://wpt.live/css/css-color/color-mix-currentcolor-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-002.html)\n [color-mix-currentcolor-003.html](https://wpt.fyi/results/css/css-color/color-mix-currentcolor-003.html) [(live test)](http://wpt.live/css/css-color/color-mix-currentcolor-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-003.html)\n [color-mix-currentcolor-nested-for-color-property.html](https://wpt.fyi/results/css/css-color/color-mix-currentcolor-nested-for-color-property.html) [(live test)](http://wpt.live/css/css-color/color-mix-currentcolor-nested-for-color-property.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-nested-for-color-property.html)\n [nested-color-mix-with-currentcolor.html](https://wpt.fyi/results/css/css-color/nested-color-mix-with-currentcolor.html) [(live test)](http://wpt.live/css/css-color/nested-color-mix-with-currentcolor.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/nested-color-mix-with-currentcolor.html)\n \n\n \n 10.2. Resolving Relative Color Syntax Values [](#resolving-rcs)\n \nIf all [<color>](#typedef-color) parameters resolve\n to the corresponding colors in their respective color spaces,\n the computed value is the absolute <color> value,\n in the specified RCS color space,\n resolved according to [CSS Color 4 §  14. Resolving <color> Values](https://www.w3.org/TR/css-color-4/#resolving-color-values).\n\n \n Tests\n \n\n [color-computed-relative-color.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html) [(live test)](http://wpt.live/css/css-color/parsing/color-computed-relative-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html)\n [color-valid-relative-color.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-relative-color.html) [(live test)](http://wpt.live/css/css-color/parsing/color-valid-relative-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-relative-color.html)\n [color-invalid-relative-color.html](https://wpt.fyi/results/css/css-color/parsing/color-invalid-relative-color.html) [(live test)](http://wpt.live/css/css-color/parsing/color-invalid-relative-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-relative-color.html)\n \n\n \n \nOtherwise (if [currentColor](https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor) was used in the function),\n the computed value is the Relative Color Syntax function\n with the origin [<color>](#typedef-color) parameter resolved according to [CSS Color 4 §  14. Resolving <color> Values](https://www.w3.org/TR/css-color-4/#resolving-color-values),\n thus preserving inheritance into child elements.\n\n \n Tests\n \n\n [relative-currentcolor-a98rgb-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-a98rgb-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-a98rgb-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-a98rgb-01.html)\n [relative-currentcolor-lch-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-lch-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-lch-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lch-01.html)\n [relative-currentcolor-rgb-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html)\n [relative-currentcolor-displayp3-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-displayp3-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-displayp3-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-displayp3-01.html)\n [relative-currentcolor-oklab-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html)\n [relative-currentcolor-rgb-02.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html)\n [relative-currentcolor-hsl-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html)\n [relative-currentcolor-oklch-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-oklch-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-oklch-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklch-01.html)\n [relative-currentcolor-xyzd50-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd50-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-xyzd50-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd50-01.html)\n [relative-currentcolor-hsl-02.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html)\n [relative-currentcolor-prophoto-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-prophoto-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-prophoto-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-prophoto-01.html)\n [relative-currentcolor-xyzd65-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd65-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-xyzd65-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd65-01.html)\n [relative-currentcolor-hwb-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html)\n [relative-currentcolor-rec2020-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-rec2020-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-01.html)\n [relative-currentcolor-lab-01.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-lab-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html)\n [relative-currentcolor-rec2020-02.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-02.html) [(live test)](http://wpt.live/css/css-color/relative-currentcolor-rec2020-02.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-02.html)\n \n\n \n 10.3. Resolving device-cmyk Values [](#resolving-device-cmyk-values)\n \nThe computed and used value\n is the specified device-specific CMYK color,\n (with components as [<number>](https://www.w3.org/TR/css-values-4/#number-value), not [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value))\n paired with the specified alpha component\n (as a <number>, not a <percentage>;\n and defaulting to opaque if unspecified).\n\n \nThe [actual value](https://www.w3.org/TR/css-cascade-5/#actual-value) can vary based on the operation;\n for rendering to a CMYK-capable device,\n it may be rendered as a CMYK color;\n for blending with non-CMYK colors\n or rendering to a non-CMYK device,\n it must be converted\n as specified in [§ 6 Uncalibrated CMYK Colors: the device-cmyk() Function](#device-cmyk).\n\n \n [](#ex-device-cmyk-used) For example, \n\n```\n device-cmyk(0% 70% 20% 0%)\n\n```\n\n \nhas the specified and actual value\n\n```\n device-cmyk(0 0.7 0.2 0)\n\n```\n\n \nand will, if the implementation understands ICC profiles\n and has an appropriate profile installed,\n have the used value\n\n```\n lab(63.673% 51.577 5.811)\n\n```\n\n \nNote: As with all colors, the used value is not available to script.",
      "rawLength": 18128
    },
    "serial": {
      "id": "serial",
      "heading": "11.  Serialization",
      "content": "This section extends [CSS Color 4 §  15. Serializing <color> Values](https://www.w3.org/TR/css-color-4/#serializing-color-values) to add serialization of the\nresults of the [color-mix()](#funcdef-color-mix), [device-cmyk()](#funcdef-device-cmyk),\nand\nrelative color functions.\n\n \nIn this section, the strings used in the specification and the corresponding characters are as follows.\n\n \n \n \n String\n Character\n \n \" \"\n U+0020 SPACE\n \n \",\"\n U+002C COMMA\n \n \"-\"\n U+002D HYPHEN-MINUS\n \n \".\"\n U+002E FULL STOP\n \n \"/\"\n U+002F SOLIDUS\n \n \nThe string \".\" shall be used as a decimal separator,\nregardless of locale,\nand there shall be no thousands separator.\n\n \nAs usual,\nif the alpha of the result is exactly 1,\nit is omitted from the serialization;\nan implicit value of 1 (fully opaque) is the default.\n\n 11.1. Serializing color-mix() [](#serial-color-mix)\n \nThe serialization of the declared value of a [color-mix()](#funcdef-color-mix) function\nis the string \"color-mix(in \",\nfollowed by the specified [<color-space>](#typedef-color-space) in all-lowercase,\nfollowed by \", \",\nfollowed by the first specified color,\nfollowed by a space,\nfollowed by the serialization of the first percentage (see below)\nfollowed by \", \",\nfollowed by the second specified color,\nfollowed by the serialization of the second percentage (see below),\nfollowed by \")\".\n\n \nThe serialization of the first percentage of a declared value of a [color-mix()](#funcdef-color-mix) function is defined as:\n\n \n\n \n \nIf BOTH the first percentage p1 and second percentage p2 are specified:\n\n \n\n \n \nif both p1 equals 50% and p2 equals 50%, nothing is serialized. \n\n \n \nelse, p1 is serialized as is. \n\n \n\n \n \nelse if ONLY the first percentage p1 is specified:\n\n \n\n \n \nif p1 is equal to 50%, nothing is serialized. \n\n \n \nelse, p1 is serialized as is. \n\n \n\n \n \nelse if ONLY the second percentage p2 is specified:\n\n \n\n \n \nif p2 equals 50%, nothing is serialized. \n\n \n \nif p2 is not [calc()](https://www.w3.org/TR/css-values-4/#funcdef-calc), the value of 100% - p2 is serialized. \n\n \n \nelse, nothing is serialized. \n\n \n\n \n \nelse if NEITHER is specified:\n\n \n\n \n \nnothing is serialized. \n\n \n\n \n\n \nThe serialization of the second percentage of a declared value of a [color-mix()](#funcdef-color-mix) function is defined as:\n\n \n\n \n \nIf BOTH the first percentage p1 and second percentages p2 are specified:\n\n \n\n \n \nif neither p1 nor p2 is calc(), and p1 + p2 equals 100%, nothing is serialized. \n\n \n \nelse, p2 is serialized as is. \n\n \n\n \n \nelse if ONLY the first percentage p1 is specified:\n\n \n\n \n \nnothing is serialized. \n\n \n\n \n \nelse if ONLY the second percentage p2 is specified:\n\n \n\n \n \nif p2 equals 50%, nothing is serialized. \n\n \n \nif p2 is not calc(), nothing is serialized. \n\n \n \nelse, p2 is serialized as is. \n\n \n\n \n \nelse if NEITHER is specified:\n\n \n\n \n \nnothing is serialized. \n\n \n\n \n\n \nNote: [calc()](https://www.w3.org/TR/css-values-4/#funcdef-calc) values are consider to be unknown,\nso are never equal 50%,\nand never sum with something else to equal 100%.\n\n \n [](#ex-serial-specified-mix) For example, the serialized declared value of \n\n```\ncolor-mix(in oklab, teal, peru 40%)\n```\n\n \nwould be the string \"color-mix(in oklab, teal 60%, peru)\".\n\n \nThe serialized declared value of\n\n```\ncolor-mix(in oklab, teal 50%, peru 50%)\n```\n\n \nwould be the string \"color-mix(in oklab, teal, peru)\".\n\n \nThe serialized declared value of\n\n```\ncolor-mix(in oklab, teal 70%, peru 70%)\n```\n\n \nwould be the string \"color-mix(in oklab, teal 70%, peru 70%)\"\n because the fact that these normalize to 50% each\n is only discovered after percentage normalization.\n\n \n \nThe serialization of the result of a [color-mix()](#funcdef-color-mix) function\ndepends on whether the keyword [currentColor](https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor) is used in the mix.\nIf so, the result is serialized as the declared value.\nThis allows the correct mixture to be used\non child elements whose color property has a different value.\nOtherwise, it\nis a [<color>](#typedef-color),\nas defined in [CSS Color 4 §  15. Serializing <color> Values](https://www.w3.org/TR/css-color-4/#serializing-color-values).\nThe form used\ndepends on the color space specified with \"in\":\n\n \n \n \n mixing color space\n form\n \n srgb\n color(srgb r g b)\n \n srgb-linear\n color(srgb-linear r g b) \n \n display-p3\n color(display-p3 r g b) \n \n a98-rgb\n color(a98-rgb r g b) \n \n prophoto-rgb\n color(prophoto-rgb r g b) \n \n rec2020\n color(rec2020 r g b) \n \n hsl\n color(srgb r g b) \n \n hwb\n color(srgb r g b)\n \n xyz-d65\n color(xyz-d65 x y z)\n \n xyz-d50\n color(xyz-d50 x y z)\n \n xyz\n color(xyz-d65 x y z) [¹](#fn1)\n \n lab\n lab(l a b)\n \n lch\n lch(l c h)\n \n oklab\n oklab(l a b)\n \n oklch\n oklch(l c h)\n \n \n [](#fn1)¹\n Because [xyz](https://www.w3.org/TR/css-color-4/#valdef-color-xyz) is just an alias for [xyz-d65](https://www.w3.org/TR/css-color-4/#valdef-color-xyz-d65)\n \n \n Tests\n \n\n [color-valid-color-mix-function.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html) [(live test)](http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html)\n [color-mix-currentcolor-visited-getcomputedstyle.html](https://wpt.fyi/results/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html) [(live test)](http://wpt.live/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html)\n [color-mix-currentcolor-visited.html](https://wpt.fyi/results/css/css-color/color-mix-currentcolor-visited.html) [(live test)](http://wpt.live/css/css-color/color-mix-currentcolor-visited.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-visited.html)\n \n\n \n \nThe minimum precision for round-tripping\nis the same as that specified in [CSS Color 4 §  15. Serializing <color> Values](https://www.w3.org/TR/css-color-4/#serializing-color-values).\n\n \n [](#ex-serial-computed-color-mix) The result of this color mixture \n\n```\ncolor-mix(in lch, peru 40%, palegoldenrod)\n```\n\n \nis serialized as the string \"lch(79.7256 40.448 84.771)\"\n while the result of\n\n```\ncolor-mix(in srgb, peru 40%, palegoldenrod)\n```\n\n \nis serialized as the string \"color(srgb 0.8816 0.7545 0.4988)\".\n\n \n 11.2. Serializing Origin Colors [](#serial-origin-color)\n \nThe serialization of a the declared value of a color\nused as the [origin color](#origin-color) inside of another color function \nas components of a declared value is:\n\n \n\n \n \nFor [rgb()](https://www.w3.org/TR/css-color-4/#funcdef-rgb), [rgba()](https://www.w3.org/TR/css-color-4/#funcdef-rgba), [hsl()](https://www.w3.org/TR/css-color-4/#funcdef-hsl), [hsla()](https://www.w3.org/TR/css-color-4/#funcdef-hsla)\n\n \n\n \n\n \n \nthe string identifying the canonical color function,\n\"rgb\" for [rgb()](https://www.w3.org/TR/css-color-4/#funcdef-rgb) and [rgba()](https://www.w3.org/TR/css-color-4/#funcdef-rgba), \n\"hsl\" for [hsl()](https://www.w3.org/TR/css-color-4/#funcdef-hsl) and [hsla()](https://www.w3.org/TR/css-color-4/#funcdef-hsla), \nin all-lowercase, \nfollowed by \"(\", \nfollowed by a space separated list of the non-alpha components as specified \n(numbers serializing as numbers, \npercentages serializing as percentages, \nangles serializing as canonicalized angles in degrees, \ncalc() serializing in its simplified form) \nwith no clamping applied, \nfollowed by \" / \" and the alpha component as specified \n(using the same rules as the color components) \nif an alpha component is present, \nfollowed by \")\".\n\n \n\n \nNOTE: the same serialization is used regardless of whether the modern or legacy syntax was used.\n\n \n\n \n \nFor [hwb()](#funcdef-hwb), [lab()](#funcdef-lab), [lch()](#funcdef-lch), [oklab()](#funcdef-oklab), [oklch()](#funcdef-oklch)\n\n \n\n \n\n \n \nthe string identifying the color function in all-lowercase,\nfollowed by \"(\", \nfollowed by a space separated list of the non-alpha components as specified \n(numbers serializing as numbers, \npercentages serializing as percentages, \nangles serializing as canonicalized angles in degrees, \ncalc() serializing in its simplified form) with no clamping applied, \nfollowed by \" / \" and the alpha component as specified \n(using the same rules as the color components) \nif an alpha component is present, \nfollowed by \")\".\n\n \n\n \n\n \n \nFor [color()](#funcdef-color)\n\n \n\n \n\n \n \nthe string \"color(\"\nfollowed by the canonical colorspace \n(\"xyz-d65\" for \"xyz\") in all-lowercase \nfollowed by a space, \nfollowed by a space separated list of the non-alpha components as specified \n(numbers serializing as numbers, \npercentages serializing as percentages, \nangles serializing as canonicalized angles in degrees, \ncalc() serializing in its simplified form) \nwith no clamping applied, \nfollowed by \" / \" and the alpha component as specified \n(using the same rules as the color components) \nif an alpha component is present, \nfollowed by \")\".\n\n \n\n 11.3. Serializing Relative Color Functions [](#serial-relative-color)\n \nThe serialization of the declared value of a relative color is:\n\n \n\n \n \nFor [rgb()](https://www.w3.org/TR/css-color-4/#funcdef-rgb), [rgba()](https://www.w3.org/TR/css-color-4/#funcdef-rgba), [hsl()](https://www.w3.org/TR/css-color-4/#funcdef-hsl), [hsla()](https://www.w3.org/TR/css-color-4/#funcdef-hsla)\n\n \n\n \n\n \n \nthe string identifying the canonical color function,\n\"rgb\" for [rgb()](https://www.w3.org/TR/css-color-4/#funcdef-rgb) and [rgba()](https://www.w3.org/TR/css-color-4/#funcdef-rgba), \n\"hsl\" for [hsl()](https://www.w3.org/TR/css-color-4/#funcdef-hsl) and [hsla()](https://www.w3.org/TR/css-color-4/#funcdef-hsla), \nin all-lowercase, \nfollowed by \"(from \", \nfollowed by the [serialization of the origin color](#serial-origin-color) using the rules for serializing nested origin colors, \nfollowed by a single space, \nfollowed by a space separated list of the non-alpha channel arguments as specified \n(identifiers serializing as identifiers, \nnumbers and percentages serializing as numbers, \nangles serializing as canonicalized angles in degrees, \ncalc() serializing in its simplified form), \nfollowed (if the alpha component is non-unity) \nby \" / \" and the alpha component as specified \n(using the same rules as the color channel arguments, but clamped) \nfollowed by \")\".\n\n \n\n \n\n \n \nFor [hwb()](#funcdef-hwb), [lab()](#funcdef-lab), [lch()](#funcdef-lch), [oklab()](#funcdef-oklab), [oklch()](#funcdef-oklch)\n\n \n\n \n\n \n \nthe string identifying the color function in all-lowercase,\nfollowed by \"(from \", \nfollowed by the [serialization of the origin color](#serial-origin-color) using the rules for serializing nested origin colors, \nfollowed by a single space, \nfollowed by a space separated list of the non-alpha channel arguments as specified \n(identifiers serializing as identifiers, \nnumbers and percentages serializing as numbers, \nangles serializing as canonicalized angles in degrees, \ncalc() serializing in its simplified form), \nfollowed (if the alpha component is non-unity) \nby \" / \" and the alpha component as specified \n(using the same rules as the color channel arguments, but clamped) \nfollowed by \")\".\n\n \n\n \n\n \n \nFor [color()](#funcdef-color)\n\n \n\n \n\n \n \nthe string \"color(from \",\nfollowed by the [serialization of the origin color](#serial-origin-color) using the rules for serializing nested origin colors, \nfollowed by a single space, \nfollowed by the canonical colorspace (\"xyz-d65\" for \"xyz\") \nin all-lowercase, \nfollowed by a single space, \nfollowed by a space separated list of the non-alpha channel arguments as specified \n(identifiers serializing as identifiers, \nnumbers and percentages serializing as numbers, \nangles serializing as canonicalized angles in degrees, \ncalc() serializing in its simplified form), \nfollowed (if the alpha component is non-unity) \nby \" / \" and the alpha component as specified \n(using the same rules as the color channel arguments, but clamped) \nfollowed by \")\".\n\n \n\n \n [](#ex-serial-rcs-specified-simple) For example, the serialization of the declared value of \n\n```\nOkLcH(from peru l c h)\n```\n\n \nis the string \"oklch(from peru l c h)\"\n\n \n \n [](#ex-serial-rcs-calc) For example, the serialization of the declared value of \n\n```\nrgb(from red calc(r / 2) g calc(30%));\n```\n\n \nis the string \"rgb(from red calc(0.5 * r) g calc(30%))\",\nwhile the serialization of the computed value\nis the string \"color(srgb 0.5 0 0.3)\".\n\n \n \n [](#ex-serial-rcs-nested-none) For example, the serialization of the declared value of \n\n```\nhsl(from hsl(none 10% 50%) h s l);\n```\n\n \nis the string \"hsl(from hsl(none 10% 50%) h s l)\",\nwhile the serialization of the computed value\nis the string \"color(srgb 0.55 0.45 0.45)\".\n\n \n \n [](#ex-serial-rcs-hsl-unclamped) For example, the serialization of the declared value of \n\n```\nhsl(from hsl(127.9 302% 25.33%) h s l);\n```\n\n \nis the string \"hsl(from hsl(127.9 302% 25.33%) h s l)\",\nwhile the serialization of the computed value\nis the string \"color(srgb -0.511666 1.018266 -0.310225)\".\n\n \n \n [](#ex-serial-rcs-currentcolor) Given the following HTML (note the color property set on this element): \n\n```\n<div id=\"example\" \n style=\"background-color: rgb(from currentcolor r g calc(b / 2)); \n color: blue;\">\n</div>\n\n```\n\n \nThe serialization of the declared value of background-color is the string \"rgb(from currentcolor r g calc(b / 2))\"\nwhile the serialization of the computed value\nis the string \"color(srgb 0 0 0.5)\"\n\n \n \nThe serialization of the result of a relative color function\ndepends on whether the keyword [currentColor](https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor) is the [origin color](#origin-color).\nIf so, the result is serialized as the declared value.\nThis allows the correct value to be used\non child elements whose color property has a different value.\nOtherwise, it\nis the resolved value,\nwhich is a [<color>](#typedef-color),\nas defined in [CSS Color 4 §  15. Serializing <color> Values](https://www.w3.org/TR/css-color-4/#serializing-color-values).\n\n \nThe form used\ndepends on the color space of the [relative color](#relative-color):\n\n \n \n \n mixing color space\n form\n \n srgb\n color(srgb r g b)\n \n srgb-linear\n color(srgb-linear r g b) \n \n display-p3\n color(display-p3 r g b) \n \n a98-rgb\n color(a98-rgb r g b) \n \n prophoto-rgb\n color(prophoto-rgb r g b) \n \n rec2020\n color(rec2020 r g b) \n \n hsl\n color(srgb r g b) \n \n hwb\n color(srgb r g b)\n \n xyz-d65\n color(xyz-d65 x y z)\n \n xyz-d50\n color(xyz-d50 x y z)\n \n xyz\n color(xyz-d65 x y z)\n \n lab\n lab(l a b)\n \n lch\n lch(l c h)\n \n oklab\n oklab(l a b)\n \n oklch\n oklch(l c h)\n \n \n Tests\n \n\n \n \nThe minimum precision for round-tripping\nis the same as that specified in [CSS Color 4 § 15.5 Serializing values of the color() function](https://www.w3.org/TR/css-color-4/#serializing-color-function-values).\n\n \n [](#ex-serial-rcs-computed) The result of serializing \n\n```\nlch(from peru calc(l * 0.8) calc(c * 0.7) calc(h + 180)) \n```\n\n \nis the string \"lch(49.80224 37.80819 243.6803)\"\n\n \n 11.4. Serializing Custom Color Spaces [](#serial-custom-color)\n \nThe precision with which [color()](#funcdef-color) component values are retained,\nand thus the number of significant figures in the serialized value,\nis not defined in this specification,\nbut for CMYK color spaces must at least be sufficient\nto round-trip values\nwith eight bit precision;\nthis will result in at least two decimal places\nunless trailing zeroes have been omitted.\n\n \n [](#ex-color-swop-serial) \n \nThe serialized value of the color in\n\n```\n@color-profile --swop5c {src: url('https://example.org/SWOP2006_Coated5v2.icc');\n}\n.header {\nbackground-color: color(--swop5c 0% 70.0% 20.00% .0%);\n}\n```\n\n \nis the string \"color(--swop5c 0 0.7 0.2 0)\"\n\n \n 11.5. Serializing device-cmyk Values [](#serializing-device-cmyk-values)\n \nThe serialized form of [device-cmyk()](#funcdef-device-cmyk) values\n is derived from the [computed value](https://www.w3.org/TR/css-cascade-5/#computed-value) and uses the device-cmyk() form,\n with lowercase letters for the function name.\n\n \nThe component values are serialized in base 10,\n as [<number>](https://www.w3.org/TR/css-values-4/#number-value).\n A single ASCII space character \" \"\n must be used as the separator\n between the component values.\n\n \nTrailing fractional zeroes in any component values must be omitted;\n if the fractional part consists of all zeroes,\n the decimal point must also be omitted.\n\n \n [](#ex-device-cmyk-serial) \n \nThe serialized value of the color\n\n```\n device-cmyk(0 81% 81% 30%)\n```\n\n \nis the string \"device-cmyk(0 0.81 0.81 0.3)\"\n\n \n \nThe precision with which [device-cmyk()](#funcdef-device-cmyk) component values are retained,\n and thus the number of significant figures in the serialized value,\n is not defined in this specification,\n but must at least be sufficient\n to round-trip values\n with eight bit precision;\n this will result in at least two decimal places\n unless trailing zeroes have been omitted.\n Values must be [rounded towards +∞](https://drafts.csswg.org/css-values-4/#combine-integers), not truncated.\n\n \nUnitary alpha values are not explicitly serialized.\n Non-unitary alpha values must be explicitly serialized,\n and the string \" / \"\n (an ASCII space, then forward slash, then another space)\n must be used to separate\n the black (\"k\") color component value\n from the alpha value.",
      "rawLength": 28927
    },
    "apis": {
      "id": "apis",
      "heading": "12. APIs",
      "content": "12.1. The `CSSColorProfileRule` interface[](#the-csscolorprofilerule-interface)\n \nThe [CSSColorProfileRule](#csscolorprofilerule) interface represents a [@color-profile](#at-ruledef-profile) rule.\n\n```\n[[Exposed](https://webidl.spec.whatwg.org/#Exposed)=Window]\ninterface CSSColorProfileRule : [CSSRule](https://www.w3.org/TR/cssom-1/#cssrule) {\n readonly attribute [CSSOMString](https://www.w3.org/TR/cssom-1/#cssomstring) [name](#dom-csscolorprofilerule-name) ;\n readonly attribute [CSSOMString](https://www.w3.org/TR/cssom-1/#cssomstring) [src](#dom-csscolorprofilerule-src) ;\n readonly attribute [CSSOMString](https://www.w3.org/TR/cssom-1/#cssomstring) [renderingIntent](#dom-csscolorprofilerule-renderingintent) ;\n readonly attribute [CSSOMString](https://www.w3.org/TR/cssom-1/#cssomstring) [components](#dom-csscolorprofilerule-components) ;\n};\n\n```\n\n \n **`name`**, of type [CSSOMString](https://www.w3.org/TR/cssom-1/#cssomstring), readonly\n The name attribute on getting must return\n a `CSSOMString` object\n that contains the serialization\n of the [color profile’s](#css-color-profile) name defined for the associated rule. \n **`src`**, of type [CSSOMString](https://www.w3.org/TR/cssom-1/#cssomstring), readonly\n **`renderingIntent`**, of type [CSSOMString](https://www.w3.org/TR/cssom-1/#cssomstring), readonly\n **`components`**, of type [CSSOMString](https://www.w3.org/TR/cssom-1/#cssomstring), readonly\n The remaining attributes on getting\n must return a `CSSOMString` object\n that contains the serialization of the\n associated descriptor defined for the associated rule.\n If the descriptor was not specified in the associated rule,\n the attribute must return an empty string.",
      "rawLength": 4513
    },
    "sample": {
      "id": "sample",
      "heading": "13.  Default Style Rules",
      "content": "The following stylesheet is informative, not normative. This style sheet could be used by an implementation as part of its default styling of HTML Family documents.\n\n```\n/* traditional desktop user agent colors for hyperlinks */\n:link { color: LinkText; }\n:visited { color: VisitedText; }\n:active { color: ActiveText; }\n\n/* a reasonable, conservative default for device-cmyk */\n@color-profile device-cmyk {\n src: url('https://drafts.csswg.org/css-color-4/ICCprofiles/Coated_Fogra39L_VIGC_300.icc');\n}\n\n```",
      "rawLength": 838
    },
    "color-conversion-code": {
      "id": "color-conversion-code",
      "heading": "14.  Sample code for Color Conversions",
      "content": "This section is not normative.\n\n \nThe naive conversion from device-cmyk is trivial:\n\n```\nfunction naive(cmyk) {\n // naively convert an array of CMYK values\n // to sRGB\n let [cyan, magenta, yellow, black] = cmyk;\n let red = 1 - Math.min(1, cyan * (1 - black) + black);\n let green = 1 - Math.min(1, magenta * (1 - black) + black);\n let blue = 1 - Math.min(1, yellow * (1 - black) + black);\n return [red, green, blue];\n}\n\n```",
      "rawLength": 1227
    },
    "security": {
      "id": "security",
      "heading": "15.  Security Considerations",
      "content": "This specification adds to CSS the on-demand\ndownloading of ICC profiles.\nThese do not contain executable code,\nand thus do not constitute an increased security risk.",
      "rawLength": 181
    },
    "privacy": {
      "id": "privacy",
      "heading": "16.  Privacy Considerations",
      "content": "No new privacy considerations have been reported on this specification.",
      "rawLength": 86
    },
    "a11y-sec": {
      "id": "a11y-sec",
      "heading": "17. Accessibility Considerations",
      "content": "This specification adds a way to ensure adequate contrast for text whose background is a user-specified color, including dynamic colors.",
      "rawLength": 151
    },
    "idl-index": {
      "id": "idl-index",
      "heading": "IDL Index",
      "content": "```\n[[Exposed](https://webidl.spec.whatwg.org/#Exposed)=Window]\ninterface [CSSColorProfileRule](#csscolorprofilerule) : [CSSRule](https://www.w3.org/TR/cssom-1/#cssrule) {\n readonly attribute [CSSOMString](https://www.w3.org/TR/cssom-1/#cssomstring) [name](#dom-csscolorprofilerule-name) ;\n readonly attribute [CSSOMString](https://www.w3.org/TR/cssom-1/#cssomstring) [src](#dom-csscolorprofilerule-src) ;\n readonly attribute [CSSOMString](https://www.w3.org/TR/cssom-1/#cssomstring) [renderingIntent](#dom-csscolorprofilerule-renderingintent) ;\n readonly attribute [CSSOMString](https://www.w3.org/TR/cssom-1/#cssomstring) [components](#dom-csscolorprofilerule-components) ;\n};\n\n```",
      "rawLength": 144348
    }
  }
}