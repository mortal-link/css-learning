{
  "specName": "css-grid-2",
  "extractedAt": "2026-02-06T03:06:35.341Z",
  "totalSections": 25,
  "coreSections": 18,
  "sections": {
    "sotd": {
      "id": "sotd",
      "heading": "Status of this document",
      "content": "This section describes the status of this document at the time of its publication.\n A list of current W3C publications\n and the latest revision of this technical report\n can be found in the [W3C standards and drafts index at https://www.w3.org/TR/.](https://www.w3.org/TR/) \n\n \n This document was published\n by the [CSS Working Group](https://www.w3.org/groups/wg/css) as a Candidate Recommendation Draft using the [Recommendation\n track](https://www.w3.org/policies/process/20231103/#recs-and-notes).\n Publication as a Candidate Recommendation\n does not imply endorsement by W3C and its Members.\n A Candidate Recommendation Draft\n integrates changes from the previous Candidate Recommendation\n that the Working Group intends to include in a subsequent Candidate Recommendation Snapshot. \n\n \n This is a draft document\n and may be updated, replaced\n or obsoleted by other documents at any time.\n It is inappropriate to cite this document as other than work in progress. \n\n \nPlease send feedback\n by [filing issues in GitHub](https://github.com/w3c/csswg-drafts/issues) (preferred),\n including the spec code “css-grid” in the title, like this:\n “[css-grid] …summary of comment…”.\n All issues and comments are [archived](https://lists.w3.org/Archives/Public/public-css-archive/).\n Alternately, feedback can be sent to the ([archived](https://lists.w3.org/Archives/Public/www-style/)) public mailing list [www-style@w3.org](mailto:www-style@w3.org?Subject=%5Bcss-grid%5D%20PUT%20SUBJECT%20HERE). \n\n \nThis document is governed by the [03 November 2023 W3C Process Document](https://www.w3.org/policies/process/20231103/). \n\n \nThis document was produced by a group operating under the [W3C Patent Policy](https://www.w3.org/policies/patent-policy/20200915/).\n W3C maintains a [public list of any patent disclosures](https://www.w3.org/groups/wg/css/ipr) made in connection with the deliverables of the group;\n that page also includes instructions for disclosing a patent.\n An individual who has actual knowledge of a patent which the individual believes\n contains [Essential Claim(s)](https://www.w3.org/policies/patent-policy/20200915/#def-essential) must disclose the information in accordance with [section 6 of the W3C Patent Policy](https://www.w3.org/policies/patent-policy/20200915/#sec-Disclosure).",
      "rawLength": 2743
    },
    "intro": {
      "id": "intro",
      "heading": "1.  Introduction",
      "content": "This section is not normative.\n\n \nGrid Layout is a layout model for CSS\n that has powerful abilities to control the sizing and positioning of boxes and their contents.\n Unlike [Flexible Box Layout](https://www.w3.org/TR/css-flexbox-1/), which is single-axis–oriented,\n Grid Layout is optimized for 2-dimensional layouts:\n those in which alignment of content is desired in both dimensions.\n\n \n \n Representative Flex Layout Example\n \n \n \n Representative Grid Layout Example\n \n \nIn addition, due to its ability to explicitly position items in the grid,\n Grid Layout allows dramatic transformations in visual layout structure\n without requiring corresponding markup changes.\n By combining [media queries](https://www.w3.org/TR/css3-mediaqueries/) with the CSS properties that control layout of the grid container and its children,\n authors can adapt their layout to changes in device form factors, orientation, and available space,\n while preserving a more ideal semantic structuring of their content\n across presentations.\n\n \nAlthough many layouts can be expressed with either Grid or Flexbox,\n they each have their specialties.\n Grid enforces 2-dimensional alignment,\n uses a top-down approach to layout,\n allows explicit overlapping of items,\n and has more powerful spanning capabilities.\n Flexbox focuses on space distribution within an axis,\n uses a simpler bottom-up approach to layout,\n can use a content-size–based line-wrapping system to control its secondary axis,\n and relies on the underlying markup hierarchy\n to build more complex layouts.\n It is expected that both will be valuable\n and complementary tools for CSS authors.\n\n \nGrid Level 2 adds the [subgrid](#subgrids) feature:\n a subgridded axis is one which matches up its grid lines\n to lines in the element’s parent’s grid,\n and which derives the sizes of its tracks\n through this integration with the parent grid.\n\n 1.1. Background and Motivation[](#background)\n \n \n Application layout example requiring horizontal and vertical alignment.\n \n \nAs websites evolved from simple documents into complex, interactive applications,\n techniques for document layout, e.g. floats,\n were not necessarily well suited for application layout.\n By using a combination of tables, JavaScript, or careful measurements on floated elements,\n authors discovered workarounds to achieve desired layouts.\n Layouts that adapted to the available space were often brittle\n and resulted in counter-intuitive behavior as space became constrained.\n As an alternative, authors of many web applications opted for a fixed layout\n that cannot take advantage of changes in the available rendering space on a screen.\n\n \nThe capabilities of grid layout address these problems.\n It provides a mechanism for authors to divide available space for layout into columns and rows\n using a set of predictable sizing behaviors.\n Authors can then precisely position and size the building block elements of their application\n into the [grid areas](#grid-area) defined by the intersections of these columns and rows.\n The following examples illustrate the adaptive capabilities of grid layout,\n and how it allows a cleaner separation of content and style.\n\n 1.1.1. Adapting Layouts to Available Space[](#adapting-to-available-space)\n \n \n Five grid items arranged according to content size and available space.\n \n \n \n Growth in the grid due to an increase in available space.\n \n \nGrid layout can be used to intelligently resize elements within a webpage.\n The adjacent figures represent a game with five major components in the layout:\n the game title, stats area, game board, score area, and control area.\n The author’s intent is to divide the space for the game such that:\n\n \n\n The stats area always appears immediately under the game title. \n The game board appears to the right of the stats and title. \n The top of the game title and the game board should always align. \n The bottom of the game board and bottom of the stats area align when the game has reached its minimum height.\n In all other cases the game board will stretch to take advantage of all the space available to it. \n The controls are centered under the game board. \n The top of the score area is aligned to the top of the controls area. \n The score area is beneath the stats area. \n The score area is aligned to the controls beneath the stats area. \n \n\n \nThe following grid layout example shows how an author might achieve\n all the sizing, placement, and alignment rules declaratively.\n\n \n [](#example-1d4671e1) \n\n```\n/**\n * Define the space for each [grid item](#grid-item) by declaring the grid\n * on the [grid container](#grid-container).\n */\n#grid {\n /**\n * Two columns:\n * 1. the first sized to content,\n * 2. the second receives the remaining space\n * (but is never smaller than the minimum size of the board\n * or the game controls, which occupy this column [Figure 4])\n *\n * Three rows:\n * 3. the first sized to content,\n * 4. the middle row receives the remaining space\n * (but is never smaller than the minimum height\n * of the board or stats areas)\n * 5. the last sized to content.\n */\n display: grid;\n grid-template-columns:\n /* 1 */ auto\n /* 2 */ 1fr;\n grid-template-rows:\n /* 3 */ auto\n /* 4 */ 1fr\n /* 5 */ auto;\n}\n\n/* Specify the position of each [grid item](#grid-item) using coordinates on\n * the 'grid-row' and 'grid-column' properties of each [grid item](#grid-item).\n */\n#title { grid-column: 1; grid-row: 1; }\n#score { grid-column: 1; grid-row: 3; }\n#stats { grid-column: 1; grid-row: 2; align-self: start; }\n#board { grid-column: 2; grid-row: 1 / span 2; }\n#controls { grid-column: 2; grid-row: 3; justify-self: center; }\n\n```\n\n```\n<div id=\"grid\">\n <div id=\"title\">Game Title</div>\n <div id=\"score\">Score</div>\n <div id=\"stats\">Stats</div>\n <div id=\"board\">Board</div>\n <div id=\"controls\">Controls</div>\n</div>\n\n```\n\n \n \nNote: There are multiple ways to specify the structure of the grid\n and to position and size [grid items](#grid-item),\n each optimized for different scenarios.\n\n 1.1.2. Source-Order Independence[](#source-independence)\n \n \n An arrangement suitable for “portrait” orientation.\n \n \n \n An arrangement suitable for “landscape“ orientation.\n \n \nContinuing the prior example,\n the author also wants the game to adapt to different devices.\n Also, the game should optimize the placement of the components when viewed either in portrait or landscape orientation (Figures 6 and 7).\n By combining grid layout with media queries,\n the author is able to use the same semantic markup,\n but rearrange the layout of elements independent of their source order,\n to achieve the desired layout in both orientations.\n\n \nThe following example uses grid layout’s ability to name the space which will be occupied by a [grid item](#grid-item).\n This allows the author to avoid rewriting rules for grid items as the grid’s definition changes.\n\n \n [](#example-dcdb8379) \n\n```\n@media (orientation: portrait) {\n #grid {\n display: grid;\n\n /* The rows, columns and areas of the grid are defined visually\n * using the grid-template-areas property. Each string is a row,\n * and each word an area. The number of words in a string\n * determines the number of columns. Note the number of words\n * in each string must be identical. */\n grid-template-areas: \"title stats\"\n \"score stats\"\n \"board board\"\n \"ctrls ctrls\";\n\n /* The way to size columns and rows can be assigned with the\n * grid-template-columns and grid-template-rows properties. */\n grid-template-columns: auto 1fr;\n grid-template-rows: auto auto 1fr auto;\n }\n}\n\n@media (orientation: landscape) {\n #grid {\n display: grid;\n\n /* Again the template property defines areas of the same name,\n * but this time positioned differently to better suit a\n * landscape orientation. */\n grid-template-areas: \"title board\"\n \"stats board\"\n \"score ctrls\";\n\n grid-template-columns: auto 1fr;\n grid-template-rows: auto 1fr auto;\n }\n}\n\n/* The grid-area property places a grid item into a named\n * area of the grid. */\n#title { grid-area: title }\n#score { grid-area: score }\n#stats { grid-area: stats }\n#board { grid-area: board }\n#controls { grid-area: ctrls }\n\n```\n\n```\n<div id=\"grid\">\n <div id=\"title\">Game Title</div>\n <div id=\"score\">Score</div>\n <div id=\"stats\">Stats</div>\n <div id=\"board\">Board</div>\n <div id=\"controls\">Controls</div>\n</div>\n\n```\n\n \n \nNote: The reordering capabilities of grid layout intentionally affect only the visual rendering,\n leaving speech order and navigation based on the source order.\n This allows authors to manipulate the visual presentation\n while leaving the source order intact and optimized for non-CSS UAs\n and for linear models such as speech and sequential navigation.\n\n \n Grid item placement and reordering must not be used\n as a substitute for correct source ordering,\n as that can ruin the accessibility of the document.\n\n 1.2. Value Definitions[](#values)\n \nThis specification follows the [CSS property definition conventions](https://www.w3.org/TR/CSS2/about.html#property-defs) from [[CSS2]](#biblio-css2) using the [value definition syntax](https://www.w3.org/TR/css-values-3/#value-defs) from [[CSS-VALUES-3]](#biblio-css-values-3).\n Value types not defined in this specification are defined in CSS Values & Units [CSS-VALUES-3].\n Combination with other CSS modules may expand the definitions of these value types.\n\n \nIn addition to the property-specific values listed in their definitions,\n all properties defined in this specification\n also accept the [CSS-wide keywords](https://www.w3.org/TR/css-values-4/#css-wide-keywords) as their property value.\n For readability they have not been repeated explicitly.",
      "rawLength": 17450
    },
    "overview": {
      "id": "overview",
      "heading": "2.  Overview",
      "content": "This section is not normative.\n\n \nGrid Layout controls the layout of its content\n through the use of a [grid](#grid):\n an intersecting set of horizontal and vertical lines\n which create a sizing and positioning coordinate system\n for the [grid container](#grid-container)’s contents.\n Grid Layout features\n\n \n\n fixed, flexible, and content-based [track sizing functions](#track-sizing) \n [explicit item placement](#placement) via forwards (positive) and backwards (negative) numerical grid coordinates,\n named grid lines, and named grid areas;\n automatic item placement into empty areas, including [reordering with order](#order-property) \n space-sensitive track repetition\n and\n automatic addition of rows or columns to accommodate additional content \n control over alignment and spacing with [margins](#auto-margins), [gutters](https://www.w3.org/TR/css-align-3/#gutter), and the [alignment properties](https://www.w3.org/TR/css-align/) \n the ability to overlap content and [control layering with z-index](#z-order) \n \n\n \n[Grid containers](#grid-container) can be nested or mixed with [flex containers](https://www.w3.org/TR/css-flexbox-1/#flex-container) as necessary to create more complex layouts.\n\n 2.1. Declaring the Grid[](#overview-grid)\n \nThe [tracks](#grid-track) ([rows](#grid-row) and [columns](#grid-column)) of the [grid](#grid) are declared and sized\n either explicitly through the [explicit grid](#explicit-grid) properties\n or are implicitly created when items are placed outside the explicit grid.\n The [grid](#propdef-grid) shorthand and its sub-properties define the parameters\n of the grid. [§ 7 Defining the Grid](#grid-definition)\n\n \n [](#example-78337715) Below are some examples of grid declarations: \n \n\n \n The following declares a grid with four named areas: `H`, `A`, `B`,\n and `F`.\n The first column is sized to fit its contents ([auto](#valdef-grid-template-columns-auto)),\n and the second column takes up the remaining space ([1fr](#valdef-flex-fr)).\n Rows default to auto (content-based) sizing;\n the last row is given a fixed size of 30px. \n\n```\nmain {\n display: grid;\n grid: \"H H \"\n \"A B \"\n \"F F \" 30px\n / auto 1fr;\n}\n\n```\n\n \n The following declares a grid with as many rows of at least 5em as will fit in the height of the grid container (100vh).\n The grid has no explicit columns;\n instead columns are added as content is added,\n the resulting column widths are equalized ([1fr](#valdef-flex-fr)).\n Since content overflowing to the right won’t print,\n an alternate layout for printing adds rows instead. \n\n```\nmain {\n display: grid;\n grid: repeat(auto-fill, 5em) / auto-flow 1fr;\n height: 100vh;\n}\n@media print {\n main {\n grid: auto-flow 1fr / repeat(auto-fill, 5em);\n }\n}\n\n```\n\n \n The following declares a grid with 5 evenly-sized columns\n and three rows,\n with the middle row taking up all remaining space\n (and at least enough to fit its contents). \n\n```\nmain {\n display: grid;\n grid: auto 1fr auto / repeat(5, 1fr);\n min-height: 100vh;\n}\n\n```\n\n \n\n \n 2.2. Placing Items[](#overview-placement)\n \nThe contents of the [grid container](#grid-container) are organized into individual [grid items](#grid-item) (analogous to [flex items](https://www.w3.org/TR/css-flexbox-1/#flex-item)),\n which are then assigned to predefined [areas](#grid-area) in the [grid](#grid).\n They can be explicitly placed using coordinates through the [grid-placement properties](#grid-placement-property) or implicitly placed into empty areas using [auto-placement](#auto-placement). [§ 8 Placing Grid Items](#placement)\n\n \n [](#example-9f280f0c) Below are some examples of grid placement declarations\n using the [grid-area](#propdef-grid-area) shorthand: \n\n```\ngrid-area: a; /* Place into named grid area “a” */\ngrid-area: auto; /* Auto-place into next empty area */\ngrid-area: 2 / 4; /* Place into row 2, column 4 */\ngrid-area: 1 / 3 / -1; /* Place into column 3, span all rows */\ngrid-area: header-start / sidebar-start / footer-end / sidebar-end;\n /* Place using named lines */\n\n```\n\n \nThese are equivalent to the following [grid-row](#propdef-grid-row) + [grid-column](#propdef-grid-column) declarations:\n\n```\ngrid-row: a; grid-column: a;\ngrid-row: auto; grid-column: auto;\ngrid-row: 2; grid-column: 4;\ngrid-row: 1 / -1; grid-column: 3;\ngrid-row: header-start / footer-end; grid-column: sidebar-start / sidebar-end;\n\n```\n\n \nThey can further be decomposed into the [grid-row-start](#propdef-grid-row-start)/[grid-row-end](#propdef-grid-row-end)/[grid-column-start](#propdef-grid-column-start)/[grid-column-end](#propdef-grid-column-end) longhands, e.g.\n\n```\ngrid-area: a;\n/* Equivalent to grid-row-start: a; grid-column-start: a; grid-row-end: a; grid-column-end: a; */\n\ngrid-area: 1 / 3 / -1;\n/* Equivalent to grid-row-start: 1; grid-column-start: 3; grid-row-end: -1; grid-column-end: auto; */\n\n```\n\n \n 2.3. Sizing the Grid[](#overview-sizing)\n \nOnce the [grid items](#grid-item) have been [placed](#placement),\n the sizes of the [grid tracks](#grid-track) (rows and columns) are calculated,\n accounting for the sizes of their contents and/or available space as specified in the grid definition.\n\n \nThe resulting sized grid is [aligned](#grid-align) within the [grid container](#grid-container) according to the grid container’s [align-content](https://www.w3.org/TR/css-align-3/#propdef-align-content) and [justify-content](https://www.w3.org/TR/css-align-3/#propdef-justify-content) properties. [§ 11 Alignment and Spacing](#alignment)\n\n \n [](#example-b6cb46e7) The following example justifies all columns\n by distributing any extra space between them,\n and centers the grid in the [grid container](#grid-container) when it is smaller than 100vh. \n\n```\nmain {\n display: grid;\n grid: auto-flow auto / repeat(auto-fill, 5em);\n min-height: 100vh;\n justify-content: space-between;\n align-content: safe center;\n}\n\n```\n\n \n \nFinally each [grid item](#grid-item) is sized and aligned within its assigned [grid area](#grid-area),\n as specified by its own [sizing](https://www.w3.org/TR/CSS2/visudet.html) [[CSS2]](#biblio-css2) and [alignment properties](https://www.w3.org/TR/css-align-3/#box-alignment-properties) [[CSS-ALIGN-3]](#biblio-css-align-3).",
      "rawLength": 10541
    },
    "grid-concepts": {
      "id": "grid-concepts",
      "heading": "3.  Grid Layout Concepts and Terminology",
      "content": "In **grid layout**,\n the content of a [grid container](#grid-container) is laid out\n by positioning and aligning it into a [grid](#grid).\n The **grid** is an intersecting set of horizontal and vertical [grid lines](#grid-line) that divides the grid container’s space into [grid areas](#grid-area),\n into which [grid items](#grid-item) (representing the grid container’s content) can be placed.\n There are two sets of grid lines:\n one set defining **columns** that run along the [block axis](https://www.w3.org/TR/css3-writing-modes/#block-axis),\n and an orthogonal set defining **rows** along the [inline axis](https://www.w3.org/TR/css3-writing-modes/#inline-axis). [[CSS3-WRITING-MODES]](#biblio-css3-writing-modes)\n\n \n \n Grid lines: Three in the block axis and four in the inline axis.\n \n 3.1. Grid Lines[](#grid-line-concept)\n \n**Grid lines** are the horizontal and vertical dividing lines of the [grid](#grid).\n A [grid line](#grid-line) exists on either side of a column or row.\n They can be referred to by numerical index,\n or by an author-specified name.\n A [grid item](#grid-item) references the grid lines to determine its position within the grid using the [grid-placement properties](#placement).\n\n \n [](#example-38bc117e) The following two examples both create three column [grid lines](#grid-line) and four row grid lines. \n \nThis first example demonstrates how an author would position a [grid item](#grid-item) using [grid line](#grid-line) numbers:\n\n```\n#grid {\n display: grid;\n grid-template-columns: 150px 1fr;\n grid-template-rows: 50px 1fr 50px;\n}\n\n#item1 { grid-column: 2;\n grid-row-start: 1; grid-row-end: 4; }\n\n```\n\n \nThis second example uses explicitly named [grid lines](#grid-line):\n\n```\n/* equivalent layout to the prior example, but using named lines */\n#grid {\n display: grid;\n grid-template-columns: 150px [item1-start] 1fr [item1-end];\n grid-template-rows: [item1-start] 50px 1fr 50px [item1-end];\n}\n\n#item1 {\n grid-column: item1-start / item1-end;\n grid-row: item1-start / item1-end;\n}\n\n```\n\n \n 3.2. Grid Tracks and Cells[](#grid-track-concept)\n \n**Grid track** is a generic term for a [grid column](#grid-column) or [grid row](#grid-row)—in\n other words, it is the space between two adjacent [grid lines](#grid-line).\n Each [grid track](#grid-track) is assigned a sizing function,\n which controls how wide or tall the column or row may grow,\n and thus how far apart its bounding grid lines are.\n Adjacent grid tracks can be separated by [gutters](#gutters) but are otherwise packed tightly.\n\n \nA **grid cell** is the intersection of a grid row and a grid column.\n It is the smallest unit of the grid that can be referenced when positioning [grid items](#grid-item).\n\n \n [](#example-1c5d4651) In the following example there are two columns and three rows.\n The first column is fixed at 150px.\n The second column uses flexible sizing, which is a function of the unassigned space in the grid,\n and thus will vary as the width of the [grid container](#grid-container) changes.\n If the used width of the grid container is 200px, then the second column is 50px wide.\n If the used width of the grid container is 100px, then the second column is 0px\n and any content positioned in the column will overflow the grid container. \n\n```\n#grid {\n display: grid;\n grid-template-columns: 150px 1fr; /* two columns */\n grid-template-rows: 50px 1fr 50px; /* three rows */\n}\n\n```\n\n \n 3.3. Grid Areas[](#grid-area-concept)\n \nA **grid area** is the logical space used to lay out one or more [grid items](#grid-item).\n A [grid area](#grid-area) consists of one or more adjacent [grid cells](#grid-cell).\n It is bound by four [grid lines](#grid-line), one on each side of the grid area,\n and participates in the sizing of the [grid tracks](#grid-track) it intersects.\n A grid area can be named explicitly using the [grid-template-areas](#propdef-grid-template-areas) property of the [grid container](#grid-container),\n or referenced implicitly by its bounding grid lines.\n A grid item is assigned to a grid area using the [grid-placement properties](#placement).\n\n \n [](#example-909c0a0c) \n\n```\n/* using the template syntax */\n#grid {\n display: grid;\n grid-template-areas: \". a\"\n \"b a\"\n \". a\";\n grid-template-columns: 150px 1fr;\n grid-template-rows: 50px 1fr 50px;\n height: 100vh;\n}\n\n#item1 { grid-area: a }\n#item2 { grid-area: b }\n#item3 { grid-area: b }\n\n/* Align items 2 and 3 at different points in the grid area \"b\". */\n/* By default, grid items are stretched to fit their grid area */\n/* and these items would layer one over the other. */\n#item2 { align-self: start; }\n#item3 { justify-self: end; align-self: end; }\n\n```\n\n \n \nA [grid item](#grid-item)’s [grid area](#grid-area) forms the containing block into which it is laid out. Grid items placed into the same grid area do not directly affect each other’s layout.\n Indirectly, however, a grid item occupying a [grid track](#grid-track) with an [intrinsic sizing function](#intrinsic-sizing-function) can affect the size of that track (and thus the positions of its bounding [grid lines](#grid-line)),\n which in turn can affect the position or size of another grid item.\n\n 3.4. Nested vs. Subgridded Items[](#subgrid-items)\n \nA [grid item](#grid-item) can itself be a [grid container](#grid-container) by giving it [display: grid](https://www.w3.org/TR/css-display-4/#propdef-display).\n In the general case the layout of this **nested grid**’s contents\n will be independent of the layout of the **parent grid** it participates in.\n\n \nHowever, in some cases it might be necessary\n for the contents of multiple [grid items](#grid-item) to align to each other.\n A [nested grid](#nested-grid) can defer the definition of its rows and/or columns to its parent [grid container](#grid-container),\n making it a **subgrid**.\n In this case, the grid items of the [subgrid](#subgrid) participate in sizing the [parent grid](#parent-grid),\n allowing the contents of both grids to align.\n See [§ 9 Subgrids](#subgrids).\n\n \nA [subgrid](#subgrid) is established by the [subgrid](#valdef-grid-template-rows-subgrid) keyword\n of [grid-template-rows](#propdef-grid-template-rows) or [grid-template-columns](#propdef-grid-template-columns),\n and can be [subgridded](#subgridded-axis) in either axis or in both.\n A grid that has no subgridded axis is a **standalone grid**.\n\n \n [](#example-921f3930) For example, suppose we have a form consisting of a list of inputs with labels: \n\n```\n<ul>\n <li><label>Name:</label> <input name=fn>\n <li><label>Address:</label> <input name=address>\n <li><label>Phone:</label> <input name=phone>\n</ul>\n\n```\n\n \nWe want the labels and inputs to align, and we want to style each list item with a border.\n This can be accomplished with subgrid layout:\n\n```\nul {\n display: grid;\n grid: auto-flow / auto 1fr;\n}\nli {\n grid-column: span 2;\n display: grid;\n grid-template-columns: subgrid;\n border: solid;\n}\nlabel {\n grid-column: 1;\n}\ninput {\n grid-column: 2;\n}\n\n```",
      "rawLength": 14389
    },
    "order-accessibility": {
      "id": "order-accessibility",
      "heading": "4.  Reordering and Accessibility",
      "content": "Grid layout gives authors great powers of rearrangement over the document.\n However, these are not a substitute for correct ordering of the document source.\n The [order](https://www.w3.org/TR/css-flexbox-1/#propdef-order) property and [grid placement](#grid-placement) do not affect ordering in non-visual media\n (such as [speech](https://www.w3.org/TR/css3-speech/)).\n Likewise, rearranging grid items visually does not affect\n the default traversal order of sequential navigation modes\n (such as cycling through links, see e.g. [`tabindex`](https://html.spec.whatwg.org/multipage/interaction.html#attr-tabindex) [[HTML]](#biblio-html)).\n\n \n Authors must use [order](https://www.w3.org/TR/css-flexbox-1/#propdef-order) and the [grid-placement properties](#grid-placement-property) only for visual, not logical, reordering of content.\n Style sheets that use these features to perform logical reordering are non-conforming.\n\n \nNote: This is so that non-visual media and non-CSS UAs,\n which typically present content linearly,\n can rely on a logical source order,\n while grid layout’s placement and ordering features are used to tailor the visual arrangement.\n (Since visual perception is two-dimensional and non-linear,\n the desired visual order is not always equivalent to the desired reading order.)\n\n \n [](#example-33799738) Many web pages have a similar shape in the markup,\n with a header on top,\n a footer on bottom,\n and then a content area and one or two additional columns in the middle.\n Generally,\n it’s desirable that the content come first in the page’s source code,\n before the additional columns.\n However, this makes many common designs,\n such as simply having the additional columns on the left and the content area on the right,\n difficult to achieve.\n This has been addressed in many ways over the years,\n often going by the name \"Holy Grail Layout\" when there are two additional columns.\n Grid Layout makes this example trivial.\n For example, take the following sketch of a page’s code and desired layout: \n \n \n\n```\n<!DOCTYPE html>\n<header>...</header>\n<main>...</main>\n<nav>...</nav>\n<aside>...</aside>\n<footer>...</footer>\n\n```\n\n \n \n \n \nThis layout can be easily achieved with grid layout:\n\n```\nbody { display: grid;\n grid: \"h h h\"\n \"a b c\"\n \"f f f\";\n grid-template-columns: auto 1fr 20%; }\nmain { grid-area: b; min-width: 12em; }\nnav { grid-area: a; /* auto min-width */ }\naside { grid-area: c; min-width: 12em; }\n\n```\n\n \nAs an added bonus,\n the columns will all be [equal-height](https://www.w3.org/TR/css-align-3/#valdef-align-self-stretch) by default,\n and the main content will be as wide as necessary to fill the screen.\n Additionally,\n this can then be combined with media queries to switch to an all-vertical layout on narrow screens:\n\n```\n@media all and (max-width: 60em) {\n /* Too narrow to support three columns */\n body { display: block; }\n}\n\n```\n\n \n \nIn order to preserve the author’s intended ordering in all presentation modes,\n authoring tools—including WYSIWYG editors as well as Web-based authoring aids—​must reorder the underlying document source\n and not use [order](https://www.w3.org/TR/css-flexbox-1/#propdef-order) or [grid-placement properties](#grid-placement-property) to perform reordering\n unless the author has explicitly indicated that the underlying\n document order (which determines speech and navigation order) should be out-of-sync with the visual order.\n\n \n [](#example-29a4cd08) For example, a tool might offer both drag-and-drop arrangement of grid items\n as well as handling of media queries for alternate layouts per screen size range. \n \nSince most of the time, reordering should affect all screen ranges\n as well as navigation and speech order,\n the tool would match the resulting drag-and-drop visual arrangement\n by simultaneously reordering the DOM layer.\n In some cases, however, the author may want different visual arrangements per screen size.\n The tool could offer this functionality\n by using the [grid-placement properties](#grid-placement-property) together with media queries,\n but also tie the smallest screen size’s arrangement to the underlying DOM order\n (since this is most likely to be a logical linear presentation order)\n while using grid-placement properties to rearrange the visual presentation in other size ranges.\n\n \nThis tool would be conformant, whereas a tool that only ever used\n the [grid-placement properties](#grid-placement-property) to handle drag-and-drop grid rearrangement\n (however convenient it might be to implement it that way)\n would be non-conformant.",
      "rawLength": 7215
    },
    "grid-model": {
      "id": "grid-model",
      "heading": "5.  Grid Containers",
      "content": "5.1. Establishing Grid Containers: the [grid](#valdef-display-grid) and [inline-grid](#valdef-display-inline-grid) [display](https://www.w3.org/TR/css-display-4/#propdef-display) values[](#grid-containers)\n \n \n \n \n Name:\n [display](https://www.w3.org/TR/css-display-4/#propdef-display)\n \n [New values:](https://www.w3.org/TR/css-values/#value-defs)\n grid [|](https://www.w3.org/TR/css-values-4/#comb-one) inline-grid \n \n \n \n **grid** \n This value causes an element to generate a [grid container](#grid-container) box\n that is [block-level](https://www.w3.org/TR/css-display-4/#block-level) when placed in [flow layout](https://www.w3.org/TR/css-display-4/#flow-layout). \n **inline-grid** \n This value causes an element to generate a [grid container](#grid-container) box\n that is [inline-level](https://www.w3.org/TR/css-display-4/#inline-level) when placed in [flow layout](https://www.w3.org/TR/css-display-4/#flow-layout). \n \n \nA **grid container** that is not a [subgrid](#subgrid) establishes\n an [independent](https://www.w3.org/TR/css-display-4/#independent-formatting-context) **grid formatting context** for its contents.\n This is the same as establishing an independent [block formatting context](https://www.w3.org/TR/css-display-4/#block-formatting-context),\n except that grid layout is used instead of block layout:\n floats do not intrude into the grid container,\n and the grid container’s margins do not collapse with the margins of its contents.\n The contents of a [grid container](#grid-container) are laid out into a [grid](#grid),\n with [grid lines](#grid-line) forming the boundaries of each [grid items](#grid-item)’ containing block.\n\n \nUnlike those of a regular nested grid,\n a [subgrid](#subgrid)’s contents participate in its parent [grid formatting context](#grid-formatting-context);\n thus a subgrid does not establish an [independent formatting context](https://www.w3.org/TR/css-display-4/#independent-formatting-context).\n\n \nGrid containers are not block containers,\n and so some properties that were designed with the assumption of block layout\n don’t apply in the context of grid layout.\n In particular:\n\n \n\n [float](https://www.w3.org/TR/CSS2/visuren.html#propdef-float) and [clear](https://www.w3.org/TR/CSS2/visuren.html#propdef-clear) have no effect on a [grid item](#grid-item).\n However, the float property still affects the computed value of [display](https://www.w3.org/TR/css-display-4/#propdef-display) on children of a grid container,\n as this occurs before grid items are determined. \n [vertical-align](https://www.w3.org/TR/css-inline-3/#propdef-vertical-align) has no effect on a grid item. \n the [::first-line](https://www.w3.org/TR/css-pseudo-4/#selectordef-first-line) and [::first-letter](https://www.w3.org/TR/css-pseudo-4/#selectordef-first-letter) pseudo-elements do not apply to [grid containers](#grid-container),\n and grid containers do not contribute a first formatted line or first letter to their ancestors. \n \n\n \nIf an element’s specified [display](https://www.w3.org/TR/css-display-4/#propdef-display) is [inline-grid](#valdef-display-inline-grid) and the element is floated or absolutely positioned,\n the computed value of display is [grid](#valdef-display-grid).\n The table in [CSS 2.1 Chapter 9.7](https://www.w3.org/TR/CSS2/visuren.html#dis-pos-flo) is thus amended\n to contain an additional row,\n with inline-grid in the \"Specified Value\" column\n and grid in the \"Computed Value\" column.\n\n 5.2. Sizing Grid Containers[](#intrinsic-sizes)\n \nNote see [[CSS-SIZING-3]](#biblio-css-sizing-3) for a definition of the terms in this section.\n\n \nA [grid container](#grid-container) is sized\n using the rules of the formatting context in which it participates:\n\n \n\n As a [block-level](https://www.w3.org/TR/css-display-4/#block-level) box in a [block formatting context](https://www.w3.org/TR/css-display-4/#block-formatting-context),\n it is sized like a [block box](https://www.w3.org/TR/css-display-4/#block-box) that establishes a formatting context,\n with an [auto](#grid-placement-auto) [inline size](https://www.w3.org/TR/css-writing-modes-4/#inline-size) calculated as for non-replaced block boxes. \n As an inline-level box in an [inline formatting context](https://www.w3.org/TR/css-display-4/#inline-formatting-context),\n it is sized as an atomic inline-level box (such as an inline-block). \n \n\n \nIn both inline and block formatting contexts,\n the [grid container](#grid-container)’s [auto](#grid-placement-auto) [block size](https://www.w3.org/TR/css-writing-modes-4/#block-size) is its max-content size.\n\n \nThe block layout spec should probably define this,\n but it isn’t written yet.\n\n \nThe [max-content size](https://www.w3.org/TR/css-sizing-3/#max-content) ([min-content size](https://www.w3.org/TR/css-sizing-3/#min-content)) of a [grid container](#grid-container) is\n the sum of the grid container’s track sizes (including gutters)\n in the appropriate axis,\n when the grid is sized under a [max-content constraint](https://www.w3.org/TR/css-sizing-3/#max-content-constraint) ([min-content constraint](https://www.w3.org/TR/css-sizing-3/#min-content-constraint)).\n\n 5.3. Scrollable Grid Overflow[](#overflow)\n \nThe [overflow](https://www.w3.org/TR/css-overflow-3/#propdef-overflow) property applies to [grid containers](#grid-container).\n\n \nJust as it is included in intrinsic sizing (see [§ 5.2 Sizing Grid Containers](#intrinsic-sizes)),\n the [grid](#grid) is also included\n in a [grid container](#grid-container)’s [scrollable overflow region](https://www.w3.org/TR/css-overflow-3/#scrollable-overflow-region).\n\n \nNote: Beware the interaction with padding\n when the [grid container](#grid-container) is a [scroll container](https://www.w3.org/TR/css-overflow-3/#scroll-container):\n additional padding is defined to be added\n to the [scrollable overflow rectangle](https://www.w3.org/TR/css-overflow-3/#scrollable-overflow-rectangle) as needed to enable [place-content: end](https://www.w3.org/TR/css-align-3/#propdef-place-content) alignment of scrollable content.\n See [CSS Overflow 3 § 2.2 Scrollable Overflow](https://www.w3.org/TR/css-overflow-3/#scrollable)\n\n 5.4. Limiting Large Grids[](#overlarge-grids)\n \nSince memory is limited,\n UAs may clamp the possible size of the [implicit grid](#implicit-grid) to be within a UA-defined limit\n (which should accommodate lines in the range [-10000, 10000]),\n dropping all lines outside that limit.\n If a grid item is placed outside this limit,\n its grid area must be [clamped](#clamp-a-grid-area) to within this limited grid.\n\n \nTo **clamp a grid area**:\n\n \n\n \n \nIf the [grid area](#grid-area) would [span](#grid-span) outside the limited grid,\nits span is clamped to the last line of the limited [grid](#grid).\n\n \n \nIf the [grid area](#grid-area) would be placed completely outside the limited grid,\nits span must be truncated to 1\nand the area repositioned into the last [grid track](#grid-track) on that side of the grid.\n\n \n\n \n [](#example-39312220) For example, if a UA only supported grids with at most 1000 tracks in each dimension,\n the following placement properties: \n\n```\n.grid-item {\n grid-row: 500 / 1500;\n grid-column: 2000 / 3000;\n}\n\n```\n\n \nWould end up being equivalent to:\n\n```\n.grid-item {\n grid-row: 500 / 1001;\n grid-column: 1000 / 1001;\n}\n\n```",
      "rawLength": 14164
    },
    "grid-items": {
      "id": "grid-items",
      "heading": "6.  Grid Items",
      "content": "Loosely speaking, the **grid items** of a [grid container](#grid-container) are boxes representing its [in-flow](https://www.w3.org/TR/css-display-4/#in-flow) contents.\n\n \nEach [in-flow](https://www.w3.org/TR/css-display-4/#in-flow) child of a [grid container](#grid-container) becomes a [grid item](#grid-item),\n and each child [text sequence](https://www.w3.org/TR/css-display-4/#css-text-sequence) is wrapped in an [anonymous](https://www.w3.org/TR/css-display-4/#anonymous) [block container](https://www.w3.org/TR/css-display-4/#block-container) grid item.\n However, if the text sequence contains only [white space](https://www.w3.org/TR/CSS2/text.html#white-space-prop) (i.e. characters that can be affected by the [white-space](https://www.w3.org/TR/css-text-4/#propdef-white-space) property)\n it is instead not rendered (just as if its [text nodes](https://www.w3.org/TR/css-display-4/#text-nodes) were display:none).\n\n \n [](#example-4842bdfd) \n \nExamples of grid items: \n\n```\n<div style=\"display: grid\">\n\n <!-- grid item: block child -->\n <div id=\"item1\">block</div>\n\n <!-- grid item: floated element; floating is ignored -->\n <div id=\"item2\" style=\"float: left;\">float</div>\n\n <!-- grid item: anonymous block box around inline content -->\n anonymous item 3\n\n <!-- grid item: inline child -->\n <span>\n item 4\n <!-- grid items do not [split](https://www.w3.org/TR/CSS2/visuren.html#anonymous-block-level) around blocks -->\n <q style=\"display: block\" id=not-an-item>item 4</q>\n item 4\n </span>\n</div>\n\n```\n\n \n grid items determined from above code block\n [ \n - grid item containing block. \n- grid item containing float. \n- (Anonymous, unstyleable) grid item containing anonymous item 3. \n- grid item containing three blocks in succession: \n Anonymous block containing item 4. \n- `<q>` element block containing item 4. \n- Anonymous block containing item 4. \n\n \n ](examples/grid-item-determination.html) \n \n \n \nNote: inter-element white space disappears:\n it does not become its own grid item,\n even though inter-element text does get wrapped in an anonymous grid item.\n\n \nNote: The box of a anonymous item is unstyleable,\n since there is no element to assign style rules to.\n Its contents will however inherit styles (such as font settings) from the grid container.\n\n 6.1. Grid Item Display[](#grid-item-display)\n \nUnless it is a [subgrid](#subgrid),\n a [grid item](#grid-item) [establishes an independent formatting context](https://www.w3.org/TR/css-display-4/#establish-an-independent-formatting-context) for its contents.\n However, grid items are **grid-level** boxes, not block-level boxes:\n they participate in their container’s [grid formatting context](#grid-formatting-context),\n not in a block formatting context.\n\n \nIf the [computed](https://www.w3.org/TR/css-cascade-5/#computed-value) [display](https://www.w3.org/TR/css-display-4/#propdef-display) value of an element’s nearest ancestor element\n (skipping display:contents ancestors)\n is [grid](#valdef-display-grid) or [inline-grid](#valdef-display-inline-grid),\n the element’s own display value is [blockified](https://www.w3.org/TR/css-display-4/#blockify).\n (See [CSS2.1§9.7](https://www.w3.org/TR/CSS2/visuren.html#dis-pos-flo) [[CSS2]](#biblio-css2) and [CSS Display 3 § 2.7 Automatic Box Type Transformations](https://www.w3.org/TR/css-display-3/#transformations) for details on this type of display value conversion.)\n\n \nNote: Blockification still occurs even when the [grid](#valdef-display-grid) or [inline-grid](#valdef-display-inline-grid) element does not end up generating a [grid container](#grid-container) box,\n e.g. when it is [replaced](https://www.w3.org/TR/css-display-4/#replaced-element) or in a [display: none](https://www.w3.org/TR/css-display-4/#propdef-display) subtree.\n\n \nNote: Some values of [display](https://www.w3.org/TR/css-display-4/#propdef-display) normally trigger the creation of anonymous boxes around the original box.\n If such a box is a [grid item](#grid-item),\n it is blockified first,\n and so anonymous box creation will not happen.\n For example, two contiguous grid items with display: table-cell will become two separate display: block grid items,\n instead of being wrapped into a single anonymous table.\n\n 6.2. Grid Item Sizing[](#grid-item-sizing)\n \nA [grid item](#grid-item) is sized within the containing block defined by its [grid area](#grid-area).\n\n \n[Grid item](#grid-item) calculations for [automatic sizes](https://www.w3.org/TR/css-sizing-3/#automatic-size) in a given dimensions\n vary by their [self-alignment values](https://www.w3.org/TR/css-align-3/#self-alignment):\n\n \n [normal](https://www.w3.org/TR/css-align-3/#valdef-align-self-normal)\n \n \nIf the grid item has no [preferred aspect ratio](https://www.w3.org/TR/css-sizing-4/#preferred-aspect-ratio),\nand no [natural size](https://www.w3.org/TR/css-images-3/#natural-size) in the relevant axis (if it is a [replaced element](https://www.w3.org/TR/css-display-4/#replaced-element)),\nthe grid item is sized as for [align-self: stretch](https://www.w3.org/TR/css-align-3/#propdef-align-self).\n\n \nOtherwise,\nthe grid item is sized\nconsistent with the size calculation rules for block-level elements\nfor the corresponding axis.\n(See [CSS 2 §  10 Visual formatting model details](https://www.w3.org/TR/CSS2/visudet.html#q10.0).)\n\n [stretch](https://www.w3.org/TR/css-align-3/#valdef-align-self-stretch)\n \n \nUse the [inline size](https://www.w3.org/TR/css-writing-modes-4/#inline-size) calculation rules for non-replaced boxes\n(defined in [CSS 2 § 10.3.3 Block-level, non-replaced elements in normal flow](https://www.w3.org/TR/CSS2/visudet.html#blockwidth)),\ni.e. the [stretch-fit size](https://www.w3.org/TR/css-sizing-3/#stretch-fit-size).\n\n \nNote: This can distort the aspect ratio\nof an item with a [preferred aspect ratio](https://www.w3.org/TR/css-sizing-4/#preferred-aspect-ratio),\nif its size is also constrained in the other axis.\n\n all other values\n \n \nSize the item as [fit-content](https://www.w3.org/TR/css-sizing-4/#valdef-width-fit-content).\n\n \n \n The following informative table summarizes the automatic sizing of grid items: \n \n Summary of automatic sizing behavior of grid items\n \n \n Alignment \n Non-replaced Element Size \n Replaced Element Size \n \n \n [normal](https://www.w3.org/TR/css-align-3/#valdef-align-self-normal) \n Fill grid area \n Use [natural size](https://www.w3.org/TR/css-images-3/#natural-size) \n \n [stretch](https://www.w3.org/TR/css-align-3/#valdef-align-self-stretch) \n Fill grid area \n Fill grid area \n \n [start](https://www.w3.org/TR/css-align-3/#valdef-self-position-start)/[center](https://www.w3.org/TR/css-align-3/#valdef-self-position-center)/etc. \n [fit-content](https://www.w3.org/TR/css-sizing-4/#valdef-width-fit-content) sizing (like floats) \n Use [natural size](https://www.w3.org/TR/css-images-3/#natural-size) \n \n \n \nNote: The [auto](https://www.w3.org/TR/css-sizing-3/#valdef-width-auto) value of [min-width](https://www.w3.org/TR/CSS2/visudet.html#propdef-min-width) and [min-height](https://www.w3.org/TR/CSS2/visudet.html#propdef-min-height) affects track sizing in the relevant axis\n similar to how it affects the main size of a [flex item](https://www.w3.org/TR/css-flexbox-1/#flex-item).\n See [§ 6.6 Automatic Minimum Size of Grid Items](#min-size-auto).\n\n 6.3. Reordered Grid Items: the [order](https://www.w3.org/TR/css-flexbox-1/#propdef-order) property[](#order-property)\n \nThe [order](https://www.w3.org/TR/css-flexbox-1/#propdef-order) property also applies to [grid items](#grid-item).\n It affects their [auto-placement](#grid-auto-flow-property) and [painting order](#z-order).\n\n \n As with reordering flex items,\n the [order](https://www.w3.org/TR/css-flexbox-1/#propdef-order) property must only be used\n when the visual order needs to be out-of-sync with the speech and navigation order;\n otherwise the underlying document source should be reordered instead.\n See [CSS Flexbox 1 § 5.4.1 Reordering and Accessibility](https://www.w3.org/TR/css-flexbox-1/#order-accessibility) in [[CSS-FLEXBOX-1]](#biblio-css-flexbox-1).\n\n 6.4. Grid Item Margins and Paddings[](#item-margins)\n \nAs adjacent grid items are independently contained\n within the containing block formed by their [grid areas](#grid-area),\n the margins of adjacent [grid items](#grid-item) do not [collapse](https://www.w3.org/TR/CSS2/box.html#collapsing-margins).\n\n \nPercentage margins and paddings on [grid items](#grid-item),\n like those on [block boxes](https://www.w3.org/TR/css-display-4/#block-box),\n are resolved against the [inline size](https://www.w3.org/TR/css-writing-modes-4/#inline-size) of their [containing block](https://www.w3.org/TR/css-display-4/#containing-block),\n e.g. left/right/top/bottom percentages\n all resolve against their containing block’s width in horizontal [writing modes](https://www.w3.org/TR/css-writing-modes-4/#writing-mode).\n\n \nAuto margins expand to absorb extra space in the corresponding dimension,\n and can therefore be used for alignment.\n See [§ 11.2 Aligning with auto margins](#auto-margins)\n\n 6.5. Z-axis Ordering: the [z-index](https://www.w3.org/TR/CSS2/visuren.html#propdef-z-index) property[](#z-order)\n \n[Grid items](#grid-item) can overlap when they are positioned into intersecting [grid areas](#grid-area),\n or even when positioned in non-intersecting areas because of negative margins or positioning.\n The painting order of grid items is exactly the same as inline blocks [[CSS2]](#biblio-css2),\n except that [order-modified document order](https://www.w3.org/TR/css-flexbox-1/#order-modified-document-order) is used in place of raw document order,\n and [z-index](https://www.w3.org/TR/CSS2/visuren.html#propdef-z-index) values other than [auto](https://drafts.csswg.org/css2/#valdef-z-index-auto) create a stacking context even if [position](https://www.w3.org/TR/css-position-3/#propdef-position) is [static](https://www.w3.org/TR/css-position-3/#valdef-position-static) (behaving exactly as if position were [relative](https://www.w3.org/TR/css-position-3/#valdef-position-relative)).\n Thus the z-index property can easily be used to control the z-axis order of grid items.\n\n \n Note: Descendants that are positioned outside a grid item still participate in any stacking context established by the grid item. \n\n \n [](#example-ae2f6ea5) The following diagram shows several overlapping grid items,\n with a combination of implicit source order\n and explicit [z-index](https://www.w3.org/TR/CSS2/visuren.html#propdef-z-index) used to control their stacking order. \n \n \n Drawing order controlled by z-index and source order.\n \n\n```\n<style type=\"text/css\">\n#grid {\n display: grid;\n grid-template-columns: 1fr 1fr;\n grid-template-rows: 1fr 1fr\n}\n#A { grid-column: 1 / span 2; grid-row: 2; align-self: end; }\n#B { grid-column: 1; grid-row: 1; z-index: 10; }\n#C { grid-column: 2; grid-row: 1; align-self: start; margin-left: -20px; }\n#D { grid-column: 2; grid-row: 2; justify-self: end; align-self: start; }\n#E { grid-column: 1 / span 2; grid-row: 1 / span 2;\n z-index: 5; justify-self: center; align-self: center; }\n</style>\n\n<div id=\"grid\">\n <div id=\"A\">A</div>\n <div id=\"B\">B</div>\n <div id=\"C\">C</div>\n <div id=\"D\">D</div>\n <div id=\"E\">E</div>\n</div>\n\n```\n\n \n 6.6. Automatic Minimum Size of Grid Items[](#min-size-auto)\n \nNote: Much of the sizing terminology used in this section\n (and throughout the rest of the specification)\n is defined in [CSS Intrinsic and Extrinsic Sizing](https://www.w3.org/TR/css-sizing-3/) [[CSS-SIZING-3]](#biblio-css-sizing-3).\n\n \nTo provide a more reasonable default [minimum size](https://www.w3.org/TR/css-sizing-3/#min-width) for [grid items](#grid-item),\n the used value of its [automatic minimum size](https://www.w3.org/TR/css-sizing-3/#automatic-minimum-size) in a given axis\n is the [content-based minimum size](#content-based-minimum-size) if all of the following are true:\n\n \n\n \n \nits [computed](https://www.w3.org/TR/css-cascade-5/#computed-value) [overflow](https://www.w3.org/TR/css-overflow-3/#propdef-overflow) is not a [scrollable overflow value](https://drafts.csswg.org/css-overflow-3/#scrollable-overflow-value)\n\n \n \nit spans at least one [track](#grid-track) in that axis\nwhose [min track sizing function](#min-track-sizing-function) is [auto](#valdef-grid-template-columns-auto)\n\n \n \nif it spans more than one track in that axis, none of those tracks are [flexible](#flexible-tracks)\n\n \n\n \nOtherwise, the [automatic minimum size](https://www.w3.org/TR/css-sizing-3/#automatic-minimum-size) is zero, as usual.\n\n \nNote: The [content-based minimum size](#content-based-minimum-size) is a type of [intrinsic size contribution](https://www.w3.org/TR/css-sizing-3/#intrinsic-size-contribution),\n and thus the provisions in [CSS Sizing 3 § 5.2 Intrinsic Contributions](https://www.w3.org/TR/css-sizing-3/#intrinsic-contribution) apply.\n\n \nThe **content-based minimum size** for a [grid item](#grid-item) in a given dimension is\n its [specified size suggestion](#specified-size-suggestion) if it exists,\n otherwise its [transferred size suggestion](#transferred-size-suggestion) if that exists\n and the element is [replaced](https://www.w3.org/TR/css-display-4/#replaced-element),\n else its [content size suggestion](#content-size-suggestion),\n see below.\n However,\n if in a given dimension\n the grid item spans only [grid tracks](#grid-track) that have a [fixed](#fixed-sizing-function) [max track sizing function](#max-track-sizing-function),\n then its specified size suggestion and content size suggestion in that dimension\n (and its input from this dimension\n to the transferred size suggestion in the opposite dimension)\n are further clamped to less than or equal to the [stretch fit](https://www.w3.org/TR/css-sizing-3/#stretch-fit) into the [grid area](#grid-area)’s maximum size in that dimension,\n as represented by the sum of those grid tracks’ max track sizing functions plus any intervening fixed [gutters](https://www.w3.org/TR/css-align-3/#gutter).\n\n \nIn all cases, the size suggestion is additionally clamped by the [maximum size](https://www.w3.org/TR/css-sizing-3/#max-width) in the affected axis,\n if it’s [definite](https://www.w3.org/TR/css-sizing-3/#definite).\n If the item is a [compressible replaced element](https://www.w3.org/TR/css-sizing-3/#min-content-zero),\n and has a definite [preferred size](https://www.w3.org/TR/css-sizing-3/#preferred-size) or maximum size in the relevant axis,\n the size suggestion is capped by those sizes;\n for this purpose, any indefinite percentages in these sizes\n are resolved against zero (and considered definite).\n\n \nNote: The argument to [fit-content()](#funcdef-grid-template-columns-fit-content) does not clamp\n the [content-based minimum size](#content-based-minimum-size) in the same way as a [fixed](#fixed-sizing-function) [max track sizing function](#max-track-sizing-function).\n\n \nThe [content size suggestion](#content-size-suggestion), [specified size suggestion](#specified-size-suggestion), and [transferred size suggestion](#transferred-size-suggestion) used in this calculation account for the relevant min/max/preferred size properties\n so that the [content-based minimum size](#content-based-minimum-size) does not interfere with any author-provided constraints,\n and are defined below:\n\n \n **specified size suggestion** \n If the item’s [preferred size](https://www.w3.org/TR/css-sizing-3/#preferred-size) in the relevant axis is [definite](https://www.w3.org/TR/css-sizing-3/#definite),\n then the [specified size suggestion](#specified-size-suggestion) is that size.\n It is otherwise undefined. \n **transferred size suggestion** \n \n If the item has a [preferred aspect ratio](https://www.w3.org/TR/css-sizing-4/#preferred-aspect-ratio) and its [preferred size](https://www.w3.org/TR/css-sizing-3/#preferred-size) in the opposite axis is [definite](https://www.w3.org/TR/css-sizing-3/#definite),\n then the [transferred size suggestion](#transferred-size-suggestion) is that size\n (clamped by the opposite-axis [minimum](https://www.w3.org/TR/css-sizing-3/#min-width) and [maximum sizes](https://www.w3.org/TR/css-sizing-3/#max-width) if they are definite),\n converted through the aspect ratio.\n It is otherwise undefined. \n \nIf the item has a [definite](https://www.w3.org/TR/css-sizing-3/#definite) [preferred size](https://www.w3.org/TR/css-sizing-3/#preferred-size) or [maximum size](https://www.w3.org/TR/css-sizing-3/#max-width) in the relevant axis,\n the [transferred size suggestion](#transferred-size-suggestion) is capped by those sizes;\n for this purpose, any indefinite percentages in these sizes\n are resolved against zero (and considered definite).\n\n **content size suggestion** \n The [content size suggestion](#content-size-suggestion) is\n the [min-content size](https://www.w3.org/TR/css-sizing-3/#min-content) in the relevant axis,\n clamped, if it has a [preferred aspect ratio](https://www.w3.org/TR/css-sizing-4/#preferred-aspect-ratio),\n by any [definite](https://www.w3.org/TR/css-sizing-3/#definite) opposite-axis [minimum](https://www.w3.org/TR/css-sizing-3/#min-width) and [maximum sizes](https://www.w3.org/TR/css-sizing-3/#max-width) converted through the aspect ratio. \n \n \nFor the purpose of calculating an intrinsic size of the box\n (e.g. the box’s [min-content size](https://www.w3.org/TR/css-sizing-3/#min-content)),\n a [content-based minimum size](#content-based-minimum-size) causes the box’s size in that axis to become indefinite\n (even if e.g. its [width](https://www.w3.org/TR/css-sizing-3/#propdef-width) property specifies a [definite](https://www.w3.org/TR/css-sizing-3/#definite) size).\n Note this means that percentages calculated against this size\n will [behave as auto](https://www.w3.org/TR/css-sizing-3/#behave-as-auto).\n\n \nFor any purpose other than calculating intrinsic sizes,\n a [content-based minimum size](#content-based-minimum-size) (unlike an explicit [min-content](#valdef-grid-template-columns-min-content)/etc [minimum size](https://www.w3.org/TR/css-sizing-3/#min-width))\n does not force the box’s size to become indefinite.\n However, if a percentage resolved against the box’s size before this minimum was applied,\n it must be re-resolved against the new size after it is applied.\n\n \n [](#min-size-opt) Note that while a content-based minimum size is often appropriate,\n and helps prevent content from overlapping or spilling outside its container,\n in some cases it is not: \n \nIn particular, if grid layout is being used for a major content area of a document,\n it is better to set an explicit font-relative minimum width such as [min-width: 12em](https://www.w3.org/TR/CSS2/visudet.html#propdef-min-width).\n A content-based minimum width could result in a large table or large image\n stretching the size of the entire content area, potentially into an overflow zone,\n and thereby making lines of text needlessly long and hard to read.\n\n \nNote also, when content-based sizing is used on an item with large amounts of content,\n the layout engine must traverse all of this content before finding its minimum size,\n whereas if the author sets an explicit minimum, this is not necessary.\n (For items with small amounts of content, however,\n this traversal is trivial and therefore not a performance concern.)",
      "rawLength": 34740
    },
    "grid-definition": {
      "id": "grid-definition",
      "heading": "7.  Defining the Grid",
      "content": "7.1. The Explicit Grid[](#explicit-grids)\n \nThe three properties [grid-template-rows](#propdef-grid-template-rows), [grid-template-columns](#propdef-grid-template-columns), and [grid-template-areas](#propdef-grid-template-areas) together define the **explicit grid** of a [grid container](#grid-container) by specifying its **explicit grid tracks**.\n The final grid may end up larger due to [grid items](#grid-item) placed outside the [explicit grid](#explicit-grid);\n in this case implicit tracks will be created,\n these implicit tracks will be sized by the [grid-auto-rows](#propdef-grid-auto-rows) and [grid-auto-columns](#propdef-grid-auto-columns) properties.\n\n \nThe size of the [explicit grid](#explicit-grid) is determined by the larger of\n the number of rows/columns defined by [grid-template-areas](#propdef-grid-template-areas) and the number of rows/columns sized by [grid-template-rows](#propdef-grid-template-rows)/[grid-template-columns](#propdef-grid-template-columns).\n Any rows/columns defined by grid-template-areas but not sized by grid-template-rows/grid-template-columns take their size from the [grid-auto-rows](#propdef-grid-auto-rows)/[grid-auto-columns](#propdef-grid-auto-columns) properties.\n If these properties don’t define any explicit tracks\n the explicit grid still contains one [grid line](#grid-line) in each axis.\n\n \nNumeric indexes in the [grid-placement properties](#grid-placement-property) count from the edges of the [explicit grid](#explicit-grid).\n Positive indexes count from the [start](https://www.w3.org/TR/css-writing-modes-4/#start) side\n (starting from 1 for the start-most explicit line),\n while negative indexes count from the [end](https://www.w3.org/TR/css-writing-modes-4/#end) side\n (starting from -1 for the end-most explicit line).\n\n \nThe [grid](#propdef-grid) and [grid-template](#propdef-grid-template) properties are [shorthands](https://www.w3.org/TR/css-cascade-5/#shorthand-property) that can be used to set all three **explicit grid properties** ([grid-template-rows](#propdef-grid-template-rows), [grid-template-columns](#propdef-grid-template-columns), and [grid-template-areas](#propdef-grid-template-areas))\n at the same time.\n The grid shorthand also resets properties controlling the [implicit grid](#implicit-grid),\n whereas the grid-template property leaves them unchanged.\n\n 7.2. Explicit Track Sizing: the [grid-template-rows](#propdef-grid-template-rows) and [grid-template-columns](#propdef-grid-template-columns) properties[](#track-sizing)\n \n \n \n Name:\n **grid-template-columns**, **grid-template-rows**\n \n [Value:](https://www.w3.org/TR/css-values/#value-defs)\n none [|](https://www.w3.org/TR/css-values-4/#comb-one) [<track-list>](#typedef-track-list) | [<auto-track-list>](#typedef-auto-track-list) | subgrid [<line-name-list>](#typedef-line-name-list)[?](https://www.w3.org/TR/css-values-4/#mult-opt) \n \n [Initial:](https://www.w3.org/TR/css-cascade/#initial-values)\n none \n \n [Applies to:](https://www.w3.org/TR/css-cascade/#applies-to)\n [grid containers](#grid-container) \n \n [Inherited:](https://www.w3.org/TR/css-cascade/#inherited-property)\n no \n \n [Percentages:](https://www.w3.org/TR/css-values/#percentages)\n refer to corresponding dimension of the content area \n \n [Computed value:](https://www.w3.org/TR/css-cascade/#computed)\n the keyword [none](#valdef-grid-template-rows-none) or a [computed track list](#computed-track-list) \n \n [Canonical order:](https://www.w3.org/TR/cssom/#serializing-css-values)\n per grammar \n \n [Animation type:](https://www.w3.org/TR/web-animations/#animation-type)\n if the list lengths match, by computed value type per item in the [computed track list](#computed-track-list) (see [§ 7.2.5 Computed Value of a Track Listing](#computed-tracks) and [§ 7.2.3.3 Interpolation/Combination of repeat()](#repeat-interpolation)); discrete otherwise \n \n \nThese properties specify,\n as a space-separated **track list**,\n the [line names](#line-name) and [track sizing functions](#grid-template-rows-track-sizing-function) of the [grid](#grid).\n The [grid-template-columns](#propdef-grid-template-columns) property specifies the [track list](#track-list) for the grid’s columns,\n while [grid-template-rows](#propdef-grid-template-rows) specifies the track list for the grid’s rows.\n\n \nValues have the following meanings:\n\n \n **none** \n \n Indicates that no [explicit](#explicit-grid) grid tracks are created by this property\n (though explicit grid tracks could still be created by [grid-template-areas](#propdef-grid-template-areas)). \n \nNote: In the absence of an [explicit grid](#explicit-grid) any rows/columns will be [implicitly generated](#implicit-grids),\n and their size will be determined by the [grid-auto-rows](#propdef-grid-auto-rows) and [grid-auto-columns](#propdef-grid-auto-columns) properties.\n\n **[<track-list>](#typedef-track-list) | [<auto-track-list>](#typedef-auto-track-list)** \n Specifies the [track list](#track-list) as a series of [track sizing functions](#grid-template-rows-track-sizing-function) and [line names](#line-name).\n Each **track sizing function** can be specified as a length,\n a percentage of the [grid container](#grid-container)’s size,\n a measurement of the contents occupying the column or row,\n or a fraction of the free space in the grid.\n It can also be specified as a range using the [minmax()](#funcdef-grid-template-columns-minmax) notation,\n which can combine any of the previously mentioned mechanisms\n to specify separate [min](#min-track-sizing-function) and [max track sizing functions](#max-track-sizing-function) for the column or row. \n **subgrid [<line-name-list>](#typedef-line-name-list)?** \n \n The **subgrid** value\n indicates that the grid will adopt the spanned portion\n of its [parent grid](#parent-grid) in that axis\n (the **subgridded axis**).\n Rather than being specified explicitly,\n the sizes of the grid rows/columns\n will be taken from the parent grid’s definition,\n and the [subgrid](#subgrid)’s items will participate\n in the [intrinsic size calculations](https://www.w3.org/TR/css-grid-1/#algo-content) ([CSS Grid Layout 1 § 11.5 Resolve Intrinsic Track Sizes](https://www.w3.org/TR/css-grid-1/#algo-content))\n of any tracks shared with the parent grid.\n Essentially, subgrids provide the ability to pass grid parameters down through nested elements,\n and content-based sizing information back up to their parent grid. \n \nThe [<line-name-list>](#typedef-line-name-list) argument allows local naming of\n the grid lines shared with the [parent grid](#parent-grid):\n if a <line-name-list> is given,\n the specified [<line-names>](#typedef-line-names)s are assigned to\n the lines of the [subgrid](#subgrid)’s [explicit grid](#explicit-grid),\n one per line, starting with line 1.\n Excess <line-names> are ignored.\n\n \nIf there is no [parent grid](#parent-grid),\n or if the [grid container](#grid-container) is otherwise forced\n to establish an [independent formatting context](https://www.w3.org/TR/css-display-4/#independent-formatting-context) (for example, due to [layout containment](https://www.w3.org/TR/css-contain-2/#layout-containment) [[CSS-CONTAIN-2]](#biblio-css-contain-2) or [absolute positioning](https://www.w3.org/TR/css-position-3/#absolute-position) [[CSS-POSITION-3]](#biblio-css-position-3)),\n the [used value](https://www.w3.org/TR/css-cascade-5/#used-value) is\n the initial value, [none](#valdef-grid-template-rows-none),\n and the grid container is not a [subgrid](#subgrid).\n\n \nAn axis that is not [subgridded](#subgridded-axis) is a **standalone axis**.\n\n \n \nThe syntax of a [track list](#track-list) is:\n\n```\n**<track-list>** = [ [<line-names>](#typedef-line-names)[?](https://www.w3.org/TR/css-values-4/#mult-opt) [ [<track-size>](#typedef-track-size) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<track-repeat>](#typedef-track-repeat) ] ][+](https://www.w3.org/TR/css-values-4/#mult-one-plus) [<line-names>](#typedef-line-names)[?](https://www.w3.org/TR/css-values-4/#mult-opt)\n**<auto-track-list>** = [ [<line-names>](#typedef-line-names)[?](https://www.w3.org/TR/css-values-4/#mult-opt) [ [<fixed-size>](#typedef-fixed-size) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<fixed-repeat>](#typedef-fixed-repeat) ] ][*](https://www.w3.org/TR/css-values-4/#mult-zero-plus) [<line-names>](#typedef-line-names)[?](https://www.w3.org/TR/css-values-4/#mult-opt) [<auto-repeat>](#typedef-auto-repeat)\n [ [<line-names>](#typedef-line-names)[?](https://www.w3.org/TR/css-values-4/#mult-opt) [ [<fixed-size>](#typedef-fixed-size) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<fixed-repeat>](#typedef-fixed-repeat) ] ][*](https://www.w3.org/TR/css-values-4/#mult-zero-plus) [<line-names>](#typedef-line-names)[?](https://www.w3.org/TR/css-values-4/#mult-opt)\n**<explicit-track-list>** = [ [<line-names>](#typedef-line-names)[?](https://www.w3.org/TR/css-values-4/#mult-opt) [<track-size>](#typedef-track-size) ][+](https://www.w3.org/TR/css-values-4/#mult-one-plus) [<line-names>](#typedef-line-names)[?](https://www.w3.org/TR/css-values-4/#mult-opt)\n\n**<line-name-list>** = [ [<line-names>](#typedef-line-names) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<name-repeat>](#typedef-name-repeat) ][+](https://www.w3.org/TR/css-values-4/#mult-one-plus)\n**<track-size>** = [<track-breadth>](#typedef-track-breadth) [|](https://www.w3.org/TR/css-values-4/#comb-one) minmax( [<inflexible-breadth>](#typedef-inflexible-breadth) [,](https://www.w3.org/TR/css-values-4/#comb-comma) [<track-breadth>](#typedef-track-breadth) ) [|](https://www.w3.org/TR/css-values-4/#comb-one) fit-content( [<length-percentage [0,∞]>](https://www.w3.org/TR/css-values-4/#typedef-length-percentage) )\n**<fixed-size>** = [<fixed-breadth>](#typedef-fixed-breadth) [|](https://www.w3.org/TR/css-values-4/#comb-one) minmax( [<fixed-breadth>](#typedef-fixed-breadth) [,](https://www.w3.org/TR/css-values-4/#comb-comma) [<track-breadth>](#typedef-track-breadth) ) [|](https://www.w3.org/TR/css-values-4/#comb-one) minmax( [<inflexible-breadth>](#typedef-inflexible-breadth) [,](https://www.w3.org/TR/css-values-4/#comb-comma) [<fixed-breadth>](#typedef-fixed-breadth) )\n**<track-breadth>** = [<length-percentage [0,∞]>](https://www.w3.org/TR/css-values-4/#typedef-length-percentage) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<flex [0,∞]>](#typedef-flex) [|](https://www.w3.org/TR/css-values-4/#comb-one) min-content [|](https://www.w3.org/TR/css-values-4/#comb-one) max-content [|](https://www.w3.org/TR/css-values-4/#comb-one) auto\n**<inflexible-breadth>** = [<length-percentage [0,∞]>](https://www.w3.org/TR/css-values-4/#typedef-length-percentage) [|](https://www.w3.org/TR/css-values-4/#comb-one) min-content [|](https://www.w3.org/TR/css-values-4/#comb-one) max-content [|](https://www.w3.org/TR/css-values-4/#comb-one) auto\n**<fixed-breadth>** = [<length-percentage [0,∞]>](https://www.w3.org/TR/css-values-4/#typedef-length-percentage)\n**<line-names>** = '[' [<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value)[*](https://www.w3.org/TR/css-values-4/#mult-zero-plus) ']'\n\n```\n\n \nWhere the component values are defined as follows…\n\n 7.2.1. Track Sizes[](#track-sizes)\n \n **[<length-percentage [0,∞]>](https://www.w3.org/TR/css-values-4/#typedef-length-percentage)** \n \n A non-negative length or percentage, as defined by CSS3 Values. [[CSS-VALUES-3]](#biblio-css-values-3) \n \n[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) values are relative to\n the [inner](https://www.w3.org/TR/css-sizing-3/#inner-size) [inline size](https://www.w3.org/TR/css-writing-modes-4/#inline-size) of the [grid container](#grid-container) in column [grid tracks](#grid-track),\n and the inner [block size](https://www.w3.org/TR/css-writing-modes-4/#block-size) of the grid container in row grid tracks.\n If the size of the grid container depends on the size of its tracks,\n then the <percentage> must be treated as [auto](https://www.w3.org/TR/css-sizing-3/#valdef-width-auto),\n for the purpose of calculating the intrinsic sizes of the grid container and then resolve against that resulting grid container size\n for the purpose of laying out the [grid](#grid) and its items.\n\n **[<flex [0,∞]>](#typedef-flex)** \n \n A non-negative dimension with the unit [fr](#valdef-flex-fr) specifying the track’s **flex factor**.\n Each [<flex>](#typedef-flex)-sized track takes a share of the remaining space in proportion to its [flex factor](#grid-template-columns-flex-factor).\n For example, given a track listing of 1fr 2fr,\n the tracks will take up ⅓ and ⅔ of the [leftover space](#leftover-space), respectively.\n See [§ 7.2.4 Flexible Lengths: the fr unit](#fr-unit) for more details. \n \nNote: If the sum of the [flex factors](#grid-template-columns-flex-factor) is less than 1,\n they’ll take up only a corresponding fraction of the [leftover space](#leftover-space),\n rather than expanding to fill the entire thing.\n\n \nWhen appearing outside a [minmax()](#funcdef-grid-template-columns-minmax) notation,\n implies an automatic minimum (i.e. minmax(auto, [<flex>](#typedef-flex))).\n\n minmax(min, max) \n \n Defines a size range\n greater than or equal to min and less than or equal to max.\n If the max is less than the min,\n then the max will be floored by the min (essentially yielding minmax(min, min)).\n As a maximum, a [<flex>](#typedef-flex) value sets the track’s [flex factor](#grid-template-columns-flex-factor);\n it is invalid as a minimum. \n \nNote: A future level of this spec may allow [<flex>](#typedef-flex) minimums,\n and will update the [track sizing algorithm](#track-sizing-algorithm) to account for this correctly\n\n **auto** \n \n As a maximum: represents the largest [max-content contribution](https://www.w3.org/TR/css-sizing-3/#max-content-contribution) of the [grid items](#grid-item) occupying the [grid track](#grid-track);\n however, unlike [max-content](#valdef-grid-template-columns-max-content),\n allows expansion of the track\n by the [align-content](https://www.w3.org/TR/css-align-3/#propdef-align-content) and [justify-content](https://www.w3.org/TR/css-align-3/#propdef-justify-content) properties. \n \nAs a minimum: represents the largest [minimum size](https://www.w3.org/TR/css-sizing-3/#min-width) (specified by [min-width](https://www.w3.org/TR/CSS2/visudet.html#propdef-min-width)/[min-height](https://www.w3.org/TR/CSS2/visudet.html#propdef-min-height))\n of the [grid items](#grid-item) occupying the [grid track](#grid-track).\n (This initially is often, but not always,\n equal to a [min-content](#valdef-grid-template-columns-min-content) minimum—​see [§ 6.6 Automatic Minimum Size of Grid Items](#min-size-auto).)\n\n \nWhen appearing outside a [minmax()](#funcdef-grid-template-columns-minmax) notation:\n equivalent to minmax(auto, auto),\n representing the range between\n the minimum and maximum described above.\n (This behaves similar to minmax(min-content, max-content) in the most basic cases,\n but with extra abilities.)\n\n **max-content** \n Represents the largest [max-content contribution](https://www.w3.org/TR/css-sizing-3/#max-content-contribution) of the [grid items](#grid-item) occupying the [grid track](#grid-track). \n **min-content** \n Represents the largest [min-content contribution](https://www.w3.org/TR/css-sizing-3/#min-content-contribution) of the [grid items](#grid-item) occupying the [grid track](#grid-track). \n **fit-content( [<length-percentage>](https://www.w3.org/TR/css-values-4/#typedef-length-percentage) )** \n Represents the formula max(minimum, min(limit, [max-content](#valdef-grid-template-columns-max-content))),\n where minimum represents an [auto](#valdef-grid-template-columns-auto) minimum\n (which is often, but not always, equal to a [min-content](#valdef-grid-template-columns-min-content) minimum),\n and limit is the [track sizing function](#grid-template-rows-track-sizing-function) passed as an argument to [fit-content()](#funcdef-grid-template-columns-fit-content).\n This is essentially calculated as the smaller of minmax(auto, max-content) and minmax(auto, limit). \n \n \n [](#example-6651406f) Given the following [grid-template-columns](#propdef-grid-template-columns) declaration: \n\n```\ngrid-template-columns: 100px 1fr max-content minmax(min-content, 1fr);\n```\n\n \nFive grid lines are created:\n\n \n\n At the start edge of the [grid container](#grid-container). \n 100px from the start edge of the [grid container](#grid-container). \n A distance from the previous line equal to half the [free space](#free-space) (the width of the [grid container](#grid-container), minus the width of the non-flexible [grid tracks](#grid-track)). \n A distance from the previous line equal to the maximum size of any [grid items](#grid-item) belonging to the column between these two lines. \n A distance from the previous line at least as large as the largest minimum size of any [grid items](#grid-item) belonging to the column between these two lines,\n but no larger than the other half of the [free space](#free-space). \n \n\n \nIf the non-flexible sizes\n (100px, [max-content](#valdef-grid-template-columns-max-content), and [min-content](#valdef-grid-template-columns-min-content))\n sum to larger than the [grid container](#grid-container)’s width,\n the final [grid line](#grid-line) will be a distance equal to their sum away from the start edge of the grid container (the 1fr sizes both resolve to 0).\n If the sum is less than the grid container’s width,\n the final grid line will be exactly at the end edge of the grid container.\n This is true in general whenever there’s at least one [<flex>](#typedef-flex) value among the [grid track](#grid-track) sizes.\n\n \n \n [](#example-337b574e) Additional examples of valid [grid track](#grid-track) definitions: \n\n```\n/* examples of valid track definitions */\ngrid-template-rows: 1fr minmax(min-content, 1fr);\ngrid-template-rows: 10px repeat(2, 1fr auto minmax(30%, 1fr));\ngrid-template-rows: calc(4em - 5px);\n\n```\n\n \n \nNote: The size of the grid is not purely the sum of the track sizes,\n as [row-gap](https://www.w3.org/TR/css-align-3/#propdef-row-gap), [column-gap](https://www.w3.org/TR/css-align-3/#propdef-column-gap) and [justify-content](https://www.w3.org/TR/css-align-3/#propdef-justify-content), [align-content](https://www.w3.org/TR/css-align-3/#propdef-align-content) can add additional space between tracks.\n\n 7.2.2. Naming Grid Lines: the [[<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value)*] syntax[](#named-lines)\n \nWhile [grid lines](#grid-line) can always be referred to by their numerical index, **line names** can make the [grid-placement properties](#grid-placement-property) easier to understand and maintain. [Line names](#line-name) can be **explicitly assigned** with the [grid-template-rows](#propdef-grid-template-rows) and [grid-template-columns](#propdef-grid-template-columns) properties,\n or [implicitly assigned](#implicitly-assigned-line-name) by [named grid areas](#named-grid-area) with the [grid-template-areas](#propdef-grid-template-areas) property.\n\n \n [](#example-1cbfee50) For example,\n the following code gives meaningful names to all of the lines in the grid.\n Note that some of the lines have multiple names. \n\n```\n#grid {\n display: grid;\n grid-template-columns: [first nav-start] 150px [main-start] 1fr [last];\n grid-template-rows: [first header-start] 50px [main-start] 1fr [footer-start] 50px [last];\n}\n\n```\n\n \n \n Named Grid Lines.\n \n \n \nA [line name](#line-name) cannot be span or auto,\n i.e. the [<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value) in the [<line-names>](#typedef-line-names) production\n excludes the keywords span and auto.\n\n 7.2.3. Repeating Rows and Columns: the [repeat()](#funcdef-track-repeat-repeat) notation[](#repeat-notation)\n \nThe ,,\" data-dfn-type=\"function\" data-export id=\"funcdef-track-repeat-repeat\">repeat() notation\n represents a repeated fragment of the [track list](#track-list),\n allowing a large number of columns or rows that exhibit a recurring pattern\n to be written in a more compact form.\n\n \n [](#example-e3dc5d22) This example shows two equivalent ways of writing the same grid definition.\n Both declarations produce four “main” columns, each 250px wide,\n surrounded by 10px “gutter” columns. \n\n```\ngrid-template-columns: 10px [col-start] 250px [col-end]\n 10px [col-start] 250px [col-end]\n 10px [col-start] 250px [col-end]\n 10px [col-start] 250px [col-end] 10px;\n/* same as above, except easier to write */\ngrid-template-columns: repeat(4, 10px [col-start] 250px [col-end]) 10px;\n\n```\n\n \n 7.2.3.1. Syntax of [repeat()](#funcdef-track-repeat-repeat)[](#repeat-syntax)\n \nThe generic form of the [repeat()](#funcdef-track-repeat-repeat) syntax is, approximately,\n\n```\nrepeat( [ [<integer [1,∞]>](https://www.w3.org/TR/css-values-4/#integer-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) auto-fill [|](https://www.w3.org/TR/css-values-4/#comb-one) auto-fit ] [,](https://www.w3.org/TR/css-values-4/#comb-comma) [<track-list>](#typedef-track-list) )\n\n```\n\n \nThe first argument specifies the number of repetitions.\n The second argument is a [track list](#track-list),\n which is repeated that number of times.\n However, there are some restrictions:\n\n \n\n \n \nThe [repeat()](#funcdef-track-repeat-repeat) notation can’t be nested.\n\n \n \nAutomatic repetitions ([auto-fill](#valdef-repeat-auto-fill) or [auto-fit](#valdef-repeat-auto-fit))\ncannot be combined with\nfully [intrinsic](#intrinsic-sizing-function) or [flexible](#flexible-sizing-function) sizes\n(see grammar).\n\n \n\n \nThus the precise syntax of the [repeat()](#funcdef-track-repeat-repeat) notation\n has several forms:\n\n```\n**[<track-repeat>](#typedef-track-repeat)** = repeat( [ [<integer [1,∞]>](https://www.w3.org/TR/css-values-4/#integer-value) ] [,](https://www.w3.org/TR/css-values-4/#comb-comma) [ [<line-names>](#typedef-line-names)[?](https://www.w3.org/TR/css-values-4/#mult-opt) [<track-size>](#typedef-track-size) ][+](https://www.w3.org/TR/css-values-4/#mult-one-plus) [<line-names>](#typedef-line-names)[?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n**[<auto-repeat>](#typedef-auto-repeat)** = repeat( [ auto-fill [|](https://www.w3.org/TR/css-values-4/#comb-one) auto-fit ] [,](https://www.w3.org/TR/css-values-4/#comb-comma) [ [<line-names>](#typedef-line-names)[?](https://www.w3.org/TR/css-values-4/#mult-opt) [<fixed-size>](#typedef-fixed-size) ][+](https://www.w3.org/TR/css-values-4/#mult-one-plus) [<line-names>](#typedef-line-names)[?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n**[<fixed-repeat>](#typedef-fixed-repeat)** = repeat( [ [<integer [1,∞]>](https://www.w3.org/TR/css-values-4/#integer-value) ] [,](https://www.w3.org/TR/css-values-4/#comb-comma) [ [<line-names>](#typedef-line-names)[?](https://www.w3.org/TR/css-values-4/#mult-opt) [<fixed-size>](#typedef-fixed-size) ][+](https://www.w3.org/TR/css-values-4/#mult-one-plus) [<line-names>](#typedef-line-names)[?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n**[<name-repeat>](#typedef-name-repeat)** = repeat( [ [<integer [1,∞]>](https://www.w3.org/TR/css-values-4/#integer-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) auto-fill ][,](https://www.w3.org/TR/css-values-4/#comb-comma) [<line-names>](#typedef-line-names)[+](https://www.w3.org/TR/css-values-4/#mult-one-plus))\n\n```\n\n \n\n \n \nThe [<track-repeat>](#typedef-track-repeat) variant can represent the repetition of any [<track-size>](#typedef-track-size),\nbut is limited to a fixed number of repetitions.\n\n \n \nThe [<auto-repeat>](#typedef-auto-repeat) variant can repeat automatically to fill a space,\nbut requires [definite](https://www.w3.org/TR/css-sizing-3/#definite) track sizes so that the number of repetitions can be calculated.\nIt can only appear once in the [track list](#track-list),\nbut the same track list can also contain [<fixed-repeat>](#typedef-fixed-repeat)s.\n\n \n \nThe [<name-repeat>](#typedef-name-repeat) variant is for adding [line names](#line-name) to [subgrids](#subgrid).\nIt can only be used with the [subgrid](#valdef-grid-template-rows-subgrid) keyword\nand cannot specify track sizes, only line names.\n\n \n\n \nIf a [repeat()](#funcdef-track-repeat-repeat) function that is not a [<name-repeat>](#typedef-name-repeat) ends up placing two [<line-names>](#typedef-line-names) adjacent to each other,\n the name lists are merged.\n For example, repeat(2, [a] 1fr [b]) is equivalent to [a] 1fr [b a] 1fr [b].\n\n 7.2.3.2. Repeat-to-fill: [auto-fill](#valdef-repeat-auto-fill) and [auto-fit](#valdef-repeat-auto-fit) repetitions[](#auto-repeat)\n \nOn a [subgridded axis](#subgridded-axis),\n the [auto-fill](#valdef-repeat-auto-fill) keyword is only valid once per [<line-name-list>](#typedef-line-name-list),\n and repeats enough times for the name list to match\n the [subgrid](#subgrid)’s specified [grid span](#grid-span) (falling back to 0 if the span is already fulfilled).\n\n \nOtherwise on a [standalone axis](#standalone-axis),\n when **auto-fill** is given as the repetition number,\n if the [grid container](#grid-container) has a [definite](https://www.w3.org/TR/css-sizing-3/#definite) [preferred size](https://www.w3.org/TR/css-sizing-3/#preferred-size) or [maximum size](https://www.w3.org/TR/css-sizing-3/#max-width) in the relevant axis,\n then the number of repetitions is the largest possible positive integer\n that does not cause the [grid](#grid) to overflow\n the [content box](https://www.w3.org/TR/css-box-4/#content-box) of its grid container taking [gap](https://www.w3.org/TR/css-align-3/#propdef-gap) into account;\n if any number of repetitions would overflow,\n then 1 repetition.\n Otherwise, if the grid container has a definite [minimum size](https://www.w3.org/TR/css-sizing-3/#min-width) in the relevant axis,\n the number of repetitions is the smallest possible positive integer that fulfills that minimum requirement.\n Otherwise, the specified [track list](#track-list) repeats only once.\n\n \nFor this purpose,\n each track is treated as its [max track sizing function](#max-track-sizing-function) if that is [definite](https://www.w3.org/TR/css-sizing-3/#definite) or else its [min track sizing function](#min-track-sizing-function) if that is definite.\n If both are definite, floor the max track sizing function by the min track sizing function.\n If neither are definite,\n the number of repetitions is one.\n\n \n [](#example-5bb26bd3) For example, the following code will create\n as many 25-character columns as will fit into the window width.\n If there is any remaining space,\n it will be distributed among the 25-character columns. \n\n```\nbody {\n display: grid;\n grid-template-columns: repeat(auto-fill, minmax(25ch, 1fr));\n}\n\n```\n\n \n \nThe **auto-fit** keyword behaves the same as [auto-fill](#valdef-repeat-auto-fill),\n except that after [grid item placement](#auto-placement-algo) any empty repeated tracks are [collapsed](#collapsed-grid-track).\n An empty track is one with no [in-flow](https://www.w3.org/TR/css-display-4/#in-flow) grid items placed into or spanning across it.\n (This can result in all tracks being collapsed,\n if they’re all empty.)\n\n \nA **collapsed grid track** is treated as having a fixed [track sizing function](#grid-template-rows-track-sizing-function) of 0px,\n and the [gutters](https://www.w3.org/TR/css-align-3/#gutter) on either side of it—​including any space allotted through [distributed alignment](https://www.w3.org/TR/css-align-3/#distributed-alignment)—​[collapse](#collapsed-gutter).\n\n \nFor the purpose of finding the number of auto-repeated tracks in a [standalone axis](#standalone-axis),\n the UA must floor the track size to a UA-specified value\n to avoid division by zero.\n It is suggested that this floor be 1px.\n\n 7.2.3.3. Interpolation/Combination of [repeat()](#funcdef-track-repeat-repeat)[](#repeat-interpolation)\n \nIf two [repeat()](#funcdef-track-repeat-repeat) notations that\n have the same first argument (repetition count)\n and the same number of tracks in their second argument (the track listing),\n they are combined by\n combining each component of their [computed track lists](#computed-track-list) [by computed value](https://www.w3.org/TR/web-animations-1/#by-computed-value) (just like combining a top-level track list).\n They otherwise combine [discretely](https://www.w3.org/TR/web-animations-1/#discrete).\n\n 7.2.4. Flexible Lengths: the [fr](#valdef-flex-fr) unit[](#fr-unit)\n \nA **flexible length** or **[<flex>](#typedef-flex)** is a dimension\n with the **\" data-dfn-type=\"value\" data-export data-lt=\"fr|fr unit\" id=\"valdef-flex-fr\">fr** unit,\n which represents a fraction of the [leftover space](#leftover-space) in the [grid container](#grid-container).\n Tracks sized with [fr](#valdef-flex-fr) units are called **flexible tracks** as they flex in response to leftover space similar to how [flex items](https://www.w3.org/TR/css-flexbox-1/#flex-item) with a zero base size fill space in a [flex container](https://www.w3.org/TR/css-flexbox-1/#flex-container).\n\n \nThe distribution of [leftover space](#leftover-space) occurs after all non-flexible [track sizing functions](#grid-template-rows-track-sizing-function) have reached their maximum.\n The total size of such rows or columns is subtracted from the available space, yielding the leftover space,\n which is then divided among the flex-sized rows and columns in proportion to their [flex factor](#grid-template-columns-flex-factor).\n\n \nEach column or row’s share of the [leftover space](#leftover-space) can be computed as the column or row’s `<flex> * <leftover space> / <sum of all [flex factors](#grid-template-columns-flex-factor)>`.\n\n \n [<flex>](#typedef-flex) values between 0fr and 1fr have a somewhat special behavior:\n when the sum of the flex factors is less than 1,\n they will take up less than 100% of the leftover space.\n \nA track’s [<flex>](#typedef-flex) value\n is effectively a request for some proportion of the leftover space,\n with 1fr meaning “100% of the leftover space”;\n then if the tracks in that axis are requesting more than 100% in total,\n the requests are rebalanced to keep the same ratio but use up exactly 100% of it.\n However, if the tracks request less than the full amount\n (such as three tracks that are each .25fr)\n then they’ll each get exactly what they request\n (25% of the leftover space to each,\n with the final 25% left unfilled).\n See [§ 12.7 Expand Flexible Tracks](#algo-flex-tracks) for the exact details\n of how leftover space is distributed.\n\n \nThis pattern is required for continuous behavior as [fr](#valdef-flex-fr) values approach zero\n (which means the tracks wants none of the leftover space).\n Without this, a 1fr track would take all of the leftover space;\n but so would a 0.1fr track,\n and a 0.01fr track,\n etc.,\n until finally the value is small enough to underflow to zero\n and the track suddenly takes up none of the leftover space.\n With this behavior,\n the track instead gradually takes less of the leftover space\n as its flex factor shrinks below 1fr,\n smoothly transitioning to taking none of the leftover space at zero.\n\n \nUnless this “partial fill” behavior is specifically what’s desired,\n authors should stick to values ≥ 1;\n for example, using 1fr and 2fr is usually better\n than using .33fr and .67fr,\n as they’re more likely to behave as intended\n if tracks are added or removed.\n\n \n \nWhen the available space is infinite\n (which happens when the [grid container](#grid-container)’s width or height is [indefinite](https://www.w3.org/TR/css-sizing-3/#indefinite)),\n flex-sized [grid tracks](#grid-track) are sized to their contents while retaining their respective proportions.\n The used size of each flex-sized grid track is computed by\n determining the [max-content](#valdef-grid-template-columns-max-content) size of each flex-sized grid track and dividing that size by the respective [flex factor](#grid-template-columns-flex-factor) to determine a “hypothetical 1fr size”.\n The maximum of those is used as the resolved 1fr length (the **flex fraction**),\n which is then multiplied by each grid track’s flex factor to determine its final size.\n\n \nNote: [<flex>](#typedef-flex) values are not [<length>](https://www.w3.org/TR/css-values-4/#length-value)s\n (nor are they compatible with <length>s, like some [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) values),\n so they cannot be represented in or combined with other unit types in [calc()](https://www.w3.org/TR/css-values-4/#funcdef-calc) expressions.\n\n 7.2.5. Computed Value of a Track Listing[](#computed-tracks)\n \nThe **computed track list** of a non-[subgrid](#valdef-grid-template-rows-subgrid) axis\n is a [list](https://infra.spec.whatwg.org/#list) alternating between [line name sets](#line-name-set) and [track sections](#track-section),\n with the first and last items being line name sets.\n\n \nA **line name set** is a (potentially empty) [set](https://infra.spec.whatwg.org/#ordered-set) of identifiers representing line names.\n\n \nA **track section** is either:\n\n \n\n \n \na [minmax()](#funcdef-grid-template-columns-minmax) functional notation representing a single track’s size,\nwith each [<length-percentage>](https://www.w3.org/TR/css-values-4/#typedef-length-percentage) computed\n(a **computed track size**)\n\n \n \na [repeat()](#funcdef-track-repeat-repeat) functional notation representing a repeated track list section,\nwith its [<integer>](https://www.w3.org/TR/css-values-4/#integer-value) computed\nand its [<track-list>](#typedef-track-list) represented as a [computed track list](#computed-track-list) (a **computed repeat notation**)\n\n \n\n \nThe [computed track list](#computed-track-list) of a [subgrid](#valdef-grid-template-rows-subgrid) axis\n is the subgrid keyword followed by\n a [list](https://infra.spec.whatwg.org/#list) of [line name sets](#line-name-set) and [computed repeat notations](#computed-repeat-notation) representing the line names specified for that axis.\n\n 7.2.6. Resolved Value of a Track Listing[](#resolved-track-list)\n \nThe [grid-template-rows](#propdef-grid-template-rows) and [grid-template-columns](#propdef-grid-template-columns) properties are [resolved value special case properties](https://www.w3.org/TR/cssom-1/#resolved-value-special-case-property). [[CSSOM]](#biblio-cssom)\n\n 7.2.6.1. Resolved Value of a Standalone Track Listing[](#resolved-track-list-standalone)\n \nWhen an element generates a [grid container](#grid-container) box,\n the [resolved value](https://www.w3.org/TR/cssom/#resolved-values) of its [grid-template-rows](#propdef-grid-template-rows) or [grid-template-columns](#propdef-grid-template-columns) property\n in a [standalone axis](#standalone-axis) is the [used value](https://www.w3.org/TR/css-cascade-5/#used-value),\n serialized with:\n\n \n\n Every track listed individually,\n whether implicitly or explicitly created,\n without using the [repeat()](#funcdef-track-repeat-repeat) notation. \n Every track size given as a length in pixels,\n regardless of sizing function. \n Adjacent line names collapsed into a single bracketed set. \n \n\n \n [](#issue-cccd0e19) The first bullet point of the above list\n means that implicit tracks get serialized\n as part of [grid-template-rows](#propdef-grid-template-rows)/etc.,\n despite the fact that an author cannot actually specify implicit track sizes in those properties!\n So grid-template-rows and [grid-template-columns](#propdef-grid-template-columns) values\n might not round-trip correctly: \n\n```\nconst s = getComputedStyle(gridEl);\ngridEl.style.gridTemplateRows = s.gridTemplateRows;\n// Code like this should be a no-op,\n// but if there are any implicit rows,\n// this will convert them into explicit rows,\n// possibly changing how grid items are positioned\n// and altering the overall size of the grid!\n\n```\n\n \nThis is an accidental property of an early implementation\n that leaked into later implementations\n without much thought given to it.\n We intend to remove it from the spec,\n but not until after we’ve defined a CSSOM API\n for getting information about implicit tracks,\n as currently this is the only way to get that information\n and a number of pages rely on that.\n\n \n \nOtherwise, (e.g. when the element has [display: none](https://www.w3.org/TR/css-display-4/#propdef-display) or is not a [grid container](#grid-container))\n the resolved value is simply the [computed value](https://www.w3.org/TR/css-cascade-5/#computed-value).\n\n \n [](#example-d3b634e7) \n\n```\n<style>\n#grid {\n width: 500px;\n grid-template-columns:\n [a] auto\n [b] minmax(min-content, 1fr)\n [b c d] repeat(2, [e] 40px)\n repeat(5, auto);\n}\n</style>\n<div id=\"grid\">\n <div style=\"grid-column-start: 1; width: 50px\"></div>\n <div style=\"grid-column-start: 9; width: 50px\"></div>\n</div>\n<script>\n var gridElement = document.getElementById(\"grid\");\n getComputedStyle(gridElement).gridTemplateColumns;\n // [a] 50px [b] 320px [b c d e] 40px [e] 40px 0px 0px 0px 0px 50px\n</script>\n\n```\n\n \n \nNote: In general, resolved values are the computed values,\n except for a small list of legacy 2.1 properties.\n However, compatibility with early implementations of this module\n requires us to define [grid-template-rows](#propdef-grid-template-rows) and [grid-template-columns](#propdef-grid-template-columns) as returning used values.\n\n \n[](#issue-e2bc4d57) The CSS Working Group is considering whether to also return used values\n for the [grid-placement properties](#grid-placement-property) and is looking for feedback, especially from implementors.\n See [discussion](https://github.com/w3c/csswg-drafts/issues/2681).\n\n 7.2.6.2. Resolved Value of a Subgridded Track Listing[](#resolved-track-list-subgrid)\n \nWhen an element generates a [grid container](#grid-container) box that is a [subgrid](#subgrid),\n the [resolved value](https://www.w3.org/TR/cssom-1/#resolved-value) of the [grid-template-rows](#propdef-grid-template-rows) and [grid-template-columns](#propdef-grid-template-columns) properties\n represents the [used](https://www.w3.org/TR/css-cascade-5/#used-value) number of columns,\n serialized as the [subgrid](#valdef-grid-template-rows-subgrid) keyword\n followed by a list representing each of its lines\n as a [line name set](#line-name-set) of all the line’s names\n explicitly defined on the subgrid (not including those adopted from the [parent grid](#parent-grid)),\n without using the [repeat()](#funcdef-track-repeat-repeat) notation.\n\n \n [](#example-8cc1f771) For example,\n when applied to a [subgrid](#subgrid) with [grid-column: span 4](#propdef-grid-column),\n each of the following [grid-template-columns](#propdef-grid-template-columns) [specified values](https://www.w3.org/TR/css-cascade-5/#specified-value) becomes the corresponding [resolved values](https://www.w3.org/TR/cssom-1/#resolved-value): \n\n```\nspecified: subgrid [a] repeat(auto-fill, [b]) [c]\nresolved: subgrid [a] [b] [b] [b] [c]\n\n```\n\n```\nspecified: subgrid [a] [a] [a] [a] repeat(auto-fill, [b]) [c] [c]\nresolved: subgrid [a] [a] [a] [a] [c]\n\n```\n\n```\nspecified: subgrid [] [a]\nresolved: subgrid [] [a] [] [] []\n\n```\n\n```\nspecified: subgrid [a] [b] [c] [d] [e] [f]\nresolved: subgrid [a] [b] [c] [d] [e]\n\n```\n\n \n \nNote: This violates the general\n \"shortest equivalent serialization\" principle\n by serializing empty trailing [line name sets](#line-name-set),\n as the trailing line name sets provide potentially-useful information\n about how many tracks the [subgrid](#subgrid) is spanning.\n\n 7.3. Named Areas: the [grid-template-areas](#propdef-grid-template-areas) property[](#grid-template-areas-property)\n \n \n \n Name:\n **grid-template-areas**\n \n [Value:](https://www.w3.org/TR/css-values/#value-defs)\n none [|](https://www.w3.org/TR/css-values-4/#comb-one) [<string>](https://www.w3.org/TR/css-values-4/#string-value)[+](https://www.w3.org/TR/css-values-4/#mult-one-plus) \n \n [Initial:](https://www.w3.org/TR/css-cascade/#initial-values)\n none \n \n [Applies to:](https://www.w3.org/TR/css-cascade/#applies-to)\n [grid containers](#grid-container) \n \n [Inherited:](https://www.w3.org/TR/css-cascade/#inherited-property)\n no \n \n [Percentages:](https://www.w3.org/TR/css-values/#percentages)\n n/a \n \n [Computed value:](https://www.w3.org/TR/css-cascade/#computed)\n the keyword [none](#valdef-grid-template-areas-none) or a list of string values \n \n [Canonical order:](https://www.w3.org/TR/cssom/#serializing-css-values)\n per grammar \n \n [Animation type:](https://www.w3.org/TR/web-animations/#animation-type)\n discrete \n \n \nThis property specifies **named grid areas**,\n which are not associated with any particular [grid item](#grid-item),\n but can be referenced from the [grid-placement properties](#grid-placement-property).\n The syntax of the [grid-template-areas](#propdef-grid-template-areas) property also provides a visualization\n of the structure of the [grid](#grid),\n making the overall layout of the [grid container](#grid-container) easier to understand.\n\n \nValues have the following meanings:\n\n \n **none** \n \n Indicates that no [named grid areas](#named-grid-area),\n and likewise no [explicit grid](#explicit-grid) tracks,\n are defined by this property\n (though explicit grid tracks could still be created by [grid-template-columns](#propdef-grid-template-columns) or [grid-template-rows](#propdef-grid-template-rows)). \n \nNote: In the absence of an [explicit grid](#explicit-grid) any rows/columns will be [implicitly generated](#implicit-grids),\n and their size will be determined by the [grid-auto-rows](#propdef-grid-auto-rows) and [grid-auto-columns](#propdef-grid-auto-columns) properties.\n\n **[<string>](https://www.w3.org/TR/css-values-4/#string-value)+** \n \n A row is created for every separate string listed for the [grid-template-areas](#propdef-grid-template-areas) property,\n and a column is created for each cell in the string,\n when parsed as follows: \n \nTokenize the string into a list of the following tokens,\n using longest-match semantics:\n\n \n\n A sequence of [ident code points](https://www.w3.org/TR/css-syntax-3/#ident-code-point),\n representing a **named cell token** with a name consisting of its code points. \n A sequence of one or more \".\" (U+002E FULL STOP),\n representing a **null cell token**. \n A sequence of [whitespace](https://www.w3.org/TR/css-syntax-3/#whitespace),\n representing nothing\n (do not produce a token). \n A sequence of any other characters,\n representing a **trash token**. \n \n\n \nNote: These rules can produce cell names that do not match the [<ident>](https://www.w3.org/TR/css-values-4/#typedef-ident) syntax,\n such as \"1st 2nd 3rd\",\n which requires escaping when referencing those areas by name in other properties,\n like [grid-row: \\31st;](#propdef-grid-row) to reference the area named 1st.\n\n \n\n A [null cell token](#grid-template-areas-null-cell-token) represents an unnamed area in the [grid container](#grid-container). \n A [named cell token](#grid-template-areas-named-cell-token) creates a [named grid area](#named-grid-area) with the same name.\n Multiple named cell tokens within and between rows\n create a single named grid area that spans the corresponding [grid cells](#grid-cell). \n A [trash token](#grid-template-areas-trash-token) is a syntax error,\n and makes the declaration invalid. \n \n\n \nAll strings must define the same number of cell tokens\n ([named cell tokens](#grid-template-areas-named-cell-token) and/or [null cell tokens](#grid-template-areas-null-cell-token)),\n and at least one cell token,\n or else the declaration is invalid.\n If a [named grid area](#named-grid-area) spans multiple [grid cells](#grid-cell),\n but those cells do not form a single filled-in rectangle,\n the declaration is invalid.\n\n \nNote: Non-rectangular or disconnected regions may be permitted in a future version of this module.\n\n \n \n [](#example-9f77ebf7) In this example, the [grid-template-areas](#propdef-grid-template-areas) property is used to create a page layout\n where areas are defined for header content (`head`),\n navigational content (`nav`),\n footer content (`foot`),\n and main content (`main`).\n Accordingly, the template creates three rows and two columns,\n with four [named grid areas](#named-grid-area).\n The `head` area spans both columns and the first row of the grid. \n\n```\n#grid {\n display: grid;\n grid-template-areas: \"head head\"\n \"nav main\"\n \"foot ....\"\n}\n#grid > header { grid-area: head; }\n#grid > nav { grid-area: nav; }\n#grid > main { grid-area: main; }\n#grid > footer { grid-area: foot; }\n\n```\n\n \n 7.3.1. Serialization Of Template Strings[](#serialize-template)\n \nWhen serializing either the [specified](https://www.w3.org/TR/css-cascade-5/#specified-value) or [computed value](https://www.w3.org/TR/css-cascade-5/#computed-value) of a [<string>](https://www.w3.org/TR/css-values-4/#string-value) value of [grid-template-areas](#propdef-grid-template-areas),\n each [null cell token](#grid-template-areas-null-cell-token) is serialized as a single \".\" (U+002E FULL STOP),\n and consecutive cell tokens are separated by a single space (U+0020 SPACE),\n with all other white space elided.\n\n 7.3.2. Implicitly-Assigned Line Names[](#implicit-named-lines)\n \nThe [grid-template-areas](#propdef-grid-template-areas) property generates **implicitly-assigned line names** from the [named grid areas](#named-grid-area) in the template.\n For each named grid area foo, four [implicitly-assigned line names](#implicitly-assigned-line-name) are created:\n two named foo-start, naming the row-start and column-start lines of the named grid area,\n and two named foo-end, naming the row-end and column-end lines of the named grid area.\n\n \nThese [implicitly-assigned line names](#implicitly-assigned-line-name) behave just like any other [line names](#line-name),\n except that they do not appear in the value of [grid-template-rows](#propdef-grid-template-rows)/[grid-template-columns](#propdef-grid-template-columns).\n Even if an [explicitly-assigned line name](#explicitly-assigned-line-name) with the same name is defined,\n the implicitly-assigned line names are just more lines with the same name.\n\n 7.3.3. Implicitly-Named Areas[](#implicit-named-areas)\n \nSince a [named grid area](#named-grid-area) is referenced by the [implicitly-assigned line names](#implicitly-assigned-line-name) it produces,\n explicitly adding named lines of the same form (foo-start/foo-end)\n effectively creates a named grid area.\n Such **implicitly-named areas** do not appear in the value of [grid-template-areas](#propdef-grid-template-areas),\n but can still be referenced by the [grid-placement properties](#grid-placement-property).\n\n 7.4. Explicit Grid Shorthand: the [grid-template](#propdef-grid-template) property[](#explicit-grid-shorthand)\n \n \n \n Name:\n **grid-template**\n \n [Value:](https://www.w3.org/TR/css-values/#value-defs)\n none [|](https://www.w3.org/TR/css-values-4/#comb-one) [ [<'grid-template-rows'>](#propdef-grid-template-rows) / [<'grid-template-columns'>](#propdef-grid-template-columns) ] | [ [<line-names>](#typedef-line-names)[?](https://www.w3.org/TR/css-values-4/#mult-opt) [<string>](https://www.w3.org/TR/css-values-4/#string-value) [<track-size>](#typedef-track-size)? <line-names>? ][+](https://www.w3.org/TR/css-values-4/#mult-one-plus) [ / [<explicit-track-list>](#typedef-explicit-track-list) ]? \n \n [Initial:](https://www.w3.org/TR/css-cascade/#initial-values)\n none \n \n [Applies to:](https://www.w3.org/TR/css-cascade/#applies-to)\n [grid containers](#grid-container) \n \n [Inherited:](https://www.w3.org/TR/css-cascade/#inherited-property)\n see individual properties \n \n [Percentages:](https://www.w3.org/TR/css-values/#percentages)\n see individual properties \n \n [Computed value:](https://www.w3.org/TR/css-cascade/#computed)\n see individual properties \n \n [Animation type:](https://www.w3.org/TR/web-animations/#animation-type)\n see individual properties \n \n [Canonical order:](https://www.w3.org/TR/cssom/#serializing-css-values)\n per grammar \n \n \nThe [grid-template](#propdef-grid-template) property is a [shorthand](https://www.w3.org/TR/css-cascade-5/#shorthand-property) for setting [grid-template-columns](#propdef-grid-template-columns), [grid-template-rows](#propdef-grid-template-rows), and [grid-template-areas](#propdef-grid-template-areas) in a single declaration.\n It has several distinct syntax forms:\n\n \n **none** \n Sets all three properties to their initial values ([none](#valdef-grid-template-rows-none)). \n **[<'grid-template-rows'>](#propdef-grid-template-rows) / [<'grid-template-columns'>](#propdef-grid-template-columns)** \n \n Sets [grid-template-rows](#propdef-grid-template-rows) and [grid-template-columns](#propdef-grid-template-columns) to the specified values, respectively,\n and sets [grid-template-areas](#propdef-grid-template-areas) to [none](#valdef-grid-template-areas-none). \n \n [](#example-25dd92dd) \n\n```\ngrid-template: auto 1fr / auto 1fr auto;\n```\n\n \nis equivalent to\n\n```\ngrid-template-rows: auto 1fr;\ngrid-template-columns: auto 1fr auto;\ngrid-template-areas: none;\n\n```\n\n \n [ [<line-names>](#typedef-line-names)? [<string>](https://www.w3.org/TR/css-values-4/#string-value) [<track-size>](#typedef-track-size)? <line-names>? ]+ [ / [<explicit-track-list>](#typedef-explicit-track-list) ]? \n \n \n\n \n \nSets [grid-template-areas](#propdef-grid-template-areas) to the strings listed.\n\n \n \nSets [grid-template-rows](#propdef-grid-template-rows) to the [<track-size>](#typedef-track-size)s following each string\n(filling in [auto](#valdef-grid-template-columns-auto) for any missing sizes),\nand splicing in the named lines defined before/after each size.\n\n \n \nSets [grid-template-columns](#propdef-grid-template-columns) to the track listing specified after the slash\n(or [none](#valdef-grid-template-rows-none), if not specified).\n\n \n\n \nThis syntax allows the author to align track names and sizes inline with their respective grid areas.\n\n \n [](#example-4fe2f42d) \n\n```\ngrid-template: [header-top] \"a a a\" [header-bottom]\n [main-top] \"b b b\" 1fr [main-bottom]\n / auto 1fr auto;\n\n```\n\n \nis equivalent to\n\n```\ngrid-template-areas: \"a a a\"\n \"b b b\";\ngrid-template-rows: [header-top] auto [header-bottom main-top] 1fr [main-bottom];\ngrid-template-columns: auto 1fr auto;\n\n```\n\n \nand creates the following grid:\n\n \n \n \n\n Three columns, sized [auto](#valdef-grid-template-columns-auto), 1fr, and [auto](#grid-placement-auto), respectively \n Two rows sized as [auto](#valdef-grid-template-columns-auto) and 1fr, respectively. \n A line named both “header-top” and “a-start” at the top,\n a line with four names—​“header-bottom”, “main-top”, “a-end”, and “b-start”—​in the middle,\n a line named “main-bottom” and “b-end” at the bottom. \n A line named “a-start” and “b-start” on the left edge,\n and a line named “a-end” and “b-end” on the right edge. \n \n\n \n The grid created by the declarations above.\n (The “a/b-start/end” names are [implicitly assigned](#implicitly-assigned-line-name) by the [named grid areas](#named-grid-area).) \n \n \n \nNote: Note that the [repeat()](#funcdef-track-repeat-repeat) function isn’t allowed in these track listings,\n as the tracks are intended to visually line up one-to-one with the rows/columns in the “ASCII art”.\n\n \n \nNote: The [grid](#propdef-grid) shorthand accepts the same syntax,\n but also resets the implicit grid properties to their initial values.\n Unless authors want those to cascade in separately,\n it is therefore recommended to use grid instead of [grid-template](#propdef-grid-template).\n\n 7.5. The Implicit Grid[](#implicit-grids)\n \nThe [grid-template-rows](#propdef-grid-template-rows), [grid-template-columns](#propdef-grid-template-columns), and [grid-template-areas](#propdef-grid-template-areas) properties define a fixed number\n of tracks that form the [explicit grid](#explicit-grid).\n When [grid items](#grid-item) are positioned outside of these bounds,\n the [grid container](#grid-container) generates **implicit grid tracks** by adding **implicit grid lines** to the [grid](#grid).\n These lines together with the explicit grid form the **implicit grid**.\n The [grid-auto-rows](#propdef-grid-auto-rows) and [grid-auto-columns](#propdef-grid-auto-columns) properties size these [implicit grid tracks](#implicit-grid-track),\n as well as any [explicit grid tracks](#explicit-grid-track) created by grid-template-areas but not explicitly sized by grid-template-rows or grid-template-columns\n\n \nThe [grid-auto-flow](#propdef-grid-auto-flow) property controls auto-placement of [grid items](#grid-item) without an explicit position.\n Once the [explicit grid](#explicit-grid) is filled\n (or if there is no explicit grid)\n auto-placement will also cause the generation of [implicit grid tracks](#implicit-grid-track).\n\n \nThe [grid](#propdef-grid) [shorthand](https://www.w3.org/TR/css-cascade-5/#shorthand-property) property can set the **implicit grid properties** ([grid-auto-flow](#propdef-grid-auto-flow), [grid-auto-rows](#propdef-grid-auto-rows), and [grid-auto-columns](#propdef-grid-auto-columns))\n together with the [explicit grid properties](#explicit-grid-properties) in a single declaration.\n\n 7.6. Implicit Track Sizing: the [grid-auto-rows](#propdef-grid-auto-rows) and [grid-auto-columns](#propdef-grid-auto-columns) properties[](#auto-tracks)\n \n \n \n Name:\n **grid-auto-columns**, **grid-auto-rows**\n \n [Value:](https://www.w3.org/TR/css-values/#value-defs)\n [<track-size>](#typedef-track-size)[+](https://www.w3.org/TR/css-values-4/#mult-one-plus) \n \n [Initial:](https://www.w3.org/TR/css-cascade/#initial-values)\n auto \n \n [Applies to:](https://www.w3.org/TR/css-cascade/#applies-to)\n [grid containers](#grid-container) \n \n [Inherited:](https://www.w3.org/TR/css-cascade/#inherited-property)\n no \n \n [Percentages:](https://www.w3.org/TR/css-values/#percentages)\n see [Track Sizing](#track-sizing) \n \n [Computed value:](https://www.w3.org/TR/css-cascade/#computed)\n see [Track Sizing](#track-sizing) \n \n [Canonical order:](https://www.w3.org/TR/cssom/#serializing-css-values)\n per grammar \n \n [Animation type:](https://www.w3.org/TR/web-animations/#animation-type)\n if the list lengths match, by computed value type per item; discrete otherwise \n \n \nThe [grid-auto-columns](#propdef-grid-auto-columns) and [grid-auto-rows](#propdef-grid-auto-rows) properties specify\n the size of tracks not assigned a size\n by [grid-template-rows](#propdef-grid-template-rows) or [grid-template-columns](#propdef-grid-template-columns).\n If multiple track sizes are given, the pattern is repeated as necessary\n to find the size of the affected tracks.\n The first track after the last explicitly-sized track\n receives the first specified size, and so on forwards;\n and the last [implicit grid track](#implicit-grid-track) before the [explicit grid](#explicit-grid) receives the last specified size, and so on backwards.\n\n \nNote: If a grid item is positioned into a row or column that is not explicitly declared\n by [grid-template-rows](#propdef-grid-template-rows)/[grid-template-columns](#propdef-grid-template-columns) and/or [grid-template-areas](#propdef-grid-template-areas), [implicit grid tracks](#implicit-grid-track) are created to hold it.\n This can happen either by explicitly positioning into a row or column that is out of range,\n or by the [auto-placement algorithm](#grid-item-placement-algorithm) creating additional rows or columns.\n\n \n [](#example-b32ffb8f) \n\n```\n<style>\n #grid {\n display: grid;\n grid-template-columns: 20px;\n grid-auto-columns: 40px;\n grid-template-rows: 20px;\n grid-auto-rows: 40px;\n }\n #A { grid-column: 1; grid-row: 1; }\n #B { grid-column: 2; grid-row: 1; }\n #C { grid-column: 1; grid-row: 2; }\n #D { grid-column: 2; grid-row: 2; }\n</style>\n\n<div id=\"grid\">\n <div id=\"A\">A</div>\n <div id=\"B\">B</div>\n <div id=\"C\">C</div>\n <div id=\"D\">D</div>\n</div>\n\n```\n\n \n \n A 2×2 grid with\n one explicit 20px×20px grid cell in the first row+column\n and three additional cells resulting from\n the implicit 40px column and row generated\n to hold the additional grid items. \n \n \n 7.7. **Automatic Placement**: the [grid-auto-flow](#propdef-grid-auto-flow) property[](#grid-auto-flow-property)\n \n \n \n Name:\n **grid-auto-flow**\n \n [Value:](https://www.w3.org/TR/css-values/#value-defs)\n [ row [|](https://www.w3.org/TR/css-values-4/#comb-one) column ] [||](https://www.w3.org/TR/css-values-4/#comb-any) dense \n \n [Initial:](https://www.w3.org/TR/css-cascade/#initial-values)\n row \n \n [Applies to:](https://www.w3.org/TR/css-cascade/#applies-to)\n [grid containers](#grid-container) \n \n [Inherited:](https://www.w3.org/TR/css-cascade/#inherited-property)\n no \n \n [Percentages:](https://www.w3.org/TR/css-values/#percentages)\n n/a \n \n [Computed value:](https://www.w3.org/TR/css-cascade/#computed)\n specified keyword(s) \n \n [Canonical order:](https://www.w3.org/TR/cssom/#serializing-css-values)\n per grammar \n \n [Animation type:](https://www.w3.org/TR/web-animations/#animation-type)\n discrete \n \n \n[Grid items](#grid-item) that aren’t explicitly placed are automatically placed\n into an unoccupied space in the [grid container](#grid-container) by the [auto-placement algorithm](#grid-item-placement-algorithm). [grid-auto-flow](#propdef-grid-auto-flow) controls how the auto-placement algorithm works,\n specifying exactly how auto-placed items get flowed into the grid.\n See [§ 8.5 Grid Item Placement Algorithm](#auto-placement-algo) for details on precisely how the auto-placement algorithm works.\n\n \n **row** \n The [auto-placement algorithm](#grid-item-placement-algorithm) places items\n by filling each row in turn,\n adding new rows as necessary.\n If neither [row](#valdef-grid-auto-flow-row) nor [column](#valdef-grid-auto-flow-column) is provided, row is assumed. \n **column** \n The [auto-placement algorithm](#grid-item-placement-algorithm) places items\n by filling each column in turn,\n adding new columns as necessary. \n **dense** \n \n If specified, the [auto-placement algorithm](#grid-item-placement-algorithm) uses a “dense” packing algorithm,\n which attempts to fill in holes earlier in the grid if smaller items come up later.\n This may cause items to appear out-of-order,\n when doing so would fill in holes left by larger items. \n \nIf omitted, a “sparse” algorithm is used,\n where the placement algorithm only ever moves “forward” in the grid when placing items,\n never backtracking to fill holes.\n This ensures that all of the auto-placed items appear “in order”,\n even if this leaves holes that could have been filled by later items.\n\n \n \nNote: A future level of this module is expected to add a value that flows auto-positioned items together into a single “default” cell.\n\n \nAuto-placement takes [grid items](#grid-item) in [order-modified document order](https://www.w3.org/TR/css-flexbox-1/#order-modified-document-order).\n\n \n [](#example-deb30762) In the following example, there are three columns, each auto-sized to their contents.\n No rows are explicitly defined.\n The [grid-auto-flow](#propdef-grid-auto-flow) property is [row](#valdef-grid-auto-flow-row) which instructs the grid to search across its three columns starting with the first row,\n then the next,\n adding rows as needed until sufficient space is located to accommodate the position of any auto-placed [grid item](#grid-item). \n \n \n \nA form arranged using automatic placement. \n\n \n\n```\n<style type=\"text/css\">\nform {\n display: grid;\n /* Define three columns, all content-sized,\n and name the corresponding lines. */\n grid-template-columns: [labels] auto [controls] auto [oversized] auto;\n grid-auto-flow: row dense;\n}\nform > label {\n /* Place all labels in the \"labels\" column and\n automatically find the next available row. */\n grid-column: labels;\n grid-row: auto;\n}\nform > input, form > select {\n /* Place all controls in the \"controls\" column and\n automatically find the next available row. */\n grid-column: controls;\n grid-row: auto;\n}\n\n#department-block {\n /* Auto place this item in the \"oversized\" column\n in the first row where an area that spans three rows\n won’t overlap other explicitly placed items or areas\n or any items automatically placed prior to this area. */\n grid-column: oversized;\n grid-row: span 3;\n}\n\n/* Place all the buttons of the form\n in the explicitly defined grid area. */\n#buttons {\n grid-row: auto;\n\n /* Ensure the button area spans the entire grid element\n in the inline axis. */\n grid-column: 1 / -1;\n text-align: end;\n}\n</style>\n<form>\n <label for=\"firstname\">First name:</label>\n <input type=\"text\" id=\"firstname\" name=\"firstname\">\n <label for=\"lastname\">Last name:</label>\n <input type=\"text\" id=\"lastname\" name=\"lastname\">\n <label for=\"address\">Address:</label>\n <input type=\"text\" id=\"address\" name=\"address\">\n <label for=\"address2\">Address 2:</label>\n <input type=\"text\" id=\"address2\" name=\"address2\">\n <label for=\"city\">City:</label>\n <input type=\"text\" id=\"city\" name=\"city\">\n <label for=\"state\">State:</label>\n <select type=\"text\" id=\"state\" name=\"state\">\n <option value=\"WA\">Washington</option>\n </select>\n <label for=\"zip\">Zip:</label>\n <input type=\"text\" id=\"zip\" name=\"zip\">\n\n <div id=\"department-block\">\n <label for=\"department\">Department:</label>\n <select id=\"department\" name=\"department\" multiple>\n <option value=\"finance\">Finance</option>\n <option value=\"humanresources\">Human Resources</option>\n <option value=\"marketing\">Marketing</option>\n </select>\n </div>\n\n <div id=\"buttons\">\n <button id=\"cancel\">Cancel</button>\n <button id=\"back\">Back</button>\n <button id=\"next\">Next</button>\n </div>\n</form>\n\n```\n\n \n 7.8. Grid Definition Shorthand: the [grid](#propdef-grid) property[](#grid-shorthand)\n \n \n \n Name:\n **grid**\n \n [Value:](https://www.w3.org/TR/css-values/#value-defs)\n [<'grid-template'>](#propdef-grid-template) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<'grid-template-rows'>](#propdef-grid-template-rows) / [ auto-flow [&&](https://www.w3.org/TR/css-values-4/#comb-all) dense[?](https://www.w3.org/TR/css-values-4/#mult-opt) ] [<'grid-auto-columns'>](#propdef-grid-auto-columns)? | [ auto-flow [&&](https://www.w3.org/TR/css-values-4/#comb-all) dense[?](https://www.w3.org/TR/css-values-4/#mult-opt) ] [<'grid-auto-rows'>](#propdef-grid-auto-rows)? / [<'grid-template-columns'>](#propdef-grid-template-columns) \n \n [Initial:](https://www.w3.org/TR/css-cascade/#initial-values)\n none \n \n [Applies to:](https://www.w3.org/TR/css-cascade/#applies-to)\n [grid containers](#grid-container) \n \n [Inherited:](https://www.w3.org/TR/css-cascade/#inherited-property)\n see individual properties \n \n [Percentages:](https://www.w3.org/TR/css-values/#percentages)\n see individual properties \n \n [Computed value:](https://www.w3.org/TR/css-cascade/#computed)\n see individual properties \n \n [Animation type:](https://www.w3.org/TR/web-animations/#animation-type)\n see individual properties \n \n [Canonical order:](https://www.w3.org/TR/cssom/#serializing-css-values)\n per grammar \n \n \nThe [grid](#propdef-grid) property is a [shorthand](https://www.w3.org/TR/css-cascade-5/#shorthand-property) that sets\n all of the [explicit grid properties](#explicit-grid-properties) ([grid-template-rows](#propdef-grid-template-rows), [grid-template-columns](#propdef-grid-template-columns), and [grid-template-areas](#propdef-grid-template-areas)),\n and all the [implicit grid properties](#implicit-grid-properties) ([grid-auto-rows](#propdef-grid-auto-rows), [grid-auto-columns](#propdef-grid-auto-columns), and [grid-auto-flow](#propdef-grid-auto-flow)),\n in a single declaration.\n (It does not reset the [gutter](https://www.w3.org/TR/css-align-3/#gutter) properties.)\n\n \nIts syntax matches [grid-template](#propdef-grid-template),\n plus an additional syntax form\n for defining auto-flow grids:\n\n \n [<'grid-template'>](#propdef-grid-template) \n Sets the [grid-template](#propdef-grid-template) longhands as as for grid-template,\n and the grid-auto-* longhands to their initial values. \n **[<'grid-template-rows'>](#propdef-grid-template-rows) / [ auto-flow && dense? ] [<'grid-auto-columns'>](#propdef-grid-auto-columns)?** \n **[ auto-flow && dense? ] [<'grid-auto-rows'>](#propdef-grid-auto-rows)? / [<'grid-template-columns'>](#propdef-grid-template-columns)** \n \n Sets up auto-flow,\n by setting the tracks in one axis explicitly\n (setting either [grid-template-rows](#propdef-grid-template-rows) or [grid-template-columns](#propdef-grid-template-columns) as specified,\n and setting the other to [none](#valdef-grid-template-rows-none)),\n and specifying how to auto-repeat the tracks in the other axis\n (setting either [grid-auto-rows](#propdef-grid-auto-rows) or [grid-auto-columns](#propdef-grid-auto-columns) as specified,\n and setting the other to auto). [grid-auto-flow](#propdef-grid-auto-flow) is also set to either [row](#valdef-grid-auto-flow-row) or [column](#valdef-grid-auto-flow-column) accordingly,\n with [dense](#valdef-grid-auto-flow-dense) if it’s specified. \n \nAll other [grid](#propdef-grid) [sub-properties](https://www.w3.org/TR/css-cascade-5/#longhand) are reset to their initial values.\n\n \n \nNote: Note that you can only specify the explicit or the implicit grid properties in a single [grid](#propdef-grid) declaration.\n The sub-properties you don’t specify are set to their initial value,\n as normal for [shorthands](https://www.w3.org/TR/css-cascade-5/#shorthand-property).\n\n \n [](#example-dec34e0f) In addition to accepting the [grid-template](#propdef-grid-template) shorthand syntax for setting up the [explicit grid](#explicit-grid),\n the [grid](#propdef-grid) shorthand can also easily set up parameters for an auto-formatted grid.\n For example, grid: auto-flow 1fr / 100px; is equivalent to \n\n```\ngrid-template: none / 100px;\ngrid-auto-flow: row;\ngrid-auto-rows: 1fr;\ngrid-auto-columns: auto;\n\n```\n\n \nSimilarly, [grid: none / auto-flow 1fr](#propdef-grid) is equivalent to\n\n```\ngrid-template: none;\ngrid-auto-flow: column;\ngrid-auto-rows: auto;\ngrid-auto-columns: 1fr;\n\n```\n\n \n \nWhen serializing,\n if all the grid-auto-* longhands have their initial values,\n the [grid-template](#propdef-grid-template) syntax is used.",
      "rawLength": 141542
    },
    "placement": {
      "id": "placement",
      "heading": "8.  Placing Grid Items",
      "content": "Every [grid item](#grid-item) is associated with a [grid area](#grid-area),\n a rectangular set of adjacent [grid cells](#grid-cell) that the grid item occupies.\n This grid area defines the [containing block](https://www.w3.org/TR/css-display-4/#containing-block) for the grid item within which the self-alignment properties ([justify-self](https://www.w3.org/TR/css-align-3/#propdef-justify-self) and [align-self](https://www.w3.org/TR/css-align-3/#propdef-align-self)) determine their actual position.\n The cells that a grid item occupies also influence the sizing of the grid’s rows and columns,\n defined in [§ 12 Grid Layout Algorithm](#layout-algorithm).\n\n \nThe location of a [grid item’s](#grid-item) [grid area](#grid-area) within the [grid](#grid) is defined by its **placement**,\n which consists of a [grid position](#grid-position) and a [grid span](#grid-span):\n\n \n **grid position** \n The [grid item](#grid-item)’s location in the [grid](#grid) in each axis.\n A [grid position](#grid-position) can be either **definite** (explicitly specified)\n or **automatic** (determined by [auto-placement](#auto-placement)). \n **grid span** \n \n How many [grid tracks](#grid-track) the [grid item](#grid-item) occupies in each axis.\n The [grid span](#grid-span) in an axis can be [implicit](#implicit-grid-span), [explicit](#explicit-grid-span), or [automatic](#automatic-grid-span): \n \n\n \n \nIf both the *-start and *-end values\nof its [grid-placement properties](#grid-placement-property) specify a line,\nits [grid span](#grid-span) is **implicit**.\n\n \n \nIf it has an explicit span value,\nits [grid span](#grid-span) is **explicit**.\n\n \n \nOtherwise, its [grid span](#grid-span) is **automatic**:\nif it is [subgridded](#subgridded-axis) in that axis,\nits grid span is [determined](#subgrid-span) from its [<line-name-list>](#typedef-line-name-list);\notherwise its grid span is 1.\n\n \n\n \n \nThe **grid-placement properties**—​the longhands [grid-row-start](#propdef-grid-row-start), [grid-row-end](#propdef-grid-row-end), [grid-column-start](#propdef-grid-column-start), [grid-column-end](#propdef-grid-column-end), and their shorthands [grid-row](#propdef-grid-row), [grid-column](#propdef-grid-column), and [grid-area](#propdef-grid-area)—​allow the author to specify a [grid item](#grid-item)’s [placement](#grid-placement) by providing any (or none) of the following six pieces of information:\n\n \n \n \n \n Row \n Column \n \n \n Start \n row-start line \n column-start line \n \n End \n row-end line \n column-end line \n \n Span \n row span \n column span \n \n \nA definite value for any two of Start, End, and Span in a given dimension implies a definite value for the third.\n\n 8.1. Common Patterns for Grid Placement[](#common-uses)\n \nThis section is informative.\n\n \nThe [grid-placement property](#grid-placement-property) longhands are organized into three shorthands:\n\n \n \n \n [grid-area](#propdef-grid-area) \n \n [grid-column](#propdef-grid-column) \n [grid-row](#propdef-grid-row) \n \n [grid-column-start](#propdef-grid-column-start) \n [grid-column-end](#propdef-grid-column-end) \n [grid-row-start](#propdef-grid-row-start) \n [grid-row-end](#propdef-grid-row-end) \n \n 8.1.1. Named Areas[](#common-uses-named-areas)\n \nAn item can be placed into a [named grid area](#named-grid-area) (such as those produced by the template in [grid-template-areas](#propdef-grid-template-areas))\n by specifying the area’s name in [grid-area](#propdef-grid-area):\n\n \n [](#example-a024ab3a) \n\n```\narticle {\n grid-area: main;\n /* Places item into the named area \"main\". */\n}\n\n```\n\n \n \nAn item can also be partially aligned with a [named grid area](#named-grid-area),\n with other edges aligned to some other line:\n\n \n [](#example-676a9f77) \n\n```\n.one {\n grid-row-start: main;\n /* Align the row-start edge to the start edge of the \"main\" named area. */\n}\n\n```\n\n \n 8.1.2. Numeric Indexes and Spans[](#common-uses-numeric)\n \nGrid items can be positioned and sized by number,\n which is particularly helpful for script-driven layouts:\n\n \n [](#example-85154965) \n\n```\n.two {\n grid-row: 2; /* Place item in the second row. */\n grid-column: 3; /* Place item in the third column. */\n /* Equivalent to grid-area: 2 / 3; */\n}\n\n```\n\n \n \nBy default, a grid item has a span of 1.\n Different spans can be given explicitly:\n\n \n [](#example-a58ad9ce) \n\n```\n.three {\n grid-row: 2 / span 5;\n /* Starts in the 2nd row,\n spans 5 rows down (ending in the 7th row). */\n}\n\n.four {\n grid-row: span 5 / 7;\n /* Ends in the 7th row,\n spans 5 rows up (starting in the 2nd row). */\n}\n\n```\n\n \n \nNote: Note that grid indexes are [writing mode](https://www.w3.org/TR/css-writing-modes-4/#writing-mode) relative.\n For example, in a right-to-left language like Arabic,\n the first column is the rightmost column.\n\n 8.1.3. Named Lines and Spans[](#common-uses-named-lines)\n \nInstead of counting lines by number,\n lines can be referenced by their [line name](#line-name):\n\n \n [](#example-9c11bd3f) \n\n```\n.five {\n grid-column: first / middle;\n /* Span from line \"first\" to line \"middle\". */\n}\n\n```\n\n \n \nNote: Note that if a [named grid area](#named-grid-area) has the same name as a [line name](#line-name),\n the placement algorithm will prefer to use named grid area’s lines instead.\n\n \nIf there are multiple lines of the same name,\n they effectively establish a named set of grid lines,\n which can be exclusively indexed by filtering the placement by name:\n\n \n [](#example-ca2f749c) \n\n```\n.six {\n grid-row: text 5 / text 7;\n /* Span between the 5th and 7th lines named \"text\". */\n grid-row: text 5 / span text 2;\n /* Same as above - start at the 5th line named \"text\",\n then span across two more \"text\" lines, to the 7th. */\n}\n\n```\n\n \n 8.1.4. Auto Placement[](#common-uses-auto-placement)\n \nA [grid item](#grid-item) can be automatically placed into the next available empty [grid cell](#grid-cell),\n growing the [grid](#grid) if there’s no space left.\n\n \n [](#example-b79de521) \n\n```\n.eight {\n grid-area: auto; /* Initial value */\n}\n\n```\n\n \n \nThis can be used, for example, to list a number of sale items on a catalog site\n in a grid pattern.\n\n \nAuto-placement can be combined with an explicit span,\n if the item should take up more than one cell:\n\n \n [](#example-f32a97df) \n\n```\n.nine {\n grid-area: span 2 / span 3;\n /* Auto-placed item, covering two rows and three columns. */\n}\n\n```\n\n \n \nWhether the [auto-placement algorithm](#grid-item-placement-algorithm) searches across and adds rows,\n or searches across and adds columns,\n is controlled by the [grid-auto-flow](#propdef-grid-auto-flow) property.\n\n \nNote: By default, the [auto-placement algorithm](#grid-item-placement-algorithm) looks linearly through the grid without backtracking;\n if it has to skip some empty spaces to place a larger item,\n it will not return to fill those spaces.\n To change this behavior,\n specify the [dense](#valdef-grid-auto-flow-dense) keyword in [grid-auto-flow](#propdef-grid-auto-flow).\n\n 8.2. Grid Item Placement vs. Source Order[](#placement-a11y)\n \n \n“With great power comes great responsibility.” \n\n \n \nThe abilities of the [grid-placement properties](#grid-placement-property) allow content to be freely arranged and reordered within the [grid](#grid),\n such that the visual presentation can be largely disjoint\n from the underlying document source order.\n These abilities allow the author great freedom\n in tailoring the rendering to different devices\n and modes of presentation\n e.g. using [media queries](https://www.w3.org/TR/mediaqueries-5/#media-query).\n However they are not a substitute for correct source ordering.\n\n \nCorrect source order is important for speech,\n for sequential navigation (such as keyboard navigation),\n and non-CSS UAs such as search engines, tactile browsers, etc.\n Grid placement only affects the visual presentation!\n This allows authors to optimize the document source for\n non-CSS/non-visual interaction modes,\n and use grid placement techniques to further manipulate the visual presentation\n so as to leave that source order intact.\n\n 8.3. Line-based Placement: the [grid-row-start](#propdef-grid-row-start), [grid-column-start](#propdef-grid-column-start), [grid-row-end](#propdef-grid-row-end), and [grid-column-end](#propdef-grid-column-end) properties[](#line-placement)\n \n \n \n Name:\n **grid-row-start**, **grid-column-start**, **grid-row-end**, **grid-column-end**\n \n [Value:](https://www.w3.org/TR/css-values/#value-defs)\n [<grid-line>](#typedef-grid-row-start-grid-line) \n \n [Initial:](https://www.w3.org/TR/css-cascade/#initial-values)\n auto \n \n [Applies to:](https://www.w3.org/TR/css-cascade/#applies-to)\n [grid items](#grid-item) and absolutely-positioned boxes whose containing block is a [grid container](#grid-container) \n \n [Inherited:](https://www.w3.org/TR/css-cascade/#inherited-property)\n no \n \n [Percentages:](https://www.w3.org/TR/css-values/#percentages)\n n/a \n \n [Computed value:](https://www.w3.org/TR/css-cascade/#computed)\n specified keyword, identifier, and/or integer \n \n [Canonical order:](https://www.w3.org/TR/cssom/#serializing-css-values)\n per grammar \n \n [Animation type:](https://www.w3.org/TR/web-animations/#animation-type)\n discrete \n \n\n```\n**[<grid-line>](#typedef-grid-row-start-grid-line)** =\n auto [|](https://www.w3.org/TR/css-values-4/#comb-one)\n [<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value) [|](https://www.w3.org/TR/css-values-4/#comb-one)\n [ [ [<integer [-∞,-1]>](https://www.w3.org/TR/css-values-4/#integer-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<integer [1,∞]>](https://www.w3.org/TR/css-values-4/#integer-value) ] [&&](https://www.w3.org/TR/css-values-4/#comb-all) [<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value)[?](https://www.w3.org/TR/css-values-4/#mult-opt) ] [|](https://www.w3.org/TR/css-values-4/#comb-one)\n [ span [&&](https://www.w3.org/TR/css-values-4/#comb-all) [ [<integer [1,∞]>](https://www.w3.org/TR/css-values-4/#integer-value) [||](https://www.w3.org/TR/css-values-4/#comb-any) [<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value) ] ]\n\n```\n\n \nThe [grid-row-start](#propdef-grid-row-start), [grid-column-start](#propdef-grid-column-start), [grid-row-end](#propdef-grid-row-end), and [grid-column-end](#propdef-grid-column-end) properties\n determine a [grid item](#grid-item)’s size and location within the [grid](#grid) by contributing a line, a span, or nothing (automatic)\n to its [grid placement](#grid-placement),\n thereby specifying the [inline-start](https://www.w3.org/TR/css-writing-modes-4/#inline-start), [block-start](https://www.w3.org/TR/css-writing-modes-4/#block-start), [inline-end](https://www.w3.org/TR/css-writing-modes-4/#inline-end), and [block-end](https://www.w3.org/TR/css-writing-modes-4/#block-end) edges of its [grid area](#grid-area).\n\n \nValues have the following meanings:\n\n \n **\" data-dfn-type=\"value\" data-export id=\"grid-placement-slot\">[<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value)** \n \n First attempt to match the [grid area](#grid-area)’s edge to a [named grid area](#named-grid-area):\n if there is a [grid line](#grid-line) whose [line name](#line-name) is [<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value)-start (for grid-*-start) / [<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value)-end (for grid-*-end),\n contributes the first such line to the [grid item](#grid-item)’s [placement](#grid-placement). \n \nNote: [Named grid areas](#named-grid-area) automatically generate [implicitly-assigned line names](#implicitly-assigned-line-name) of this form,\n so specifying [grid-row-start: foo](#propdef-grid-row-start) will choose the start edge of that named grid area (unless another line named foo-start was explicitly specified before it).\n\n \nOtherwise,\n treat this as if the integer 1 had been specified along with the [<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value).\n\n \" data-dfn-type=\"value\" data-export id=\"grid-placement-int\">[ [<integer [-∞,-1]>](https://www.w3.org/TR/css-values-4/#integer-value) | <integer [1,∞]> ] && [<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value)? \n \n Contributes the Nth [grid line](#grid-line) to the [grid item](#grid-item)’s [placement](#grid-placement).\n If a negative integer is given,\n it instead counts in reverse,\n starting from the end edge of the [explicit grid](#explicit-grid). \n \nIf a name is given as a [<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value),\n only lines with that name are counted.\n If not enough lines with that name exist,\n all [implicit grid lines](#implicit-grid-lines) are assumed to have that name for the purpose of finding this position.\n\n \nAn [<integer>](https://www.w3.org/TR/css-values-4/#integer-value) value of zero makes the declaration invalid.\n\n **\" data-dfn-type=\"value\" data-export id=\"grid-placement-span-int\">span && [ [<integer [1,∞]>](https://www.w3.org/TR/css-values-4/#integer-value) || [<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value) ]** \n \n Contributes a [grid span](#grid-span) to the [grid item](#grid-item)’s [placement](#grid-placement) such that the corresponding edge of the grid item’s [grid area](#grid-area) is N lines from its opposite edge\n in the corresponding direction.\n For example, [grid-column-end: span 2](#propdef-grid-column-end) indicates the second grid line in the endward direction\n from the [grid-column-start](#propdef-grid-column-start) line. \n \nIf a name is given as a [<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value),\n only lines with that name are counted.\n If not enough lines with that name exist,\n all [implicit grid lines](#implicit-grid-lines) on the side of the [explicit grid](#explicit-grid) corresponding to the search direction\n are assumed to have that name for the purpose of counting this span.\n\n \n [](#example-4e2ea185) For example, given the following declarations: \n\n```\n.grid { grid-template-columns: 100px; }\n.griditem { grid-column: span foo / 4; }\n\n```\n\n \nThe [grid container](#grid-container) has an [explicit grid](#explicit-grid) with two grid lines,\n numbered 1 and 2.\n The [grid item’s](#grid-item) column-end edge is specified to be at line 4,\n so two lines are generated in the endward side of the [implicit grid](#implicit-grid).\n\n \nIts column-start edge must be the first \"foo\" line it can find startward of that.\n There is no \"foo\" line in the grid, though,\n so the only possibility is a line in the [implicit grid](#implicit-grid).\n Line 3 is not a candidate, because it’s on the endward side of the [explicit grid](#explicit-grid),\n while the [grid-column-start](#propdef-grid-column-start) span forces it to search startward.\n So, the only option is for the implicit grid to generate a line on the startward side of the explicit grid.\n\n \n \n An illustration of the result.\n \n \n \nIf the [<integer>](https://www.w3.org/TR/css-values-4/#integer-value) is omitted, it defaults to 1.\n Negative integers or zero are invalid.\n\n **\" data-dfn-type=\"value\" data-export id=\"grid-placement-auto\">auto** \n The property contributes nothing to the [grid item](#grid-item)’s [placement](#grid-placement),\n indicating [auto-placement](#auto-placement) or a default span of one.\n (See [§ 8 Placing Grid Items](#placement), above.) \n \n \nIn all the above productions,\n the [<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value) additionally excludes the keywords span and auto.\n\n \n [](#example-4a841210) Given a single-row, 8-column grid and the following 9 named lines: \n\n```\n1 2 3 4 5 6 7 8 9\n+--+--+--+--+--+--+--+--+\n| | | | | | | | |\nA B C A B C A B C\n| | | | | | | | |\n+--+--+--+--+--+--+--+--+\n\n```\n\n \nThe following declarations place the grid item between the lines indicated by index:\n\n```\ngrid-column-start: 4; grid-column-end: auto;\n/* Line 4 to line 5 */\n\ngrid-column-start: auto; grid-column-end: 6;\n/* Line 5 to line 6 */\n\ngrid-column-start: C; grid-column-end: C -1;\n/* Line 3 to line 9 */\n\ngrid-column-start: C; grid-column-end: span C;\n/* Line 3 to line 6 */\n\ngrid-column-start: span C; grid-column-end: C -1;\n/* Line 6 to line 9 */\n\ngrid-column-start: span C; grid-column-end: span C;\n/* Error: The end span is ignored, and an auto-placed\n item can’t span to a named line.\n Equivalent to ''grid-column: span 1;''. */\n\ngrid-column-start: 5; grid-column-end: C -1;\n/* Line 5 to line 9 */\n\ngrid-column-start: 5; grid-column-end: span C;\n/* Line 5 to line 6 */\n\ngrid-column-start: 8; grid-column-end: 8;\n/* Error: line 8 to line 9 */\n\ngrid-column-start: B 2; grid-column-end: span 1;\n/* Line 5 to line 6 */\n\n```\n\n \n 8.3.1. Grid Placement Conflict Handling[](#grid-placement-errors)\n \nIf the [placement](#grid-placement) for a [grid item](#grid-item) contains two lines,\n and the [start](https://www.w3.org/TR/css-writing-modes-4/#start) line is further end-ward than the [end](https://www.w3.org/TR/css-writing-modes-4/#end) line,\n swap the two lines.\n If the start line is equal to the end line,\n remove the end line.\n\n \nIf the [placement](#grid-placement) contains two spans,\n remove the one contributed by the [end](https://www.w3.org/TR/css-writing-modes-4/#end) [grid-placement property](#grid-placement-property).\n\n \nIf the [placement](#grid-placement) contains only a span for a named line,\n replace it with a span of 1.\n\n 8.4. Placement Shorthands: the [grid-column](#propdef-grid-column), [grid-row](#propdef-grid-row), and [grid-area](#propdef-grid-area) properties[](#placement-shorthands)\n \n \n \n Name:\n **grid-row**, **grid-column**\n \n [Value:](https://www.w3.org/TR/css-values/#value-defs)\n [<grid-line>](#typedef-grid-row-start-grid-line) [ / <grid-line> ][?](https://www.w3.org/TR/css-values-4/#mult-opt) \n \n [Initial:](https://www.w3.org/TR/css-cascade/#initial-values)\n auto \n \n [Applies to:](https://www.w3.org/TR/css-cascade/#applies-to)\n [grid items](#grid-item) and absolutely-positioned boxes whose containing block is a [grid container](#grid-container) \n \n [Inherited:](https://www.w3.org/TR/css-cascade/#inherited-property)\n no \n \n [Percentages:](https://www.w3.org/TR/css-values/#percentages)\n N/A \n \n [Computed value:](https://www.w3.org/TR/css-cascade/#computed)\n see individual properties \n \n [Animation type:](https://www.w3.org/TR/web-animations/#animation-type)\n discrete \n \n [Canonical order:](https://www.w3.org/TR/cssom/#serializing-css-values)\n per grammar \n \n \nThe [grid-row](#propdef-grid-row) and [grid-column](#propdef-grid-column) properties are shorthands for [grid-row-start](#propdef-grid-row-start)/[grid-row-end](#propdef-grid-row-end) and [grid-column-start](#propdef-grid-column-start)/[grid-column-end](#propdef-grid-column-end), respectively.\n\n \nIf two [<grid-line>](#typedef-grid-row-start-grid-line) values are specified,\n the [grid-row-start](#propdef-grid-row-start)/[grid-column-start](#propdef-grid-column-start) longhand is set to the value before the slash,\n and the [grid-row-end](#propdef-grid-row-end)/[grid-column-end](#propdef-grid-column-end) longhand is set to the value after the slash.\n\n \nWhen the second value is omitted,\n if the first value is a [<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value),\n the [grid-row-end](#propdef-grid-row-end)/[grid-column-end](#propdef-grid-column-end) longhand is also set to that <custom-ident>;\n otherwise, it is set to [auto](#grid-placement-auto).\n\n \n \n \n Name:\n **grid-area**\n \n [Value:](https://www.w3.org/TR/css-values/#value-defs)\n [<grid-line>](#typedef-grid-row-start-grid-line) [ / <grid-line> ][{0,3}](https://www.w3.org/TR/css-values-4/#mult-num-range) \n \n [Initial:](https://www.w3.org/TR/css-cascade/#initial-values)\n auto \n \n [Applies to:](https://www.w3.org/TR/css-cascade/#applies-to)\n [grid items](#grid-item) and absolutely-positioned boxes whose containing block is a [grid container](#grid-container) \n \n [Inherited:](https://www.w3.org/TR/css-cascade/#inherited-property)\n no \n \n [Percentages:](https://www.w3.org/TR/css-values/#percentages)\n N/A \n \n [Computed value:](https://www.w3.org/TR/css-cascade/#computed)\n see individual properties \n \n [Animation type:](https://www.w3.org/TR/web-animations/#animation-type)\n discrete \n \n [Canonical order:](https://www.w3.org/TR/cssom/#serializing-css-values)\n per grammar \n \n \nThe [grid-area](#propdef-grid-area) property is a [shorthand](https://www.w3.org/TR/css-cascade-5/#shorthand-property) for [grid-row-start](#propdef-grid-row-start), [grid-column-start](#propdef-grid-column-start), [grid-row-end](#propdef-grid-row-end) and [grid-column-end](#propdef-grid-column-end).\n\n \nIf four [<grid-line>](#typedef-grid-row-start-grid-line) values are specified, [grid-row-start](#propdef-grid-row-start) is set to the first value, [grid-column-start](#propdef-grid-column-start) is set to the second value, [grid-row-end](#propdef-grid-row-end) is set to the third value,\n and [grid-column-end](#propdef-grid-column-end) is set to the fourth value.\n\n \nWhen [grid-column-end](#propdef-grid-column-end) is omitted,\n if [grid-column-start](#propdef-grid-column-start) is a [<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value), grid-column-end is set to that <custom-ident>;\n otherwise, it is set to [auto](#grid-placement-auto).\n\n \nWhen [grid-row-end](#propdef-grid-row-end) is omitted,\n if [grid-row-start](#propdef-grid-row-start) is a [<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value), grid-row-end is set to that <custom-ident>;\n otherwise, it is set to [auto](#grid-placement-auto).\n\n \nWhen [grid-column-start](#propdef-grid-column-start) is omitted,\n if [grid-row-start](#propdef-grid-row-start) is a [<custom-ident>](https://www.w3.org/TR/css-values-4/#identifier-value),\n all four longhands are set to that value.\n Otherwise, it is set to [auto](#grid-placement-auto).\n\n \nNote: The resolution order for this shorthand is row-start/column-start/row-end/column-end,\n which goes CCW for LTR pages,\n the opposite direction of the related 4-edge properties using physical directions, like [margin](https://www.w3.org/TR/CSS2/box.html#propdef-margin).\n\n 8.5. Grid Item Placement Algorithm[](#auto-placement-algo)\n \nThe following **grid item placement algorithm** resolves [automatic positions](#automatic-grid-position) of [grid items](#grid-item) into [definite positions](#definite-grid-position),\n ensuring that every grid item has a well-defined [grid area](#grid-area) to lay out into.\n ([Grid spans](#grid-span) need no special resolution;\n if they’re not explicitly specified,\n they default to 1.)\n\n \nNote: This algorithm can result in the creation of new rows or columns in the [implicit grid](#implicit-grid),\n if there is no room in the [explicit grid](#explicit-grid) to place an auto-positioned [grid item](#grid-item).\n\n \nEvery [grid cell](#grid-cell) (in both the [explicit](#explicit-grid) and [implicit grids](#implicit-grid))\n can be **occupied** or **unoccupied**.\n A cell is [occupied](#occupied) if it’s covered by the [grid area](#grid-area) of a [grid item](#grid-item) with a [definite grid position](#definite-grid-position);\n otherwise,\n the cell is [unoccupied](#unoccupied).\n A cell’s occupied/unoccupied status can change during this algorithm.\n\n \nTo aid in clarity,\n this algorithm is written with the assumption that [grid-auto-flow](#propdef-grid-auto-flow) has [row](#valdef-grid-auto-flow-row) specified.\n If it is instead set to [column](#valdef-grid-auto-flow-column),\n swap all mentions of rows and columns, inline and block, etc. in this algorithm.\n\n \nNote: The [auto-placement algorithm](#grid-item-placement-algorithm) works with the [grid items](#grid-item) in [order-modified document order](https://www.w3.org/TR/css-flexbox-1/#order-modified-document-order),\n not their original document order.\n\n \n\n \n \nGenerate anonymous grid items as described in [§ 6 Grid Items](#grid-items).\n(Anonymous [grid items](#grid-item) are always auto-placed,\nsince their boxes can’t have any [grid-placement properties](#grid-placement-property) specified.)\n\n \n \nPosition anything that’s not auto-positioned.\n\n \n \nProcess the items locked to a given row.\n\n \nFor each [grid item](#grid-item) with a [definite row position](#definite-grid-position) (that is, the [grid-row-start](#propdef-grid-row-start) and [grid-row-end](#propdef-grid-row-end) properties define a definite grid position),\nin [order-modified document order](https://www.w3.org/TR/css-flexbox-1/#order-modified-document-order):\n\n \n “sparse” packing (default behavior)\n \n \nSet the column-start line of its [placement](#grid-placement) to the earliest (smallest positive index) line index\nthat ensures this item’s [grid area](#grid-area) will not overlap any [occupied](#occupied) grid cells\nand that is past any [grid items](#grid-item) previously placed in this row by this step.\n\n “dense” packing ([dense](#valdef-grid-auto-flow-dense) specified)\n \n \nSet the column-start line of its [placement](#grid-placement) to the earliest (smallest positive index) line index\nthat ensures this item’s [grid area](#grid-area) will not overlap any [occupied](#occupied) grid cells.\n\n \n \n \nDetermine the columns in the implicit grid.\n\n \nCreate columns in the [implicit grid](#implicit-grid):\n\n \n\n \n \nStart with the columns from the [explicit grid](#explicit-grid).\n\n \n \nAmong all the items with a [definite column position](#definite-grid-position) (explicitly positioned items, items positioned in the previous step, and items not yet positioned but with a definite column)\nadd columns to the beginning and end of the [implicit grid](#implicit-grid) as necessary to accommodate those items.\n\n \n \nIf the largest [column span](#grid-span) among all the items without a [definite column position](#definite-grid-position) is larger than the width of the [implicit grid](#implicit-grid),\nadd columns to the end of the implicit grid to accommodate that column span.\n\n \n\n \n [](#example-236efe03) For example, in the following style fragment: \n\n```\n#grid {\n display: grid;\n grid-template-columns: repeat(5, 100px);\n grid-auto-flow: row;\n}\n#grid-item {\n grid-column: 4 / span 3;\n}\n\n```\n\n \nThe number of columns needed is 6.\n The [explicit grid](#explicit-grid) provides 5 columns\n (from [grid-template-columns](#propdef-grid-template-columns))\n with lines number 1 through 6,\n but `#grid-item`’s column position means it ends on line 7,\n which requires an additional column added to the end of the [implicit grid](#implicit-grid).\n\n \n \n \nPosition the remaining grid items.\n\n \nThe **auto-placement cursor** defines the current “insertion point” in the grid,\nspecified as a pair of row and column [grid lines](#grid-line).\nInitially the [auto-placement cursor](#auto-placement-cursor) is set to the start-most row and column lines in the [implicit grid](#implicit-grid).\n\n \nThe [grid-auto-flow](#propdef-grid-auto-flow) value in use determines how to position the items:\n\n \n “sparse” packing (default behavior)\n \n \nFor each [grid item](#grid-item) that hasn’t been positioned by the previous steps,\nin [order-modified document order](https://www.w3.org/TR/css-flexbox-1/#order-modified-document-order):\n\n \n If the item has a [definite column position](#definite-grid-position):\n \n \n\n \n \nSet the column position of the [cursor](#auto-placement-cursor) to the [grid item’s](#grid-item) column-start line.\nIf this is less than the previous column position of the cursor,\nincrement the row position by 1.\n\n \n \nIncrement the [cursor](#auto-placement-cursor)’s row position until a value is found\nwhere the [grid item](#grid-item) does not overlap any [occupied](#occupied) grid cells\n(creating new rows in the [implicit grid](#implicit-grid) as necessary).\n\n \n \nSet the item’s row-start line to the [cursor’s](#auto-placement-cursor) row position,\nand set the item’s row-end line according to its span from that position.\n\n \n\n If the item has an [automatic grid position](#automatic-grid-position) in both axes:\n \n \n\n \n \nIncrement the column position of the [auto-placement cursor](#auto-placement-cursor) until either this item’s [grid area](#grid-area) does not overlap any [occupied](#occupied) grid cells,\nor the cursor’s column position,\nplus the item’s column span,\noverflow the number of columns in the implicit grid,\nas determined earlier in this algorithm.\n\n \n \nIf a non-overlapping position was found in the previous step,\nset the item’s row-start and column-start lines to the [cursor’s](#auto-placement-cursor) position.\nOtherwise,\nincrement the auto-placement cursor’s row position\n(creating new rows in the [implicit grid](#implicit-grid) as necessary),\nset its column position to the start-most column line in the implicit grid,\nand return to the previous step.\n\n \n\n \n “dense” packing ([dense](#valdef-grid-auto-flow-dense) specified)\n \n \nFor each [grid item](#grid-item) that hasn’t been positioned by the previous steps,\nin [order-modified document order](https://www.w3.org/TR/css-flexbox-1/#order-modified-document-order):\n\n \n If the item has a [definite column position](#definite-grid-position):\n \n \n\n \n \nSet the row position of the cursor to the start-most row line in the [implicit grid](#implicit-grid).\nSet the column position of the cursor to the [grid item’s](#grid-item) column-start line.\n\n \n \nIncrement the [auto-placement cursor](#auto-placement-cursor)’s row position until a value is found\nwhere the [grid item](#grid-item) does not overlap any [occupied](#occupied) grid cells\n(creating new rows in the [implicit grid](#implicit-grid) as necessary).\n\n \n \nSet the item’s row-start line index to the [cursor’s](#auto-placement-cursor) row position.\n(Implicitly setting the item’s row-end line according to its span, as well.)\n\n \n\n If the item has an [automatic grid position](#automatic-grid-position) in both axes:\n \n \n\n \n \nSet the cursor’s row and column positions to start-most row and column lines in the [implicit grid](#implicit-grid).\n\n \n \nIncrement the column position of the [auto-placement cursor](#auto-placement-cursor) until either this item’s [grid area](#grid-area) does not overlap any [occupied](#occupied) grid cells,\nor the cursor’s column position,\nplus the item’s column span,\noverflow the number of columns in the implicit grid,\nas determined earlier in this algorithm.\n\n \n \nIf a non-overlapping position was found in the previous step,\nset the item’s row-start and column-start lines to the [cursor’s](#auto-placement-cursor) position.\nOtherwise,\nincrement the auto-placement cursor’s row position\n(creating new rows in the [implicit grid](#implicit-grid) as necessary),\nreset its column position to the start-most column line in the implicit grid,\nand return to the previous step.",
      "rawLength": 63549
    },
    "subgrids": {
      "id": "subgrids",
      "heading": "9.  Subgrids",
      "content": "A [subgrid](#subgrid) behaves just like a normal [grid container](#grid-container) except that:\n\n \n\n [](#subgrid-tracks) Placing the [subgrid](#subgrid) creates a correspondence between its [subgridded](#subgridded-axis) tracks\n and those that it spans in its [parent grid](#parent-grid).\n The grid lines thus shared between the subgrid and its parent\n form the subgrid’s [explicit grid](#explicit-grid),\n and its track sizes are governed by the parent grid. \n \n [](#subgrid-span) The number of explicit tracks in the [subgrid](#subgrid) in a [subgridded](#subgridded-axis) dimension\n always corresponds to the number of [grid tracks](#grid-track) that it spans in its parent [grid](#grid): \n \n\n If the [subgrid](#subgrid)’s [grid span](#grid-span) in the subgridded dimension is [explicit](#explicit-grid-span) or [implicit](#implicit-grid-span),\n then the number of explicit tracks in each subgridded dimension\n is taken from its used grid span in that dimension\n (regardless of its grid-template-* properties). \n If it has an [automatic grid span](#automatic-grid-span),\n then its used [grid span](#grid-span) is taken\n from the number of explicit tracks specified for that axis\n by its grid-template-* properties,\n floored at one. \n \n\n \nNote: The explicit grid determined here can be further truncated\n if the placement of the [subgrid](#subgrid) is clamped by its parent grid.\n See [the \"no implicit tracks\" bullet point](#subgrid-implicit).\n\n \nIf the grid-template-* properties specify a [<line-name-list>](#typedef-line-name-list) in a [subgridded axis](#subgridded-axis),\n the used value is truncated\n to match the used number of explicit tracks.\n\n \n [](#subgrid-indexing) The [grid-placement properties](#grid-placement-property) of the [subgrid](#subgrid)’s [grid items](#grid-item) and the line numbers they use\n are scoped to the lines covered by the subgrid,\n exactly consistent with the lines outside the subgrid being excluded from its [explicit grid](#explicit-grid).\n E.g. numeric indices count starting from the first line of the subgrid rather than the first line of the [parent grid](#parent-grid). \n \nLine numbering and placement rules\n obey the [subgrid](#subgrid)’s own [writing mode](https://www.w3.org/TR/css-writing-modes-4/#writing-mode),\n just as they would for a nested independent grid.\n\n \n [](#subgrid-line-name-inheritance) Since [subgrids](#subgrid) can be placed before their contents are placed,\n the [subgridded](#subgridded-axis) lines\n automatically receive the [explicitly-assigned line names](#explicitly-assigned-line-name) specified on the corresponding lines of the parent [grid](#grid). \n \nThese names are in addition to\n any [line names](#line-name) specified locally on the [subgrid](#subgrid).\n\n \n [](#subgrid-area-inheritance) When a [subgrid](#subgrid) overlaps a [named grid area](#named-grid-area) in its parent\n that was created by a [grid-template-areas](#propdef-grid-template-areas) property declaration, [implicitly-assigned line names](#implicitly-assigned-line-name) are assigned\n to represent the parent’s named grid area within the subgrid. \n \nNote: If a [named grid area](#named-grid-area) only partially overlaps the [subgrid](#subgrid),\n its [implicitly-assigned line names](#implicitly-assigned-line-name) will be assigned\n to the first and/or last line of the subgrid such that a named grid area exists\n representing that partially overlapped area of the subgrid;\n thus the [line name](#line-name) assignments of the subgrid might not always correspond exactly\n to the line name assignments of the parent [grid](#grid).\n\n \nThese names are also in addition to\n any [line names](#line-name) specified locally on the [subgrid](#subgrid).\n\n \n [](#example-fffff4da) In the following example,\n the 4-column grand-parent grid has both explicit line names\n and implicit ones generated by [grid-template-areas](#propdef-grid-template-areas): \n\n```\n<style type=\"css\">\n .outer {\n display: grid;\n grid-template-columns:\n [outer-edge] 20px [main-start] 1fr [center] 1fr max-content [main-end];\n grid-template-areas:\n \"gutter info info photos\";\n }\n .middle {\n grid-column: main-start / main-end;\n display: grid;\n grid: subgrid / subgrid;\n }\n .inner {\n grid-column: center / -1;\n display: grid;\n grid: subgrid / subgrid;\n }\n</style>\n\n<div class=\"outer\">\n <div class=\"middle\">\n <div class=\"inner\">&hellip;</div>\n </div>\n</div>\n\n```\n\n \nAfter all types of name resolution,\n the names for each grid will be:\n\n```\n.outer = [outer-edge gutter-start] [gutter-end info-start main-start] [center] [info-end photos-start] [main-end photos-end]\n.middle = [info-start main-start] [center] [info-end photos-start] [main-end photos-end]\n.inner = [center info-start] [info-end photos-start] [main-end photos-end]\n\n```\n\n \nNotice that all the [explicitly-assigned line names](#explicitly-assigned-line-name) inherit straight through to .inner,\n but the [implicitly-assigned line names](#implicitly-assigned-line-name) are calculated based on\n each [subgrid](#subgrid)’s overlap of the original [named grid area](#named-grid-area).\n\n \n \n [](#subgrid-implicit) The [subgrid](#subgrid) does not have any [implicit grid tracks](#implicit-grid-track) in the [subgridded](#subgridded-axis) dimension(s).\n Hypothetical [implicit grid lines](#implicit-grid-lines) are used to resolve placement\n as usual when the [explicit grid](#explicit-grid) does not have enough lines;\n however\n each [grid item](#grid-item)’s [grid area](#grid-area) is [clamped](#clamp-a-grid-area) to the subgrid’s explicit grid (using the same procedure as for clamping placement in an overly-large grid). \n [](#example-f40fdc9d) For example, if a span 1 subgrid has a [grid item](#grid-item) with [grid-column: 2 / span 3;](#propdef-grid-column),\n then that item is instead forced into (and limited to) the first (only) track in the subgrid. \n \nNote: This means that a subgrid might have fewer tracks than it expected,\n if its parent is also a subgrid and therefore has a fixed number of tracks.\n (A subgrid might likewise have fewer tracks than expected\n because its parent is hitting the [UA limit on grid tracks](#overlarge-grids).)\n\n [](#subgrid-size-contribution) The [subgrid](#subgrid) itself lays out as an ordinary [grid item](#grid-item) in its [parent grid](#parent-grid),\n but acts as if it was completely empty for track sizing purposes\n in the [subgridded](#subgridded-axis) dimension. \n \n [](#subgrid-item-contribution) The [subgrid](#subgrid)’s own [grid items](#grid-item) participate\n in the sizing of its [parent grid](#parent-grid) in the [subgridded](#subgridded-axis) dimension(s)\n and are aligned to it in those dimensions. \n \n In this process, the sum of the [subgrid](#subgrid)’s\n margin, padding, [scrollbar gutter](https://www.w3.org/TR/css-overflow-3/#scrollbar-gutter), and border at each edge\n are applied as an extra layer of (potentially negative) margin\n to the items at those edges.\n This extra layer of “margin” accumulates\n through multiple levels of subgrids. \n\n \n [](#example-edd2713b) For example, if we have a 3×3 grid with the following tracks: \n\n```\n#parent-grid { grid-template-columns: 300px auto 300px; }\n```\n\n \nIf a subgrid covers the last two tracks,\n its first two columns correspond to the parent grid’s last two columns,\n and any items positioned into those tracks participate in sizing the parent grid.\n Specifically, an item positioned in the first track of the subgrid\n influences the auto-sizing of the parent grid’s middle track.\n\n```\n#subgrid { grid-column: 2 / span 2; } /* cover parent’s 2nd and 3rd tracks */\n#subgrid > :first-child { grid-column: 1; } /* subgrid’s 1st track, parent grid’s 2nd track */\n\n```\n\n \nIf the subgrid has margins/borders/padding,\n the size of those margins/borders/padding also influences sizing.\n For example, if the subgrid has 100px padding:\n\n```\n#subgrid { padding: 100px; }\n```\n\n \nThen a [grid item](#grid-item) in the [subgrid’s](#subgrid) first track\n acts as if it has an additional 100px of top, left, and bottom margin,\n influencing the sizing of the parent grid’s tracks\n and the grid item’s own position.\n\n \n \n Meanwhile,\n half the size of the difference between\n the [subgrid](#subgrid)’s [gutters](https://www.w3.org/TR/css-align-3/#gutter) ([row-gap](https://www.w3.org/TR/css-align-3/#propdef-row-gap)/[column-gap](https://www.w3.org/TR/css-align-3/#propdef-column-gap))\n and its [parent grid](#parent-grid)’s gutters is applied as an extra layer of (potentially negative) margin\n to the items not at those edges.\n This extra layer of “margin” also accumulates\n through multiple levels of subgrids.\n A value of [normal](https://www.w3.org/TR/css-align-3/#valdef-row-gap-normal) indicates that the subgrid has the same size gutters as its parent grid,\n i.e. the applied difference is zero. \n\n \nNote: The end result will be that the parent’s grid tracks\n will be sized as specified,\n and that the [subgrid](#subgrid)’s [gutters](https://www.w3.org/TR/css-align-3/#gutter) will visually center-align\n with the [parent grid](#parent-grid)’s gutters.\n\n \n [](#example-4627a772) \n \nFor example,\n suppose we have a 300px-wide outer grid\n with 50px gaps\n and its columns specified as 100px 1fr.\n A subgrid spanning both tracks would have… \n\n \n … if its [column-gap](https://www.w3.org/TR/css-align-3/#propdef-column-gap) were [normal](https://www.w3.org/TR/css-align-3/#valdef-row-gap-normal) (or 50px): \n \n \n\n A grid item in its left column\n sized and laid out\n (and contributing its size to the parent grid’s sizing calculations)\n without any special adjustment,\n thus stretching to 100px wide\n while remaining aligned\n to the subgrid’s left edge. \n A grid item in its right column\n sized and laid out\n (and contributing its size to the parent grid’s sizing calculations)\n without any special adjustment,\n thus stretching to 150px wide,\n while remaining aligned\n to the subgrid’s right edge. \n An effective visual [gutter](https://www.w3.org/TR/css-align-3/#gutter) between the items\n of 50px, exactly matching its parent grid. \n \n\n \n\n … if its [column-gap](https://www.w3.org/TR/css-align-3/#propdef-column-gap) were 0: \n \n \n\n A grid item in its left column\n sized and laid out\n (and contributing its size to the parent grid’s sizing calculations)\n as if it had a -25px right margin,\n thus stretching to 125px wide\n while remaining aligned\n to the subgrid’s left edge. \n A grid item in its right column\n sized and laid out\n (and contributing its size to the parent grid’s sizing calculations)\n as if it had a -25px left margin,\n thus stretching to 175px wide,\n while remaining aligned\n to the subgrid’s right edge. \n An effective visual [gutter](https://www.w3.org/TR/css-align-3/#gutter) between the items\n of zero, as specified by its [column-gap](https://www.w3.org/TR/css-align-3/#propdef-column-gap). \n \n\n \n\n … if its [column-gap](https://www.w3.org/TR/css-align-3/#propdef-column-gap) were 25px: \n \n \n\n A grid item in its left column\n sized and laid out\n (and contributing its size to the parent grid’s sizing calculations)\n as if it had a -12.5px right margin,\n thus stretching to 112.5px wide\n while remaining aligned\n to the subgrid’s left edge. \n A grid item in its right column\n sized and laid out\n (and contributing its size to the parent grid’s sizing calculations)\n as if it had a -12.5px left margin,\n thus stretching to 162.5px wide,\n while remaining aligned\n to the subgrid’s right edge. \n An effective visual [gutter](https://www.w3.org/TR/css-align-3/#gutter) between the items\n of 25px, as specified by its [column-gap](https://www.w3.org/TR/css-align-3/#propdef-column-gap). \n \n\n \n\n … if its [column-gap](https://www.w3.org/TR/css-align-3/#propdef-column-gap) were 75px: \n \n \n\n A grid item in its left column\n sized and laid out\n (and contributing its size to the parent grid’s sizing calculations)\n as if it had a 12.5px right margin,\n thus stretching to 87.5px wide\n while remaining aligned\n to the subgrid’s left edge. \n A grid item in its right column\n sized and laid out\n (and contributing its size to the parent grid’s sizing calculations)\n as if it had a 12.5px left margin,\n thus stretching to 137.5px wide,\n while remaining aligned\n to the subgrid’s right edge. \n An effective visual [gutter](https://www.w3.org/TR/css-align-3/#gutter) between the items\n of 75px, as specified by its [column-gap](https://www.w3.org/TR/css-align-3/#propdef-column-gap). \n \n\n \n\n \n \n \n [](#subgrid-edge-placeholders) For each edge of a non-empty [subgrid](#subgrid),\n to account for the subgrid’s margin/border/padding (and any scrollbar gutter) at that edge,\n a hypothetical item is contributed to the track sizing algorithm\n for each span size\n in the set of items spanning into\n the occupied track closest to that edge of the subgrid.\n The hypothetical item’s sizes are taken from the sizes of the largest such item\n of each span size,\n and are additionally inflated by the subgrid’s own margin/border/padding/gutter\n at that edge.\n Correspondingly, the hypothetical item’s span is taken\n from that same real item’s span,\n and inflated by the number of empty tracks between it\n and the relevant subgrid’s edge(s). \n \nNote: This step can be shortcut if\n the tracks closest to the [subgrid](#subgrid)’s edges contain real items,\n which would have already [accounted for the subgrid’s margin/border/padding](#subgrid-item-contribution) as described above.\n\n \n [](#example-97fd1d9b) For example, in the following subgrid layout: \n\n```\n5px auto auto 5px\n. aaaaaaaaa .\n. bbbb cccc .\n\n```\n\n \nAssuming subgrid items a, b, and c occupying their corresponding grid areas\n and a subgrid padding of 25px,\n two hypothetical grid items would be contributed\n to the track sizing algorithm\n for the purpose of handling the subgrid’s inline-start padding:\n one with the size of b plus 25px,\n spanning the first two columns;\n and one with the size of a plus 25px,\n spanning the first three columns.\n\n \n [](#subgrid-box-alignment) The [subgrid](#subgrid) is always stretched in its [subgridded](#subgridded-axis) dimension(s):\n the [align-self](https://www.w3.org/TR/css-align-3/#propdef-align-self)/[justify-self](https://www.w3.org/TR/css-align-3/#propdef-justify-self) properties on it are ignored,\n as are any specified width/height constraints. \n [](#subgrid-grid-alignment) Layoutwise, the [subgrid](#subgrid)’s [grid](#grid) is always aligned with the corresponding section of the parent grid;\n the [align-content](https://www.w3.org/TR/css-align-3/#propdef-align-content)/[justify-content](https://www.w3.org/TR/css-align-3/#propdef-justify-content) properties on it are also ignored\n in the [subgridded](#subgridded-axis) dimension. \n [](#subgrid-overflow) The [overflow](https://www.w3.org/TR/css-overflow-3/#propdef-overflow) property does apply to [subgrids](#subgrid),\n so that overflowing contents of the subgrid can be scrolled into view.\n (Note: the act of scrolling does not affect layout.) \n [](#subgrid-relpos) [Relative positioning](https://www.w3.org/TR/CSS2/visuren.html#x34) applies to [subgrids](#subgrid) as normal,\n and shifts the box and its content together as usual.\n (Note: Relative positioning takes place after alignment,\n and does not affect track sizing.)",
      "rawLength": 26566
    },
    "abspos": {
      "id": "abspos",
      "heading": "10.  Absolute Positioning",
      "content": "10.1. With a Grid Container as Containing Block[](#abspos-items)\n \nIf an absolutely positioned element’s [containing block](https://www.w3.org/TR/css-display-4/#containing-block) is generated by a [grid container](#grid-container),\n the containing block corresponds to the [grid area](#grid-area) determined by its [grid-placement properties](#grid-placement-property).\n The offset properties ([top](https://www.w3.org/TR/css-position-3/#propdef-top)/[right](https://www.w3.org/TR/css-position-3/#propdef-right)/[bottom](https://www.w3.org/TR/css-position-3/#propdef-bottom)/[left](https://www.w3.org/TR/css-position-3/#propdef-left))\n then indicate offsets inwards from the corresponding edges\n of this containing block, as normal.\n\n \nNote: While absolutely-positioning an element to a [grid container](#grid-container) does allow it to align to that container’s [grid lines](#grid-line),\n such elements do not take up space or otherwise participate in the layout of the grid.\n\n \n [](#example-8b8bc36e) \n\n```\n.grid {\n grid: 1fr 1fr 1fr 1fr / 10rem 10rem 10rem 10rem;\n /* 4 equal-height rows filling the [grid container](#grid-container),\n 4 columns of ''10rem'' each */\n justify-content: center;\n /* center the grid horizontally within the [grid container](#grid-container) */\n position: relative;\n /* Establish abspos [containing block](https://www.w3.org/TR/css-display-4/#containing-block) */\n}\n\n.abspos {\n grid-row-start: 1; /* 1st grid row line = top of grid container */\n grid-row-end: span 2; /* 3rd grid row line */\n grid-column-start: 3; /* 3rd grid col line */\n grid-column-end: auto; /* right padding edge */\n /* [Containing block](https://www.w3.org/TR/css-display-4/#containing-block) covers the top right quadrant of the [grid container](#grid-container) */\n\n position: absolute;\n top: 70px;\n bottom: 40px;\n left: 100px;\n right: 30px;\n}\n\n```\n\n \n \nNote: Grids and the [grid-placement properties](#grid-placement-property) are [flow-relative](https://www.w3.org/TR/css-writing-modes-4/#flow-relative),\n while the offset properties ([left](https://www.w3.org/TR/css-position-3/#propdef-left), [right](https://www.w3.org/TR/css-position-3/#propdef-right), [top](https://www.w3.org/TR/css-position-3/#propdef-top), and [bottom](https://www.w3.org/TR/css-position-3/#propdef-bottom)) are [physical](https://www.w3.org/TR/css-writing-modes-4/#physical),\n so if the [direction](https://www.w3.org/TR/css-writing-modes-3/#propdef-direction) or [writing-mode](https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode) properties change,\n the grid will transform to match,\n but the offsets won’t.\n\n \n \nInstead of auto-placement, an [auto](#grid-placement-auto) value for a [grid-placement property](#grid-placement-property) contributes a special line to the [placement](#grid-placement) whose position is that of the corresponding padding edge of the [grid container](#grid-container) (the padding edge of the scrollable area, if the grid container overflows).\n These lines become the first and last lines (0th and -0th) of the **augmented grid** used for positioning absolutely-positioned items.\n\n \nNote: Thus, by default, the absolutely-positioned box’s [containing block](https://www.w3.org/TR/css-display-4/#containing-block) will correspond\n to the padding edges of the [grid container](#grid-container), as it does for [block containers](https://www.w3.org/TR/css-display-4/#block-container).\n\n \nAbsolute positioning occurs after layout of the [grid](#grid) and its [in-flow](https://www.w3.org/TR/css-display-4/#in-flow) contents,\n and does not contribute to the sizing of any grid tracks\n or affect the size/configuration of the grid in any way.\n If a [grid-placement property](#grid-placement-property) refers to a non-existent line\n either by explicitly specifying such a line or by spanning outside of the existing [implicit grid](#implicit-grid),\n it is instead treated as specifying [auto](#grid-placement-auto) (instead of creating new [implicit grid lines](#implicit-grid-lines)).\n\n \nNote: Remember that implicit lines are assumed to have all line names,\n so a referenced line might exist even though it is not explicitly named.\n\n \nIf the [placement](#grid-placement) only contains a [grid span](#grid-span),\n replace it with the two [auto](#grid-placement-auto) lines in that axis.\n (This happens when both [grid-placement properties](#grid-placement-property) in an axis contributed a span originally,\n and [§ 8.3.1 Grid Placement Conflict Handling](#grid-placement-errors) caused the second span to be ignored.)\n\n 10.2. With a Grid Container as Parent[](#static-position)\n \nAn absolutely-positioned child of a [grid container](#grid-container) is [out-of-flow](https://www.w3.org/TR/css-display-4/#out-of-flow) and not a [grid item](#grid-item),\n and so does not affect the placement of other items\n or the sizing of the grid.\n\n \nThe [static position](https://www.w3.org/TR/CSS2/visudet.html#abs-non-replaced-width) [[CSS2]](#biblio-css2) of an absolutely-positioned child of a [grid container](#grid-container) is determined as if it were the sole grid item\n in a [grid area](#grid-area) whose edges coincide with the content edges of the grid container.\n\n \nNote: Note that this position is affected by the values of [justify-self](https://www.w3.org/TR/css-align-3/#propdef-justify-self) and [align-self](https://www.w3.org/TR/css-align-3/#propdef-align-self) on the child,\n and that, as in most other layout models,\n the absolutely-positioned child has no effect on the size of the containing block\n or layout of its contents.",
      "rawLength": 10093
    },
    "alignment": {
      "id": "alignment",
      "heading": "11.  Alignment and Spacing",
      "content": "After a [grid container](#grid-container)’s [grid tracks](#grid-track) have been sized,\n and the dimensions of all [grid items](#grid-item) are finalized, grid items can be aligned within their [grid areas](#grid-area).\n\n \nNote: The [grid items](#grid-item) of [subgrids](#subgrid) participate in alignment,\n including [baseline alignment](https://www.w3.org/TR/css-align-3/#baseline-alignment),\n together with their [parent grid](#parent-grid)’s items;\n see [Subgrids (h)](#subgrid-item-contribution).\n\n \nThe [margin](https://www.w3.org/TR/CSS2/box.html#propdef-margin) properties can be used to align items in a manner similar to\n what margins can do in block layout. [Grid items](#grid-item) also respect the [box alignment properties](https://www.w3.org/TR/css-align-3/#box-alignment-properties) from the [CSS Box Alignment Module](https://www.w3.org/TR/css-align/) [[CSS-ALIGN-3]](#biblio-css-align-3),\n which allow easy keyword-based alignment of items in both the rows and columns.\n\n \nBy default, [grid items](#grid-item) stretch to fill their [grid area](#grid-area).\n However, if [justify-self](https://www.w3.org/TR/css-align-3/#propdef-justify-self) or [align-self](https://www.w3.org/TR/css-align-3/#propdef-align-self) compute to a value other than [stretch](https://www.w3.org/TR/css-align-3/#valdef-justify-self-stretch) or margins are auto, grid items will auto-size to fit their contents.\n\n 11.1. Gutters: the [row-gap](https://www.w3.org/TR/css-align-3/#propdef-row-gap), [column-gap](https://www.w3.org/TR/css-align-3/#propdef-column-gap), and [gap](https://www.w3.org/TR/css-align-3/#propdef-gap) properties[](#gutters)\n \nThe [row-gap](https://www.w3.org/TR/css-align-3/#propdef-row-gap) and [column-gap](https://www.w3.org/TR/css-align-3/#propdef-column-gap) properties\n (and their [gap](https://www.w3.org/TR/css-align-3/#propdef-gap) shorthand),\n when specified on a [grid container](#grid-container),\n define the [gutters](https://www.w3.org/TR/css-align-3/#gutter) between [grid rows](#grid-row) and [grid columns](#grid-column).\n Their syntax is defined in [CSS Box Alignment 3 § 8 Gaps Between Boxes](https://www.w3.org/TR/css-align-3/#gaps).\n\n \nThe effect of these properties\n is as though the affected [grid lines](#grid-line) acquired thickness:\n the [grid track](#grid-track) between two grid lines is the space between the [gutters](https://www.w3.org/TR/css-align-3/#gutter) that represent them.\n For the purpose of [track sizing](#algo-track-sizing),\n each gutter is treated as\n an extra, empty, fixed-size track of the specified size,\n which is spanned by any [grid items](#grid-item) that span across its corresponding grid line.\n\n \nNote: Additional spacing may be added between tracks\n due to [justify-content](https://www.w3.org/TR/css-align-3/#propdef-justify-content)/[align-content](https://www.w3.org/TR/css-align-3/#propdef-align-content).\n See [§ 12.1 Grid Sizing Algorithm](#algo-grid-sizing).\n This space effectively increases the size of the [gutters](https://www.w3.org/TR/css-align-3/#gutter).\n\n \nIf a [grid](#grid) is [fragmented](https://www.w3.org/TR/css-break-3/#fragment) between tracks,\n the [gutter](https://www.w3.org/TR/css-align-3/#gutter) spacing between those tracks must be suppressed. Note that gutters are suppressed even after forced breaks, [unlike margins](https://www.w3.org/TR/css-break-3/#break-margins).\n\n \n[Gutters](https://www.w3.org/TR/css-align-3/#gutter) only appear between tracks of the [implicit grid](#implicit-grid);\n there is no gutter before the first track or after the last track.\n (In particular, there is no gutter between the first/last track of the implicit grid and the “auto” lines in the [augmented grid](#augmented-grid).)\n\n \nWhen a [collapsed track](#collapsed-grid-track)’s gutters **collapse**,\n they coincide exactly—​the two gutters overlap so that their start and end edges coincide.\n If one side of a collapsed track does not have a gutter\n (e.g. if it is the first or last track of the [implicit grid](#implicit-grid)),\n then collapsing its gutters results in no gutter\n on either “side” of the collapsed track.\n\n 11.2. Aligning with auto margins[](#auto-margins)\n \nAuto [margins](https://www.w3.org/TR/css-box-4/#margin) on [grid items](#grid-item) have an effect\n very similar to auto margins in [block layout](https://www.w3.org/TR/css-display-4/#block-layout):\n\n \n\n During calculations of [grid track](#grid-track) sizes, auto margins are treated as 0. \n As defined for the [inline axis](https://www.w3.org/TR/css-writing-modes-4/#inline-axis) of [block layout](https://www.w3.org/TR/css-display-4/#block-layout) (see [CSS2§10.3.3](https://www.w3.org/TR/CSS2/visudet.html#blockwidth)), auto margins in either axis absorb positive free space\n prior to alignment via the [box alignment properties](https://www.w3.org/TR/css-align-3/#box-alignment-properties),\n thereby disabling the effects of any [self-alignment properties](https://www.w3.org/TR/css-align-3/#self-alignment-properties) in that axis. \n Overflowing [grid items](#grid-item) resolve their auto margins to zero\n and overflow as specified by their [box alignment properties](https://www.w3.org/TR/css-align-3/#box-alignment-properties). \n \n\n 11.3. Inline-axis Alignment: the [justify-self](https://www.w3.org/TR/css-align-3/#propdef-justify-self) and [justify-items](https://www.w3.org/TR/css-align-3/#propdef-justify-items) properties[](#row-align)\n \n[Grid items](#grid-item) can be aligned in the inline dimension\n by using the [justify-self](https://www.w3.org/TR/css-align-3/#propdef-justify-self) property on the grid item or [justify-items](https://www.w3.org/TR/css-align-3/#propdef-justify-items) property on the [grid container](#grid-container),\n as defined in [[CSS-ALIGN-3]](#biblio-css-align-3).\n\n [](#example-e0479e1b) For example,\n for an English document,\n the inline axis is horizontal,\n and so the justify-* properties align the [grid items](#grid-item) horizontally. \n \nIf [baseline alignment](https://www.w3.org/TR/css-align-3/#baseline-alignment) is specified on a [grid item](#grid-item) whose size in that axis depends on the size of an intrinsically-sized track\n (whose size is therefore dependent on both the item’s size and baseline alignment,\n creating a cyclic dependency),\n that item does not participate in baseline alignment,\n and instead uses its [fallback alignment](https://www.w3.org/TR/css-align-3/#fallback-alignment) as if that were originally specified.\n For this purpose, [<flex>](#typedef-flex) track sizes count as “intrinsically-sized”\n when the [grid container](#grid-container) has an [indefinite](https://www.w3.org/TR/css-sizing-3/#indefinite) size in the relevant axis.\n\n \nNote: Whether the fallback alignment is used or not\n does not change over the course of layout:\n if a cycle exists, it exists.\n\n 11.4. Block-axis Alignment: the [align-self](https://www.w3.org/TR/css-align-3/#propdef-align-self) and [align-items](https://www.w3.org/TR/css-align-3/#propdef-align-items) properties[](#column-align)\n \n[Grid items](#grid-item) can also be aligned in the block dimension\n (perpendicular to the inline dimension)\n by using the [align-self](https://www.w3.org/TR/css-align-3/#propdef-align-self) property on the grid item or [align-items](https://www.w3.org/TR/css-align-3/#propdef-align-items) property on the [grid container](#grid-container),\n as defined in [[CSS-ALIGN-3]](#biblio-css-align-3).\n\n \nIf [baseline alignment](https://www.w3.org/TR/css-align-3/#baseline-alignment) is specified on a [grid item](#grid-item) whose size in that axis depends on the size of an intrinsically-sized track\n (whose size is therefore dependent on both the item’s size and baseline alignment,\n creating a cyclic dependency),\n that item does not participate in baseline alignment,\n and instead uses its [fallback alignment](https://www.w3.org/TR/css-align-3/#fallback-alignment) as if that were originally specified.\n For this purpose, [<flex>](#typedef-flex) track sizes count as “intrinsically-sized”\n when the [grid container](#grid-container) has an [indefinite](https://www.w3.org/TR/css-sizing-3/#indefinite) size in the relevant axis.\n\n 11.5. Aligning the Grid: the [justify-content](https://www.w3.org/TR/css-align-3/#propdef-justify-content) and [align-content](https://www.w3.org/TR/css-align-3/#propdef-align-content) properties[](#grid-align)\n \nIf the [grid](#grid)’s outer edges do not correspond to the [grid container](#grid-container)’s content edges\n (for example, if no columns are flex-sized),\n the [grid tracks](#grid-track) are aligned within the content box according to the [justify-content](https://www.w3.org/TR/css-align-3/#propdef-justify-content) and [align-content](https://www.w3.org/TR/css-align-3/#propdef-align-content) properties on the grid container.\n\n \n [](#example-2790843a) For example, the following grid is centered vertically,\n and aligned to the right edge of its [grid container](#grid-container): \n\n```\n.grid {\n display: grid;\n grid: 12rem 12rem 12rem 12rem / 10rem 10rem 10rem 10rem;\n justify-content: end;\n align-content: center;\n min-height: 60rem;\n}\n\n```\n\n \n \n \nIf there are no [grid tracks](#grid-track) (the [explicit grid](#explicit-grid) is empty, and no tracks were created in the [implicit grid](#implicit-grid)),\n the sole [grid line](#grid-line) in each axis is aligned with the start edge of the [grid container](#grid-container).\n\n \nNote that certain values of [justify-content](https://www.w3.org/TR/css-align-3/#propdef-justify-content) and [align-content](https://www.w3.org/TR/css-align-3/#propdef-align-content) can cause the tracks to be spaced apart\n ([space-around](https://www.w3.org/TR/css-align-3/#valdef-align-content-space-around), [space-between](https://www.w3.org/TR/css-align-3/#valdef-align-content-space-between), [space-evenly](https://www.w3.org/TR/css-align-3/#valdef-align-content-space-evenly))\n or to be resized ([stretch](https://www.w3.org/TR/css-align-3/#valdef-align-content-stretch)).\n If the [grid](#grid) is [fragmented](https://www.w3.org/TR/css-break-3/#fragment) between tracks,\n any such additional spacing between those tracks must be suppressed.\n\n \n [](#example-aafda37f) For example, in the following grid,\n the spanning item’s grid area is increased to accommodate\n the extra space assigned to the gutters due to alignment: \n\n```\n.wrapper {\n display: grid;\n /* 3-row / 4-column grid container */\n grid: repeat(3, auto) / repeat(4, auto);\n gap: 10px;\n align-content: space-around;\n justify-content: space-between;\n}\n\n.item1 { grid-column: 1 / 5; }\n.item2 { grid-column: 1 / 3; grid-row: 2 / 4; }\n.item3 { grid-column: 3 / 5; }\n/* last two items auto-place into the last two grid cells */\n\n```\n\n \n \n Grid before alignment\n \n \n \n Grid after alignment\n \n \nNote that alignment (unlike [gap](https://www.w3.org/TR/css-align-3/#propdef-gap) spacing)\n happens after the grid tracks are sized,\n so if the track sizes are determined by the contents of the spanned item,\n it will gain excess space in the alignment stage\n to accommodate the alignment spacing.\n\n \n 11.6. Grid Container Baselines[](#grid-baselines)\n \nThe first (last) baselines of a [grid container](#grid-container) are determined as follows:\n\n \n\n \n Find the first (last) row of the [grid container](#grid-container) containing at least one [grid item](#grid-item). \n \nIf any of the [grid items](#grid-item) intersecting this row\n participate in [baseline alignment](https://www.w3.org/TR/css-align-3/#baseline-alignment) in that row,\n the grid container’s [baseline set](https://www.w3.org/TR/css-align-3/#baseline-set) is [generated](https://www.w3.org/TR/css-align-3/#generate-baselines) from\n the shared [alignment baseline](https://www.w3.org/TR/css-align-3/#alignment-baseline) of those grid items.\n\n \nOtherwise,\n the grid container’s first (last) baseline set\n is [generated](https://www.w3.org/TR/css-align-3/#generate-baselines) from\n the [alignment baseline](https://www.w3.org/TR/css-align-3/#alignment-baseline) of the first (last) [grid item](#grid-item) in row-major [grid order](#grid-order) (according to the [writing mode](https://www.w3.org/TR/css-writing-modes-4/#writing-mode) of the [grid container](#grid-container)).\n If the grid item has no alignment baseline in the grid’s inline axis,\n then one is first [synthesized](https://www.w3.org/TR/css-align-3/#synthesize-baseline) from its border edges.\n\n If the [grid container](#grid-container) does not contain any [grid items](#grid-item),\n the grid container has no first (last) [baseline set](https://www.w3.org/TR/css-align-3/#baseline-set),\n and one is [synthesized](https://www.w3.org/TR/css-align-3/#synthesize-baseline) if needed\n according to the rules of its [alignment context](https://www.w3.org/TR/css-align-3/#shared-alignment-context).\n Exit from this algorithm. \n \n\n \n**Grid-modified document order (grid order)** is the order in which [grid items](#grid-item) are encountered\n when traversing the grid’s [grid cells](#grid-cell).\n If two items are encountered at the same time,\n they are taken in [order-modified document order](https://www.w3.org/TR/css-flexbox-1/#order-modified-document-order).\n\n \nWhen calculating the baseline according to the above rules,\n if the box contributing a baseline has an [overflow](https://www.w3.org/TR/css-overflow-3/#propdef-overflow) value that allows scrolling,\n the box must be treated as being in its initial scroll position\n for the purpose of determining its baseline.\n\n \nWhen [determining the baseline of a table cell](https://www.w3.org/TR/CSS2/tables.html#height-layout),\n a grid container provides a baseline just as a line box or table-row does. [[CSS2]](#biblio-css2)\n\n \nSee [CSS Writing Modes 3 § 4.1 Introduction to Baselines](https://www.w3.org/TR/css-writing-modes-3/#intro-baselines) and [CSS Box Alignment 3 § 9 Baseline Alignment Details](https://www.w3.org/TR/css-align-3/#baseline-rules) for more information on baselines.",
      "rawLength": 26230
    },
    "layout-algorithm": {
      "id": "layout-algorithm",
      "heading": "12.  Grid Layout Algorithm",
      "content": "This section defines the grid layout algorithm,\n which sizes the [grid container](#grid-container),\n sizes and positions all the [grid tracks](#grid-track),\n and lays out the [grid items](#grid-item) which have been [placed](#grid-item-placement-algorithm) into its [grid areas](#grid-area).\n\n \n\n \n \nRun the [Grid Item Placement Algorithm](#grid-item-placement-algorithm) to resolve the placement of all [grid items](#grid-item) (including [subgrids](#subgrid) and their sub-items)\nin the [grid](#grid).\n\n \n \nFind the size of the [grid container](#grid-container),\nper [§ 5.2 Sizing Grid Containers](#intrinsic-sizes).\n\n \nNote: During this phase,\ncyclic [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)s in track sizes are treated as [auto](#valdef-grid-template-columns-auto).\n\n \n \nGiven the resulting [grid container](#grid-container) size,\nrun the [Grid Sizing Algorithm](#algo-grid-sizing) to size the [grid](#grid).\n\n \nNote: During this phase, [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)s in track sizes are resolved\nagainst the [grid container](#grid-container) size.\n\n \n \nLay out the [grid items](#grid-item) into their respective containing blocks.\nEach [grid area’s](#grid-area) width and height\nare considered [definite](https://www.w3.org/TR/css-sizing-3/#definite) for this purpose.\n\n \nNote: Since formulas calculated using only definite sizes,\nsuch as the [stretch fit](https://www.w3.org/TR/css-sizing-3/#stretch-fit) formula,\nare also definite,\nthe size of a grid item which is stretched\nis also considered definite.\n\n \n\n 12.1. Grid Sizing Algorithm[](#algo-grid-sizing)\n \nThis section defines the grid sizing algorithm,\n which determines the size of all [grid tracks](#grid-track) and, by extension, the entire grid.\n\n \nEach track has specified [minimum](#min-track-sizing-function) and [maximum](#max-track-sizing-function) [sizing functions](#grid-template-rows-track-sizing-function) (which may be the same).\n Each sizing function is either:\n\n \n\n A **fixed sizing function** ([<length>](https://www.w3.org/TR/css-values-4/#length-value) or resolvable [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)). \n An **intrinsic sizing function** ([min-content](#valdef-grid-template-columns-min-content), [max-content](#valdef-grid-template-columns-max-content), [auto](#valdef-grid-template-columns-auto), [fit-content()](#funcdef-grid-template-columns-fit-content)). \n A **flexible sizing function** ([<flex>](#typedef-flex)). \n \n\n \nThe [grid sizing algorithm](#algo-grid-sizing) defines how to resolve these sizing constraints into used track sizes.\n\n \n\n \n First, the [track sizing algorithm](#track-sizing-algorithm) is used to resolve the sizes of the [grid columns](#grid-column). \n \nIn this process,\n any [grid item](#grid-item) which is subgridded\n in the [grid container](#grid-container)’s [inline axis](https://www.w3.org/TR/css-writing-modes-4/#inline-axis) is treated as empty\n and its grid items (the grandchildren)\n are treated as direct children of the grid container (their grandparent).\n This introspection is recursive.\n\n \nItems which are subgridded only in the [block axis](https://www.w3.org/TR/css-writing-modes-4/#block-axis),\n and whose [grid container](#grid-container) size in the [inline axis](https://www.w3.org/TR/css-writing-modes-4/#inline-axis) depends on the size of its contents\n are also introspected:\n since the size of the item in this dimension\n can be dependent on the sizing of its subgridded tracks in the other,\n the size contribution of any such item to this grid’s column sizing\n (see [Resolve Intrinsic Track Sizes](https://www.w3.org/TR/css-grid-1/#algo-content))\n is taken under the provision\n of having determined its track sizing only up to the same point\n in the Grid Sizing Algorithm as this itself.\n E.g. for the first pass through this step,\n the item will have its tracks sized only through this first step;\n if a second pass of this step is triggered then\n the item will have completed a first pass through steps 1-3\n as well as the second pass of this step\n prior to returning its size for consideration in this grid’s column sizing.\n Again, this introspection is recursive.\n\n \nIf calculating the layout of a [grid item](#grid-item) in this step\n depends on the [available space](https://www.w3.org/TR/css-sizing-3/#available) in the [block axis](https://www.w3.org/TR/css-writing-modes-4/#block-axis),\n assume the available space that it would have\n if any row with a [definite](https://www.w3.org/TR/css-sizing-3/#definite) [max track sizing function](#max-track-sizing-function) had that size and all other rows were infinite.\n If both the [grid container](#grid-container) and all tracks have definite sizes,\n also apply [align-content](https://www.w3.org/TR/css-align-3/#propdef-align-content) to find the final effective size\n of any gaps spanned by such items;\n otherwise ignore the effects of track alignment in this estimation.\n\n \n Next, the [track sizing algorithm](#track-sizing-algorithm) resolves the sizes of the [grid rows](#grid-row). \n \nIn this process,\n any [grid item](#grid-item) which is subgridded\n in the [grid container](#grid-container)’s [block axis](https://www.w3.org/TR/css-writing-modes-4/#block-axis) is treated as empty\n and its grid items (the grandchildren)\n are treated as direct children of the grid container (their grandparent).\n This introspection is recursive.\n\n \nAs with sizing columns,\n items which are subgridded only in the [inline axis](https://www.w3.org/TR/css-writing-modes-4/#inline-axis),\n and whose [grid container](#grid-container) size in the [block axis](https://www.w3.org/TR/css-writing-modes-4/#block-axis) depends on the size of its contents\n are also introspected.\n (As with sizing columns,\n the size contribution to this grid’s row sizing\n is taken under the provision\n of having determined its track sizing\n only up to this corresponding point in the algorithm;\n and again, this introspection is recursive.)\n\n \nTo find the [inline-axis](https://www.w3.org/TR/css-writing-modes-4/#inline-axis) [available space](https://www.w3.org/TR/css-sizing-3/#available) for any items whose [block-axis](https://www.w3.org/TR/css-writing-modes-4/#block-axis) size contributions require it,\n use the [grid column](#grid-column) sizes calculated in the previous step.\n If the [grid container](#grid-container)’s [inline size](https://www.w3.org/TR/css-writing-modes-4/#inline-size) is [definite](https://www.w3.org/TR/css-sizing-3/#definite),\n also apply [justify-content](https://www.w3.org/TR/css-align-3/#propdef-justify-content) to account for the effective column gap sizes.\n\n \n Then, if the [min-content contribution](https://www.w3.org/TR/css-sizing-3/#min-content-contribution) of any grid item has changed\n based on the row sizes and alignment calculated in step 2,\n re-resolve the sizes of the [grid columns](#grid-column) with the new min-content and [max-content contributions](https://www.w3.org/TR/css-sizing-3/#max-content-contribution) (once only). \n \nTo find the [block-axis](https://www.w3.org/TR/css-writing-modes-4/#block-axis) [available space](https://www.w3.org/TR/css-sizing-3/#available) for any items whose [inline-axis](https://www.w3.org/TR/css-writing-modes-4/#inline-axis) size contributions require it,\n use the [grid row](#grid-row) sizes calculated in the previous step.\n If the [grid container](#grid-container)’s [block size](https://www.w3.org/TR/css-writing-modes-4/#block-size) is [definite](https://www.w3.org/TR/css-sizing-3/#definite),\n also apply [align-content](https://www.w3.org/TR/css-align-3/#propdef-align-content) to account for the effective row gap sizes.\n\n This repetition is necessary for cases where the [inline size](https://www.w3.org/TR/css-writing-modes-4/#inline-size) of a [grid item](#grid-item) depends on the [block size](https://www.w3.org/TR/css-writing-modes-4/#block-size) of its [grid area](#grid-area).\n Examples include wrapped column [flex containers](https://www.w3.org/TR/css-flexbox-1/#flex-container) ([flex-flow: column wrap](https://www.w3.org/TR/css-flexbox-1/#propdef-flex-flow)), [orthogonal flows](https://www.w3.org/TR/css-writing-modes-4/#establish-an-orthogonal-flow) ([writing-mode](https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode)), [multi-column containers](https://www.w3.org/TR/css-multicol-2/#multi-column-container),\n and items with an aspect-ratio (or with a child with an aspect ratio)\n whose size depends on the size of the row. \n \n Next, if the [min-content contribution](https://www.w3.org/TR/css-sizing-3/#min-content-contribution) of any grid item has changed\n based on the column sizes and alignment calculated in step 3,\n re-resolve the sizes of the [grid rows](#grid-row) with the new min-content and [max-content contributions](https://www.w3.org/TR/css-sizing-3/#max-content-contribution) (once only). \n \nTo find the [inline-axis](https://www.w3.org/TR/css-writing-modes-4/#inline-axis) [available space](https://www.w3.org/TR/css-sizing-3/#available) for any items whose [block-axis](https://www.w3.org/TR/css-writing-modes-4/#block-axis) size contributions require it,\n use the [grid column](#grid-column) sizes calculated in the previous step.\n If the [grid container](#grid-container)’s [inline size](https://www.w3.org/TR/css-writing-modes-4/#inline-size) is [definite](https://www.w3.org/TR/css-sizing-3/#definite),\n also apply [justify-content](https://www.w3.org/TR/css-align-3/#propdef-justify-content) to account for the effective column gap sizes.\n\n \n Finally, align the tracks within the [grid container](#grid-container) according to the [align-content](https://www.w3.org/TR/css-align-3/#propdef-align-content) and [justify-content](https://www.w3.org/TR/css-align-3/#propdef-justify-content) properties. \n \nNote: This can introduce extra space between tracks,\n potentially enlarging the grid area of any grid items spanning the gaps\n beyond the space allotted to during track sizing.\n\n \n\n \nNote: Track sizing in a [subgridded](#subgridded-axis) dimension\n treats each item in a given track in that axis\n as members of the [parent grid](#parent-grid).\n This interlacing requires that grid sizing\n drill down per axis into [subgrids](#subgrid),\n rather than completing both axes as it recurses.\n Note this means that a subgrid establishing an [orthogonal flow](https://www.w3.org/TR/css-writing-modes-4/#establish-an-orthogonal-flow) would have the order of its track sizing inverted compared to a nested grid.\n\n \n [](#example-da309425) The following example illustrates how per-axis subgrids are sized: \n \nSuppose we have a parent grid container A which contains an item B that has subgridded columns\n and contains a grandchild B that has subgridded rows\n and grandchild D that is simply a nested grid.\n\n```\n<grid-A>\n <grid-B subgrid=columns>\n <grid-C subgrid=rows></grid-C>\n <grid-D></grid-D>\n </grid-B>\n<grid-A>\n\n```\n\n \nWhen A sizes its columns\n it treats B’s items\n as slotted into to A’s corresponding columns,\n but when A sizes its rows\n it treats B as a single item\n (a grid container with its own rows and some items including items C and D).\n Similarly when B sizes its rows,\n it treats C’s items as slotted into B’s rows,\n but when B sizes its columns,\n it treats C as a single item,\n just as it does with D.\n There is no relationship between C’s rows and A’s rows,\n because the rows in B are nested, not subgridded.\n\n \nAt a high level, the grid algorithm is:\n\n \n\n Size the columns \n Size the rows \n Adjust the columns (if needed based on final row sizes) \n \n\n \nThe grid sizing algorithm in this example would thus look like this:\n\n \n\n \n Resolve sizes of A’s grid columns,\n using the sizes of A’s grid items,\n treating B as empty\n but treating its children\n (including C and D)\n as items in grid A. \n \nThe grid algorithm simply recurses into D.\n For C, it’s more complicated:\n\n \n\n Size C’s columns. \n Size C’s rows by sizing B’s rows. \n Adjust C’s columns. \n Return C’s final column sizes. \n \n\n \nA correct size for B’s rows\n requires C’s final column sizes,\n because the row size depends on the column size,\n and thus B’s rows could very well depend\n on C’s final column sizes.\n To break this cyclic dependency,\n we need to split the algorithm to depend on\n the initial approximation of C’s final column sizes,\n and do the adjustment pass later.\n So for C, we need to recurse into column sizing only,\n and pass that initial size up to A for its initial column sizing.\n\n \nWhen we size B’s rows later on,\n we will size C’s rows (which are subgridded),\n and finish up C’s sizing by finalizing its columns.\n If this resulted in a change, we have the opportunity\n to trigger an adjustment pass for A’s columns\n during its adjustment pass.\n\n \n Next, resolve sizes of A’s rows,\n using the sizes of A’s grid items,\n treating B as a single item. \n \nSince B, as a subgrid,\n has its sizing is split out into the multiple passes,\n the grid algorithm issues only a row-sizing recursion into B:\n Size B’s rows, treating D as a single item, requesting its final size,\n and treating C as an empty item\n and hoisting its children as items into grid B.\n\n \nB returns its final row size,\n which factors into A’s row sizing pass.\n\n Last, finalize A’s column sizes. If C’s final size changes\n as a result of the row-sizing pass through B,\n this should trigger a resizing of B’s columns,\n which should trigger a resizing pass on A’s column. \n \n\n \n 12.2. Track Sizing Terminology[](#algo-terms)\n \n **min track sizing function** \n If the track was sized with a [minmax()](#funcdef-grid-template-columns-minmax) function,\n this is the first argument to that function.\n If the track was sized with a [<flex>](#typedef-flex) value or [fit-content()](#funcdef-grid-template-columns-fit-content) function, [auto](#valdef-grid-template-columns-auto).\n Otherwise, the track’s sizing function. \n **max track sizing function** \n If the track was sized with a [minmax()](#funcdef-grid-template-columns-minmax) function,\n this is the second argument to that function.\n Otherwise, the track’s sizing function.\n In all cases, treat [auto](#valdef-grid-template-columns-auto) and [fit-content()](#funcdef-grid-template-columns-fit-content) as [max-content](#valdef-grid-template-columns-max-content),\n except where specified otherwise for fit-content(). \n **available grid space** \n \n Independently in each dimension, the [available grid space](#available-grid-space) is: \n \n\n \n \nIf the [grid container’s](#grid-container) size is definite,\nthen use the size of its content box.\n\n \n \nIf the [grid container](#grid-container) is being sized under\na [min-content constraint](https://www.w3.org/TR/css-sizing-3/#min-content-constraint) or [max-content constraint](https://www.w3.org/TR/css-sizing-3/#max-content-constraint) then the [available grid space](#available-grid-space) is that constraint\n(and is indefinite).\n\n \n\n \nNote: [auto](#grid-placement-auto) sizes that indicate content-based sizing\n (e.g. the height of a block-level box in horizontal writing modes)\n are equivalent to [max-content](#valdef-grid-template-columns-max-content).\n\n \nIn all cases, clamp the [available grid space](#available-grid-space) according to the [grid container’s](#grid-container) min/max-width/height properties,\n if they are definite.\n\n **free space** \n Equal to the [available grid space](#available-grid-space) minus\n the sum of the [base sizes](#base-size) of all the grid tracks (including gutters),\n floored at zero.\n If available grid space is [indefinite](https://www.w3.org/TR/css-sizing-3/#indefinite),\n the [free space](#free-space) is indefinite as well. \n **span count** \n The number of [grid tracks](#grid-track) crossed by a [grid item](#grid-item) in the applicable dimension. \n \n \nNote: Remember that [gutters](#gutters) are treated as fixed-size tracks—​tracks with their min and max sizing functions both set to the gutter’s used size—​for the purpose of the grid sizing algorithm.\n Their widths need to be incorporated into\n the [track sizing algorithm](#track-sizing-algorithm)’s calculations accordingly.\n\n 12.3. Track Sizing Algorithm[](#algo-track-sizing)\n \nThe remainder of this section is the **track sizing algorithm**,\n which calculates from the [min](#min-track-sizing-function) and [max track sizing functions](#max-track-sizing-function) the used track size.\n Each track has a **base size**,\n a [<length>](https://www.w3.org/TR/css-values-4/#length-value) which grows throughout the algorithm\n and which will eventually be the track’s final size,\n and a **growth limit**,\n a <length> which provides a desired maximum size for the [base size](#base-size).\n There are 5 steps:\n\n \n\n [Initialize Track Sizes](#algo-init) \n [Resolve Intrinsic Track Sizes](#algo-content) \n [Maximize Tracks](#algo-grow-tracks) \n [Expand Flexible Tracks](#algo-flex-tracks) \n [Expand Stretched auto Tracks](#algo-stretch) \n \n\n 12.4. Initialize Track Sizes[](#algo-init)\n \nInitialize each track’s base size and growth limit. For each track,\n if the track’s [min track sizing function](#min-track-sizing-function) is:\n\n \n A [fixed sizing function](#fixed-sizing-function) \n \n Resolve to an absolute length and use that size as the track’s initial [base size](#base-size). \n \nNote: [Indefinite](https://www.w3.org/TR/css-sizing-3/#indefinite) lengths cannot occur,\n as they’re treated as [auto](#valdef-grid-template-columns-auto).\n\n An [intrinsic sizing function](#intrinsic-sizing-function) \n Use an initial [base size](#base-size) of zero. \n \n \nFor each track,\n if the track’s [max track sizing function](#max-track-sizing-function) is:\n\n \n A [fixed sizing function](#fixed-sizing-function) \n Resolve to an absolute length and use that size as the track’s initial [growth limit](#growth-limit). \n An [intrinsic sizing function](#intrinsic-sizing-function) \n A [flexible sizing function](#flexible-sizing-function) \n Use an initial [growth limit](#growth-limit) of infinity. \n \n \nIn all cases, if the [growth limit](#growth-limit) is less than the [base size](#base-size),\n increase the growth limit to match the base size.\n\n \nNote: [Gutters](https://www.w3.org/TR/css-align-3/#gutter) are treated as empty fixed-size tracks for the purpose of the [track sizing algorithm](#track-sizing-algorithm).\n\n 12.5. Resolve Intrinsic Track Sizes[](#algo-content)\n \nThis step resolves intrinsic track [sizing functions](#grid-template-rows-track-sizing-function) to absolute lengths.\n First it resolves those sizes based on items that are contained wholly within a single track.\n Then it gradually adds in the space requirements of items that span multiple tracks,\n evenly distributing the extra space across those tracks\n insofar as possible.\n\n \nNote: When this step is complete,\n all intrinsic [base sizes](#base-size) and [growth limits](#growth-limit) will have been resolved to absolute lengths.\n\n \nNote: [Remember that](#algo-terms) [fit-content()](#funcdef-grid-template-columns-fit-content) and [auto](#valdef-grid-template-columns-auto) [max track sizing functions](#max-track-sizing-function) are treated the same as [max-content](#valdef-grid-template-columns-max-content) except where explicitly specified otherwise.\n\n \n\n \n [](#algo-baseline-shims) Shim baseline-aligned items\n so their intrinsic size contributions reflect their baseline alignment. For the items in each [baseline-sharing group](https://www.w3.org/TR/css-align-3/#baseline-sharing-group),\n add a “shim” (effectively, additional margin)\n on the start/end side (for first/last-baseline alignment)\n of each item\n so that,\n when start/end-aligned together\n their [baselines align as specified](https://www.w3.org/TR/css-align-3/#baseline-values). \n \nConsider these “shims” as part of the items’ intrinsic size contribution\n for the purpose of track sizing, below.\n If an item uses multiple intrinsic size contributions,\n it can have different shims for each one.\n\n [](#example-497433d9) For example, when the [grid container](#grid-container) has an [indefinite](https://www.w3.org/TR/css-sizing-3/#indefinite) size,\n it is first laid out under min/max-content constraints to find the size,\n then laid out \"for real\" with that size\n (which can affect things like percentage tracks).\n The \"shims\" added for each phase are independent,\n and only affect the layout during that phase. \n \nNote: Note that both [baseline self-aligned](https://www.w3.org/TR/css-align-3/#baseline-align-self) and [baseline content-aligned](https://www.w3.org/TR/css-align-3/#baseline-align-content) items\n are considered in this step.\n\n \nNote: Since [grid items](#grid-item) whose own size\n depends on the size of an intrinsically-sized track [do not participate in baseline alignment](#row-align),\n they are not shimmed.\n\n \n [](#algo-single-span-items) Size tracks to fit non-spanning items: For each track with an intrinsic [track sizing function](#grid-template-rows-track-sizing-function) and not a [flexible sizing function](#flexible-sizing-function),\n consider the items in it with a span of 1: \n \n For min-content minimums: \n If the track has a [min-content](#valdef-grid-template-columns-min-content) [min track sizing function](#min-track-sizing-function),\n set its [base size](#base-size) to the maximum of the items’ [min-content contributions](https://www.w3.org/TR/css-sizing-3/#min-content-contribution),\n floored at zero. \n For max-content minimums: \n If the track has a [max-content](#valdef-grid-template-columns-max-content) [min track sizing function](#min-track-sizing-function),\n set its [base size](#base-size) to the maximum of the items’ [max-content contributions](https://www.w3.org/TR/css-sizing-3/#max-content-contribution),\n floored at zero. \n For auto minimums: \n \n If the track has an [auto](#grid-placement-auto) [min track sizing function](#min-track-sizing-function) and the [grid container](#grid-container) is being sized\n under a [min-](https://www.w3.org/TR/css-sizing-3/#min-content-constraint)/[max-content constraint](https://www.w3.org/TR/css-sizing-3/#max-content-constraint),\n set the track’s [base size](#base-size) to the maximum of its items’ [limited min-content contributions](#limited-contribution),\n floored at zero.\n The **limited min-/max-content contribution** of an item\n is (for this purpose) its [min-](https://www.w3.org/TR/css-sizing-3/#min-content-contribution)/[max-content contribution](https://www.w3.org/TR/css-sizing-3/#max-content-contribution) (accordingly),\n limited by the [max track sizing function](#max-track-sizing-function) (which could be the argument to a [fit-content()](#funcdef-grid-template-columns-fit-content) track sizing function)\n if that is [fixed](#fixed-sizing-function) and ultimately floored by its [minimum contribution](#minimum-contribution) (defined below). \n \nOtherwise,\n set the track’s [base size](#base-size) to the maximum of its items’ [minimum contributions](#minimum-contribution),\n floored at zero.\n The minimum contribution of an item\n is the smallest [outer size](https://www.w3.org/TR/css-sizing-3/#outer-size) it can have.\n Specifically,\n if the item’s computed [preferred size](https://www.w3.org/TR/css-sizing-3/#preferred-size) [behaves as auto](https://www.w3.org/TR/css-sizing-3/#behave-as-auto) or depends on the size of its [containing block](https://www.w3.org/TR/css-display-4/#containing-block) in the relevant axis,\n its minimum contribution is\n the outer size that would result from assuming\n the item’s used [minimum size](https://www.w3.org/TR/css-sizing-3/#min-width) as its preferred size;\n else the item’s minimum contribution is\n its [min-content contribution](https://www.w3.org/TR/css-sizing-3/#min-content-contribution).\n Because the minimum contribution often depends\n on the size of the item’s content,\n it is considered a type of [intrinsic size contribution](https://www.w3.org/TR/css-sizing-3/#intrinsic-size-contribution).\n\n \nNote: For items with a specified minimum size of [auto](https://www.w3.org/TR/css-sizing-3/#valdef-width-auto) (the initial value),\n the [minimum contribution](#minimum-contribution) is usually equivalent to\n the [min-content contribution](https://www.w3.org/TR/css-sizing-3/#min-content-contribution)—​but can differ in some cases, see [§ 6.6 Automatic Minimum Size of Grid Items](#min-size-auto).\n Also, minimum contribution ≤ min-content contribution ≤ [max-content contribution](https://www.w3.org/TR/css-sizing-3/#max-content-contribution).\n\n For min-content maximums: \n If the track has a [min-content](#valdef-grid-template-columns-min-content) [max track sizing function](#max-track-sizing-function),\n set its [growth limit](#growth-limit) to the maximum of the items’ [min-content contributions](https://www.w3.org/TR/css-sizing-3/#min-content-contribution). \n For max-content maximums: \n If the track has a [max-content](#valdef-grid-template-columns-max-content) [max track sizing function](#max-track-sizing-function),\n set its [growth limit](#growth-limit) to the maximum of the items’ [max-content contributions](https://www.w3.org/TR/css-sizing-3/#max-content-contribution).\n For [fit-content()](#funcdef-grid-template-columns-fit-content) maximums,\n furthermore clamp this growth limit by the fit-content() argument. \n \n \nIn all cases, if a track’s [growth limit](#growth-limit) is now less than its [base size](#base-size),\n increase the growth limit to match the base size.\n\n \nNote: This step is a simplification of the steps below for handling spanning items,\n and should yield the same behavior as running those instructions\n on items with a span of 1.\n\n \n [](#algo-spanning-items) Increase sizes to accommodate spanning items crossing content-sized tracks: Next, consider the items with a span of 2\n that do not span a track with a [flexible sizing function](#flexible-sizing-function). \n \n\n \n [](#track-size-intrinsic-min) For intrinsic minimums: First [distribute extra space](#distribute-extra-space) to [base sizes](#base-size) of tracks with\n an [intrinsic](#intrinsic-sizing-function) [min track sizing function](#min-track-sizing-function),\n to accommodate these items’ [minimum contributions](#minimum-contribution). \n \nIf the grid container is being sized under a [min-](https://www.w3.org/TR/css-sizing-3/#min-content-constraint) or [max-content constraint](https://www.w3.org/TR/css-sizing-3/#max-content-constraint),\n use the items’ [limited min-content contributions](#limited-contribution) in place of their [minimum contributions](#minimum-contribution) here.\n (For an item spanning multiple tracks,\n the upper limit used to calculate\n its limited min-/max-content contribution is the sum of the [fixed](#fixed-sizing-function) [max track sizing functions](#max-track-sizing-function) of any tracks it spans,\n and is applied if it only spans such tracks.)\n\n [](#track-size-content-min) For content-based minimums: Next continue to [distribute extra space](#distribute-extra-space) to the [base sizes](#base-size) of tracks with\n a [min track sizing function](#min-track-sizing-function) of [min-content](#valdef-grid-template-columns-min-content) or [max-content](#valdef-grid-template-columns-max-content),\n to accommodate these items' [min-content contributions](https://www.w3.org/TR/css-sizing-3/#min-content-contribution). \n \n [](#track-size-max-content-min) For max-content minimums: Next, if the grid container is being sized\n under a [max-content constraint](https://www.w3.org/TR/css-sizing-3/#max-content-constraint),\n continue to [distribute extra space](#distribute-extra-space) to the [base sizes](#base-size) of tracks with\n a [min track sizing function](#min-track-sizing-function) of [auto](#valdef-grid-template-columns-auto) or [max-content](#valdef-grid-template-columns-max-content),\n to accommodate these items' [limited max-content contributions](#limited-contribution). \n \nIn all cases,\n continue to [distribute extra space](#distribute-extra-space) to the [base sizes](#base-size) of tracks with\n a [min track sizing function](#min-track-sizing-function) of [max-content](#valdef-grid-template-columns-max-content),\n to accommodate these items' [max-content contributions](https://www.w3.org/TR/css-sizing-3/#max-content-contribution).\n\n If at this point any track’s [growth limit](#growth-limit) is now less than its [base size](#base-size),\n increase its growth limit to match its base size. \n \n For intrinsic maximums: Next [distribute extra space](#distribute-extra-space) to the [growth limits](#growth-limit) of tracks with [intrinsic](#intrinsic-sizing-function) [max track sizing function](#max-track-sizing-function),\n to accommodate these items' [min-content contributions](https://www.w3.org/TR/css-sizing-3/#min-content-contribution).\n Mark any tracks whose growth limit changed\n from infinite to finite in this step\n as **infinitely growable** for the next step. \n \n Why does the [infinitely growable](#infinitely-growable) flag exist?\n \n[Peter Salas explains](https://lists.w3.org/Archives/Public/www-style/2014Mar/0500.html):\n\n \n\n```\nConsider the following case:\n\nTwo \"auto\" tracks (i.e. ''minmax(min-content, max-content) minmax(min-content, max-content)'').\nItem 1 is in track 1, and has min-content = max-content = 10.\nItem 2 spans tracks 1 and 2, and has min-content = 30, max-content = 100.\n\nAfter resolving min-content/max-content for the first item, we have this.\n\ntrack 1: base size = 10 growth limit = 10\n\ntrack 2: base size = 0 growth limit = infinity\n\nThen we resolve min-content/max-content for the second item.\n\nPhase 1 sets the base size of track 2 to 20 so that the two tracks' base sizes sum to 30.\nPhase 2 does nothing because there are no relevant tracks.\nPhase 3 sets the growth limit of track 2 to 20 so that the two tracks' growth limits sum to 30.\nIn phase 4, we need to grow the sum of the growth limits by 70 to accommodate item 2.\nTwo options are:\n\n1. Grow each track’s growth limit equally,\n and end up with growth limits = [45, 55].\n2. Grow only the second track’s growth limit,\n and end up with growth limits = [10, 90].\n\nBy not considering the just-set growth limit as a constraint during space distribution\n(i.e. by treating it as infinity),\nwe get the second result,\nwhich we considered a better result because the first track remains sized exactly to the first item.\n\n```\n\n \n \n For max-content maximums: Lastly continue to [distribute extra space](#distribute-extra-space) to the [growth limits](#growth-limit) of tracks with\n a [max track sizing function](#max-track-sizing-function) of [max-content](#valdef-grid-template-columns-max-content),\n to accommodate these items' [max-content contributions](https://www.w3.org/TR/css-sizing-3/#max-content-contribution). \n \n\n \nRepeat incrementally for items with greater spans until all items have been considered.\n\n \n [](#algo-spanning-flex-items) Increase sizes to accommodate spanning items crossing [flexible tracks](#flexible-tracks): Next, repeat the previous step\n instead considering (together, rather than grouped by span size)\n all items\n that do span a track with a [flexible sizing function](#flexible-sizing-function) while \n \n\n distributing space only to [flexible tracks](#flexible-tracks) (i.e. treating all other tracks as having a [fixed sizing function](#fixed-sizing-function)) \n if the sum of the [flexible sizing functions](#flexible-sizing-function) of all [flexible tracks](#flexible-tracks) spanned by the item\n is greater than or equal to one,\n distributing space to such tracks\n according to the ratios of their flexible sizing functions rather than distributing space equally;\n and if the sum is less than one,\n distributing that proportion of space\n according to the ratios of their flexible sizing functions and the rest equally \n \n\n [](#algo-finite-growth) If any track still has an infinite [growth limit](#growth-limit) (because, for example, it had no items placed in it\n or it is a [flexible track](#flexible-tracks)),\n set its growth limit to its [base size](#base-size). \n \n\n \nNote: There is no single way to satisfy intrinsic sizing constraints\n when items span across multiple tracks.\n This algorithm embodies a number of heuristics\n which have been seen to deliver good results on real-world use-cases,\n such as the “game” examples earlier in this specification.\n This algorithm may be updated in the future\n to take into account more advanced heuristics as they are identified.\n\n 12.5.1. Distributing Extra Space Across Spanned Tracks[](#extra-space)\n \n To **distribute extra space**,\n perform the following steps,\n with these inputs: \n \n\n \n \nwhether to affect [base sizes](#base-size) or [growth limits](#growth-limit) (the affected sizes).\n\n \n \nwhich tracks to affect (the affected tracks).\n\n \n \nwhat intrinsic size contributions are being accommodated (the size contributions)\nof which grid items spanning those tracks (the items).\n\n \n\n \n\n Maintain separately for each affected track a planned increase,\n initially set to 0.\n (This prevents the size increases from becoming order-dependent.) \n \n [For each](https://infra.spec.whatwg.org/#list-iterate) accommodated item,\n considering only tracks the item spans: \n \n\n \n Find the space to distribute: Subtract the affected size of every spanned track\n (not just the affected tracks)\n from the item’s size contribution,\n flooring it at zero.\n (For infinite [growth limits](#growth-limit), substitute the track’s [base size](#base-size).)\n This remaining size contribution is the space to distribute. \n\n```\nspace = max(0, size contribution - ∑track-sizes)\n```\n\n \n Distribute space up to limits: \n \nFind the item-incurred increase for each affected track by:\n distributing the space equally among these tracks,\n freezing a track’s item-incurred increase as its affected size + item-incurred increase reaches its limit (and continuing to grow the unfrozen tracks as needed).\n\n \nFor [base sizes](#base-size),\n the limit is its [growth limit](#growth-limit),\n capped by its [fit-content()](#funcdef-grid-template-columns-fit-content) argument if any.\n For growth limits,\n the limit is the growth limit if the growth limit is finite\n and the track is not [infinitely growable](#infinitely-growable),\n otherwise its fit-content() argument\n if it has a fit-content() [track sizing function](#grid-template-rows-track-sizing-function),\n and infinity otherwise.\n\n \nNote: If the affected size was a [growth limit](#growth-limit) and the track is not marked [infinitely growable](#infinitely-growable),\n then each item-incurred increase will be zero.\n\n \n Distribute space to non-affected tracks: \n \nIf extra space remains at this point,\n and the item spans both affected tracks and non-affected tracks,\n distribute space as for the previous step,\n but into the non-affected tracks instead.\n\n \nNote: This distributes any remaining space into tracks\n that have not yet reached their growth limits,\n instead of violating the growth limits of the affected tracks.\n\n \n Distribute space beyond limits: \n \nIf extra space remains at this point,\n unfreeze and continue to distribute space to the item-incurred increase of…\n\n \n\n when [accommodating minimum contributions](#track-size-intrinsic-min) or [accommodating min-content contributions](#track-size-content-min) into [base sizes](#base-size):\n any affected track that happens to also have an intrinsic [max track sizing function](#max-track-sizing-function);\n if there are no such tracks, then all affected tracks. \n when [accommodating max-content contributions](#track-size-max-content-min) into [base sizes](#base-size):\n any affected track that happens to also have a [max-content](#valdef-grid-template-columns-max-content) [max track sizing function](#max-track-sizing-function);\n if there are no such tracks, then all affected tracks. \n when accommodating any contribution\n into [growth limits](#growth-limit):\n any affected track that has an intrinsic [max track sizing function](#max-track-sizing-function). \n \n\n \nFor this purpose,\n the [max track sizing function](#max-track-sizing-function) of a [fit-content()](#funcdef-grid-template-columns-fit-content) track\n is treated as [max-content](#valdef-grid-template-columns-max-content) until the track reaches the limit specified as the fit-content() argument,\n after which its max track sizing function is treated as being\n a [fixed sizing function](#fixed-sizing-function) of that argument\n (which can change which tracks continue to receive space in this step).\n\n \nNote: This step prioritizes the distribution of space\n for accommodating size contributions\n beyond the tracks' current growth limits\n based on the types of their [max track sizing functions](#max-track-sizing-function).\n\n For each affected track,\n if the track’s item-incurred increase is larger than the track’s planned increase set the track’s planned increase to that value. \n \n\n Update the tracks' affected sizes by adding in the planned increase,\n so that the next round of space distribution will account for the increase.\n (If the affected size is an infinite [growth limit](#growth-limit),\n set it to the track’s [base size](#base-size) plus the planned increase.) \n \n\n \n 12.6. Maximize Tracks[](#algo-grow-tracks)\n \nIf the [free space](#free-space) is positive, distribute it equally\n to the [base sizes](#base-size) of all tracks,\n freezing tracks as they reach their [growth limits](#growth-limit) (and continuing to grow the unfrozen tracks as needed).\n\n \nFor the purpose of this step:\n if sizing the [grid container](#grid-container) under a [max-content constraint](https://www.w3.org/TR/css-sizing-3/#max-content-constraint),\n the [free space](#free-space) is infinite;\n if sizing under a [min-content constraint](https://www.w3.org/TR/css-sizing-3/#min-content-constraint),\n the free space is zero.\n\n \nIf this would cause the grid to be larger than\n the [grid container’s](#grid-container) [inner size](https://www.w3.org/TR/css-sizing-3/#inner-size) as limited by its [max-width/height](https://www.w3.org/TR/CSS2/visudet.html#propdef-max-width),\n then redo this step,\n treating the [available grid space](#available-grid-space) as equal to\n the grid container’s inner size when it’s sized to its max-width/height.\n\n 12.7. Expand Flexible Tracks[](#algo-flex-tracks)\n \nThis step sizes [flexible tracks](#flexible-tracks) using the largest value it can assign to an [fr](#valdef-flex-fr) without exceeding the [available space](https://www.w3.org/TR/css-sizing-3/#available).\n\n \nFirst, find the grid’s used [flex fraction](#flex-fraction):\n\n \n If the [free space](#free-space) is zero\n or if sizing the [grid container](#grid-container) under a [min-content constraint](https://www.w3.org/TR/css-sizing-3/#min-content-constraint): \n The used [flex fraction](#flex-fraction) is zero. \n Otherwise, if the [free space](#free-space) is a [definite](https://www.w3.org/TR/css-sizing-3/#definite) length: \n The used [flex fraction](#flex-fraction) is the result of [finding the size of an fr](#algo-find-fr-size) using all of the [grid tracks](#grid-track) and a [space to fill](#space-to-fill) of the [available grid space](#available-grid-space). \n Otherwise, if the [free space](#free-space) is an [indefinite](https://www.w3.org/TR/css-sizing-3/#indefinite) length: \n \n The used [flex fraction](#flex-fraction) is the maximum of: \n \n\n For each flexible track,\n if the flexible track’s [flex factor](#grid-template-columns-flex-factor) is greater than one,\n the result of dividing the track’s [base size](#base-size) by its flex factor;\n otherwise,\n the track’s base size. \n For each [grid item](#grid-item) that crosses a flexible track,\n the result of [finding the size of an fr](#algo-find-fr-size) using all the grid tracks that the item crosses\n and a [space to fill](#space-to-fill) of the item’s [max-content contribution](https://www.w3.org/TR/css-sizing-3/#max-content-contribution). \n \n\n \nIf using this [flex fraction](#flex-fraction) would cause the [grid](#grid) to be smaller than the [grid container’s](#grid-container) [min-width/height](https://www.w3.org/TR/CSS2/visudet.html#propdef-min-width) (or larger than the grid container’s [max-width/height](https://www.w3.org/TR/CSS2/visudet.html#propdef-max-width)),\n then redo this step,\n treating the [free space](#free-space) as definite\n and the [available grid space](#available-grid-space) as equal to\n the grid container’s [inner size](https://www.w3.org/TR/css-sizing-3/#inner-size) when it’s sized to its min-width/height (max-width/height).\n\n \n \nFor each [flexible track](#flexible-tracks),\n if the product of the used [flex fraction](#flex-fraction) and the track’s [flex factor](#grid-template-columns-flex-factor) is greater than the track’s [base size](#base-size),\n set its base size to that product.\n\n 12.7.1. Find the Size of an [fr](#valdef-flex-fr)[](#algo-find-fr-size)\n \nThis algorithm finds the largest size that an [fr](#valdef-flex-fr) unit can be\n without exceeding the target size.\n It must be called with a set of [grid tracks](#grid-track) and some quantity of **space to fill**.\n\n \n\n Let **leftover space** be the [space to fill](#space-to-fill) minus the [base sizes](#base-size) of the non-flexible [grid tracks](#grid-track). \n Let **flex factor sum** be the sum of\n the [flex factors](#grid-template-columns-flex-factor) of the [flexible tracks](#flexible-tracks).\n If this value is less than 1,\n set it to 1 instead. \n Let the **hypothetical fr size** be the [leftover space](#leftover-space) divided by the [flex factor sum](#flex-factor-sum). \n If the product of the [hypothetical fr size](#hypothetical-fr-size) and a [flexible track](#flexible-tracks)’s [flex factor](#grid-template-columns-flex-factor) is less than the track’s base size,\n restart this algorithm\n treating all such tracks as inflexible. \n Return the [hypothetical fr size](#hypothetical-fr-size). \n \n\n 12.8. Stretch auto Tracks[](#algo-stretch)\n \nWhen the [content-distribution property](https://www.w3.org/TR/css-align-3/#content-distribution-properties) of the [grid container](#grid-container) is [normal](https://www.w3.org/TR/css-align-3/#valdef-justify-content-normal) or [stretch](https://www.w3.org/TR/css-align-3/#valdef-align-content-stretch) in this axis,\n this step expands tracks that have\n an [auto](#valdef-grid-template-columns-auto) [max track sizing function](#max-track-sizing-function) by dividing any remaining positive, [definite](https://www.w3.org/TR/css-sizing-3/#definite) [free space](#free-space) equally amongst them.\n If the free space is [indefinite](https://www.w3.org/TR/css-sizing-3/#indefinite),\n but the grid container has a definite [min-width/height](https://www.w3.org/TR/CSS2/visudet.html#propdef-min-width),\n use that size to calculate the free space for this step instead.",
      "rawLength": 79712
    },
    "pagination": {
      "id": "pagination",
      "heading": "13.  Fragmenting Grid Layout",
      "content": "[Grid containers](#grid-container) can break across pages\n between rows or columns\n and inside items.\n The [break-*](https://www.w3.org/TR/css-break-3/#propdef-break-before) properties apply to grid containers\n as normal for the formatting context in which they participate.\n This section defines how they apply to grid items\n and the contents of grid items. \n\n \n The following breaking rules refer to the [fragmentation container](https://www.w3.org/TR/css-break-4/#fragmentation-container) as the “page”.\n The same rules apply in any other [fragmentation context](https://www.w3.org/TR/css-break-4/#fragmentation-context).\n (Substitute “page” with the appropriate fragmentation container type as needed.)\n See the [CSS Fragmentation Module](https://www.w3.org/TR/css-break/) [[CSS3-BREAK]](#biblio-css3-break). \n\n \n The exact layout of a fragmented grid container is not defined in this level of Grid Layout.\n However, breaks inside a grid container are subject to the following rules: \n\n \n\n The [break-before](https://www.w3.org/TR/css-break-3/#propdef-break-before) and [break-after](https://www.w3.org/TR/css-break-3/#propdef-break-after) properties on [grid items](#grid-item) are propagated to their grid row.\n The break-before property on the first row\n and the break-after property on the last row\n are propagated to the grid container. \n A forced break inside a grid item effectively increases the size of its contents;\n it does not trigger a forced break inside sibling items. \n [Class A break opportunities](https://www.w3.org/TR/css3-break/#btw-blocks) occur\n between rows or columns (whichever is in the appropriate axis),\n and [Class C break opportunities](https://www.w3.org/TR/css3-break/#end-block) occur\n between the first/last row (column) and the grid container’s content edges. [[CSS3-BREAK]](#biblio-css3-break) \n When a grid container is continued after a break,\n the space available to its [grid items](#grid-item) (in the block flow direction of the fragmentation context)\n is reduced by the space consumed by grid container fragments on previous pages.\n The space consumed by a grid container fragment is\n the size of its content box on that page.\n If as a result of this adjustment the available space becomes negative,\n it is set to zero. \n Aside from the rearrangement of items imposed by the previous point,\n UAs should attempt to minimize distortion of the grid container\n with respect to unfragmented flow. \n \n\n 13.1. Sample Fragmentation Algorithm[](#fragmentation-alg)\n \nThis section is non-normative. \n\n \n This is a rough draft of one possible fragmentation algorithm,\n and still needs to be severely cross-checked with the [[CSS-FLEXBOX-1]](#biblio-css-flexbox-1) algorithm for consistency.\n Feedback is welcome; please reference the rules above instead as implementation guidance. \n\n \n\n Layout the grid following the [§ 12 Grid Layout Algorithm](#layout-algorithm) by using the [fragmentation container](https://www.w3.org/TR/css-break-4/#fragmentation-container)’s inline size and assume unlimited block size.\n During this step all [grid-row](#propdef-grid-row) [auto](#grid-placement-auto) and [fr](#valdef-flex-fr) values must be resolved. \n Layout the grid container using the values resolved in the previous step. \n \n If a [grid area](#grid-area)’s size changes due to fragmentation (do not include items that\n span rows in this decision), increase the grid row size as necessary for rows that either: \n \n\n have a content min track sizing function. \n are in a grid that does not have an explicit height and the grid row is flexible. \n \n\n If the grid height is [auto](#grid-placement-auto), the height of the grid should be the sum of the final\n row sizes. \n If a grid area overflows the grid container due to margins being collapsed during\n fragmentation, extend the grid container to contain this grid area (this step is\n necessary in order to avoid circular layout dependencies due to fragmentation). \n \n\n \n If the grid’s height is specified, steps three and four may cause the grid rows to\n overflow the grid.",
      "rawLength": 6046
    },
    "privacy": {
      "id": "privacy",
      "heading": "14. Privacy Considerations",
      "content": "Grid Layout introduces no new privacy leaks.",
      "rawLength": 59
    },
    "security": {
      "id": "security",
      "heading": "15. Security Considerations",
      "content": "Grid Layout introduces no new security considerations.",
      "rawLength": 69
    },
    "acknowledgements": {
      "id": "acknowledgements",
      "heading": "17.  Acknowledgements",
      "content": "Many thanks to Mats Palmgren of Mozilla,\n without whose support and feedback the subgrid feature\n would not be able to move forward.\n Thanks also to Daniel Tonon,\n who insisted on intelligent handling of gaps in subgrids\n and contributed illustrations;\n and Rachel Andrew and Jen Simmons\n who helped bridge the feedback gap between the CSS Working Group\n and the Web design/authoring community.\n\n \nLastly,\n the acknowledgements section of CSS Grid Level 2\n would be incomplete without acknowledgement\n of everyone who made the monumental task of [CSS Grid Level 1](https://www.w3.org/TR/css-grid-1/) possible.",
      "rawLength": 651
    },
    "issues-index": {
      "id": "issues-index",
      "heading": "Issues Index",
      "content": "If you notice any inconsistencies between this Grid Layout Module\nand the [Flexible Box Layout Module](https://www.w3.org/TR/css-flexbox/),\nplease report them to the CSSWG,\nas this is likely an error. [↵](#issue-436134ac)\n \n The first bullet point of the above list\n means that implicit tracks get serialized\n as part of [grid-template-rows](#propdef-grid-template-rows)/etc.,\n despite the fact that an author cannot actually specify implicit track sizes in those properties!\n So grid-template-rows and [grid-template-columns](#propdef-grid-template-columns) values\n might not round-trip correctly: \n\n```\nconst s = getComputedStyle(gridEl);\ngridEl.style.gridTemplateRows = s.gridTemplateRows;\n// Code like this should be a no-op,\n// but if there are any implicit rows,\n// this will convert them into explicit rows,\n// possibly changing how grid items are positioned\n// and altering the overall size of the grid!\n\n```\n\n \nThis is an accidental property of an early implementation\n that leaked into later implementations\n without much thought given to it.\n We intend to remove it from the spec,\n but not until after we’ve defined a CSSOM API\n for getting information about implicit tracks,\n as currently this is the only way to get that information\n and a number of pages rely on that.\n\n [↵](#issue-cccd0e19)\n \n The CSS Working Group is considering whether to also return used values\n for the [grid-placement properties](#grid-placement-property) and is looking for feedback, especially from implementors.\n See [discussion](https://github.com/w3c/csswg-drafts/issues/2681). [↵](#issue-e2bc4d57)",
      "rawLength": 312928
    }
  }
}