{
  "specName": "css-color-4",
  "extractedAt": "2026-02-06T03:06:34.876Z",
  "totalSections": 33,
  "coreSections": 25,
  "sections": {
    "sotd": {
      "id": "sotd",
      "heading": "Status of this document",
      "content": "This section describes the status of this document at the time of its publication.\n A list of current W3C publications\n and the latest revision of this technical report\n can be found in the [W3C standards and drafts index at https://www.w3.org/TR/.](https://www.w3.org/TR/) \n\n \n This document was published\n by the [CSS Working Group](https://www.w3.org/groups/wg/css) as a Candidate Recommendation Draft using the [Recommendation\n track](https://www.w3.org/policies/process/20231103/#recs-and-notes).\n Publication as a Candidate Recommendation\n does not imply endorsement by W3C and its Members.\n A Candidate Recommendation Draft\n integrates changes from the previous Candidate Recommendation\n that the Working Group intends to include in a subsequent Candidate Recommendation Snapshot. \n\n \n This is a draft document\n and may be updated, replaced\n or obsoleted by other documents at any time.\n It is inappropriate to cite this document as other than work in progress. \n\n \nPlease send feedback\n by [filing issues in GitHub](https://github.com/w3c/csswg-drafts/issues) (preferred),\n including the spec code “css-color” in the title, like this:\n “[css-color] …summary of comment…”.\n All issues and comments are [archived](https://lists.w3.org/Archives/Public/public-css-archive/).\n Alternately, feedback can be sent to the ([archived](https://lists.w3.org/Archives/Public/www-style/)) public mailing list [www-style@w3.org](mailto:www-style@w3.org?Subject=%5Bcss-color%5D%20PUT%20SUBJECT%20HERE). \n\n \nThis document is governed by the [03 November 2023 W3C Process Document](https://www.w3.org/policies/process/20231103/). \n\n \nThis document was produced by a group operating under the [W3C Patent Policy](https://www.w3.org/policies/patent-policy/20200915/).\n W3C maintains a [public list of any patent disclosures](https://www.w3.org/groups/wg/css/ipr) made in connection with the deliverables of the group;\n that page also includes instructions for disclosing a patent.\n An individual who has actual knowledge of a patent which the individual believes\n contains [Essential Claim(s)](https://www.w3.org/policies/patent-policy/20200915/#def-essential) must disclose the information in accordance with [section 6 of the W3C Patent Policy](https://www.w3.org/policies/patent-policy/20200915/#sec-Disclosure).",
      "rawLength": 2746
    },
    "introduction": {
      "id": "introduction",
      "heading": "1.  Introduction",
      "content": "This section is not normative.\n\n \n Tests\n \nThis section is not normative, it does not need tests.\n\n \n\n \n \n \nThis module describes CSS properties which\n allow authors to specify\n the foreground color and opacity of the text content of an element.\n This module also describes in detail the CSS [<color>](#typedef-color) value type.\n\n \nIt not only defines the color-related properties and values that\n already exist in [CSS1](https://www.w3.org/TR/CSS1), [CSS2](https://www.w3.org/TR/CSS2/),\n and [CSS Color 3](https://www.w3.org/TR/css-color-3/),\n but also defines new properties and values.\n\n \nIn particular, it allows specifying colors\n in other [color spaces](#color-space) than sRGB;\n previously, the more saturated colors outside the sRGB gamut\n could not be used in CSS\n even if the display device supported them.\n\n \nA [draft implementation report](https://drafts.csswg.org/css-color-4/test-coverage) is available.\n\n 1.1. Value Definitions[](#values)\n \nThis specification follows the [CSS property definition conventions](https://www.w3.org/TR/CSS2/about.html#property-defs) from [[CSS2]](#biblio-css2) using the [value definition syntax](https://www.w3.org/TR/css-values-3/#value-defs) from [[CSS-VALUES-3]](#biblio-css-values-3).\n Value types not defined in this specification are defined in CSS Values & Units [CSS-VALUES-3].\n Combination with other CSS modules may expand the definitions of these value types.\n\n \nIn addition to the property-specific values listed in their definitions,\n all properties defined in this specification\n also accept the [CSS-wide keywords](https://www.w3.org/TR/css-values-4/#css-wide-keywords) as their property value.\n For readability they have not been repeated explicitly.",
      "rawLength": 2594
    },
    "terminology": {
      "id": "terminology",
      "heading": "2. Color Terminology",
      "content": "Tests\n \nThis section provides definitions used later, it does not need tests.\n\n \n\n \n \n \nA **color** is a definition (numeric or textual)\n of the human visual perception of a light\n or a physical object illuminated with light.\n The objective study of human color perception is termed colorimetry.\n\n \nThe color of a physical object\n depends on how much light it reflects\n at each visible wavelength,\n plus the actual color of the light illuminating it\n (again, the amount of light at each wavelength).\n It is measured by a spectrophotometer .\n\n \nThe color of something that emits light\n (including colors on a computer screen)\n depends on how much light it emits\n at each visible wavelength.\n It is measured by a spectroradiometer.\n\n \nIf two objects have different spectra,\n but still produce the same physical sensation,\n we say they have the same color.\n We can calculate whether two colors are the same\n by converting the spectra to CIE XYZ\n (three numbers).\n\n [](#ex-cal-leaf)For example a green leaf, a photograph of that leaf\n displayed on a computer screen, and a print of that photograph,\n are all producing a green sensation by different means.\n If the screen and the printer are [calibrated](#calibrated),\n the green in the leaf, and the photo, and the print will look the same. \n \nA **color space** is an organization of colors\n with respect to an underlying colorimetric model,\n such that there is a clear, objectively-measurable meaning\n for any color in that color space.\n This also means that the same color can be expressed in multiple color spaces,\n or transformed from one color space to another,\n while still looking the same.\n\n \n [](#ex-leaf-spectro)\n \nA leaf is measured\n with a spectrophotometer\n and found to have the color lch(51.2345% 21.2 130)\n which is lab(51.2345% -13.6271 16.2401).\n\n \nThis same color could be expressed in various color spaces:\n\n```\n color(sRGB 0.41587 0.503670 0.36664);\n color(display-p3 0.43313 0.50108 0.37950);\n color(a98-rgb 0.44091 0.49971 0.37408);\n color(prophoto-rgb 0.36589 0.41717 0.31333);\n color(rec2020 0.42210 0.47580 0.35605);\n\n```\n\n \n \nAn **additive color space** means that the coordinate system is linear in light intensity.\n The CIE XYZ color space is an additive color space.\n The Y component of XYZ is the **luminance**, the light intensity per unit area,\n or 'how bright it is'. Luminance is measured in candelas per square meter.\n cd/m², also called nits.\n\n \nIn an additive color space, calculations can be done\n to accurately predict color mixing. Most RGB spaces\n are not additive, because the components are gamma encoded. Undoing this gamma encoding\n produces linear-light values.\n\n \n [](#ex-additivity) For example, if a light fixture contains two identical colored lights,\n and only one is switched on,\n and the color is measured to be color(xyz 0.13 0.12 0.04),\n then the color when both are switched on will be exactly twice that, color(xyz 0.26 0.24 0.08). \n \nIf we have two differently colored spotlights shining on a stage,\n and one has the measured value color(xyz 0.15 0.24 0.17)\n while the other is color(xyz 0.11 0.06 0.06)\n then we can accurately predict that if the colored beams are made to overlap,\n the color of the mixture will be the sum\n of the XYZ component values, or color(xyz 0.26 0.30 0.23).\n\n \n \nA **chromaticity** is a color measurement\n where the lightness component has been factored out.\n From the identical lights example above,\n the u',v' chromaticity with one light is\n (0.2537, 0.5268)\n and the chromaticity is the same with both lights\n (they are the same color, it is just brighter).\n\n \nChromaticities are additive,\n so they accurately predict\n the chromaticity (but not the resulting lightness)\n of a mixture.\n Being two-dimensional, chromaticity is easily represented\n on a chromaticity diagram to predict the chromaticity of a color mixture.\n Any two colors can be mixed, and the resulting colors\n will lie on the line joining them on the diagram.\n Three colors form a plane, and the resulting colors\n will lie in the triangle they form on the diagram.\n\n \n \n A chromaticity diagram showing\n (in solid colors) the [display-p3](#valdef-color-display-p3) color space\n and for comparison\n (faded) the [sRGB](#valdef-color-srgb) color space.\n The white point (D65) is also shown. \n \n \nThus, once linearized, RGB color spaces are additive,\n and their gamut is defined\n by the chromaticities of the red, green and blue primaries,\n plus the chromaticity of the **white point** (the color formed by all three primaries at full intensity).\n\n \nMost color spaces use one of a few\n daylight-simulating [white points](#white-point),\n which are named by the correlated color temperature (CCT) [[Understanding_CCT]](#biblio-understanding_cct) of the corresponding black-body radiator.\n For example, [D65](#d65) is a daylight whitepoint\n corresponding to a correlated color temperature\n of 6500 Kelvin\n (actually 6504,\n because the value of Plank’s constant has changed\n since the color was originally defined).\n\n \nTo avoid cumulative round-trip errors,\n it is important that the identical chromaticity values\n are used consistently,\n at all places in a calculation. Thus,\n for maximum compatibility,\n for this specification,\n the following two standard\n daylight-simulating [white points](#white-point) are defined:\n\n \n \n \n Name \n x\n y\n CCT\n \n \n **D50**\n 0.345700\n 0.358500\n 5003K\n \n **D65**\n 0.312700\n 0.329000\n 6504K\n \n \nWhen the measured physical characteristics\n (such as the chromaticities of the primary colors it uses,\n or the colors produced in response to a given set of inputs)\n of a [color space](#color-space) or a color-producing device are known,\n it is said to be **characterized**.\n\n \nIf in addition adjustments have been made so that a device meets calibration targets\n such as white point, neutrality of greys, predictability and consistency of tone response,\n then it is said to be **calibrated**.\n\n \nReal physical devices cannot yet produce every possible color that the human eye can see.\n The range of colors that a given device can produce is termed the **gamut** (not to be confused with gamma).\n Devices with a limited gamut cannot produce very saturated colors,\n like those found in a rainbow.\n\n \n \n\n A top-down view of three gamuts, plotted in Oklab with the positive a-axis towards the right and the positive b-axis towards the top; looking down the l-axis so white and neutrals are in the center. The largest of the three gamuts is ITU Rec BT.2020; the medium-sized one is Display P3, and the smallest is sRGB. Rendering by Alexey Ardov. \n \n \nThe gamuts of different [color space](#color-space)s may be compared\n by looking at the volume (in cubic Lab units) of colors that can be expressed.\n The following table examines the [predefined](#predefined) color spaces available in CSS.\n\n \n \n \n color space\n Volume (million Lab units)\n \n sRGB\n 0.820\n \n display-p3\n 1.233\n \n a98-rgb\n 1.310\n \n prophoto-rgb\n 2.896\n \n rec2020\n 2.042\n \n \nA color in CSS is either an **invalid color**,\n as described below for each syntactic form,\n or a [valid color](#valid-color).\n\n \nAny color which is not an [invalid color](#invalid-color) is a **valid color**.\n\n \nA color may be a [valid color](#valid-color) but still be outside the range of colors\n that can be produced by an output device\n (a screen, projector, or printer)\n\n \nIt is said to be **out of gamut**.\n\n \nEach [valid color](#valid-color) is either **in-gamut** for a particular output device (screen, or printer)\n or it is [out of gamut](#out-of-gamut).\n\n \n [](#ex-oog) For example, given a screen which covers 100% of the display-p3 color space,\n but no more, the following color is out of gamut: \n\n```\n color(prophoto-rgb 0.88 0.45 0.10)\n\n```\n\n \nbecause, expressed in display-p3,\n one or more coordinates are either greater that 1.0 or less than 0.0:\n\n```\n color(display-p3 1.0844 0.43 0.1)\n\n```\n\n \nThis color is valid,\n and could, for example, be used as a gradient stop,\n but would need to be [CSS gamut mapped](#css-gamut-mapped) for display,\n producing a similar-looking but lower chroma (less saturated) color.",
      "rawLength": 13664
    },
    "applying-color": {
      "id": "applying-color",
      "heading": "3. Applying Color in CSS",
      "content": "3.1. Accessibility and Conveying Information By Color[](#accessibility)\n \n Tests\n \nThis section provides authoring guidance, it does not need tests.\n\n \n\n \n \n \nAlthough colors can add significant information to documents\n and make them more readable,\n color by itself should not be the sole means to convey important information.\n Authors should consider the W3C Web Content Accessibility Guidelines [[WCAG21]](#biblio-wcag21) when using color in their documents.\n\n \n \n[1.4.1 Use of Color: Color is not used as the only visual means of conveying information,\nindicating an action, prompting a response, or distinguishing a visual element](https://www.w3.org/TR/WCAG21/#use-of-color)\n\n \n 3.2. Foreground Color: the [color](#propdef-color) property[](#the-color-property)\n \n \n \n Name:\n **color**\n \n [Value:](https://www.w3.org/TR/css-values/#value-defs)\n [<color>](#typedef-color) \n \n [Initial:](https://www.w3.org/TR/css-cascade/#initial-values)\n CanvasText \n \n [Applies to:](https://www.w3.org/TR/css-cascade/#applies-to)\n all elements and text \n \n [Inherited:](https://www.w3.org/TR/css-cascade/#inherited-property)\n yes \n \n [Percentages:](https://www.w3.org/TR/css-values/#percentages)\n N/A \n \n [Computed value:](https://www.w3.org/TR/css-cascade/#computed)\n computed color, see [resolving color values](#resolving-color-values) \n \n [Canonical order:](https://www.w3.org/TR/cssom/#serializing-css-values)\n per grammar \n \n [Animation type:](https://www.w3.org/TR/web-animations/#animation-type)\n by computed value type \n \n \n Tests\n \n\n [color-001.html](https://wpt.fyi/results/css/css-color/color-001.html) [(live test)](https://wpt.live/css/css-color/color-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-001.html)\n [color-002.html](https://wpt.fyi/results/css/css-color/color-002.html) [(live test)](https://wpt.live/css/css-color/color-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-002.html)\n [color-003.html](https://wpt.fyi/results/css/css-color/color-003.html) [(live test)](https://wpt.live/css/css-color/color-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-003.html)\n [inheritance.html](https://wpt.fyi/results/css/css-color/inheritance.html) [(live test)](https://wpt.live/css/css-color/inheritance.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/inheritance.html)\n [color-interpolation.html](https://wpt.fyi/results/css/css-color/animation/color-interpolation.html) [(live test)](https://wpt.live/css/css-color/animation/color-interpolation.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/animation/color-interpolation.html)\n [color-initial-canvastext.html](https://wpt.fyi/results/css/css-color/color-initial-canvastext.html) [(live test)](https://wpt.live/css/css-color/color-initial-canvastext.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-initial-canvastext.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n [color-invalid.html](https://wpt.fyi/results/css/css-color/parsing/color-invalid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-invalid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid.html)\n \n\n \n \nThis property specifies the primary foreground color of the element.\n This is used as the fill color of its text content,\n and in addition specifies the [used value](https://www.w3.org/TR/css-cascade-5/#used-value) that currentcolor resolves to,\n which allows indirect references to this foreground color\n and affects the initial values of various other color properties\n such as [border-color](https://www.w3.org/TR/css-backgrounds-3/#propdef-border-color) and [text-emphasis-color](https://www.w3.org/TR/css-text-decor-4/#propdef-text-emphasis-color).\n\n \n [<color>](#typedef-color) \n Sets the primary foreground color to the specified [<color>](#typedef-color). \n \n \n [](#ex-lime) The [<color>](#typedef-color) type provides multiple ways to syntactically specify a given color.\n For example, the following declarations all specify the sRGB color “lime”: \n\n```\nem { color:  lime; } /* color keyword */\nem { color:  rgb(0 255 0); } /* RGB range 0-255 */\nem { color:  rgb(0% 100% 0%); } /* RGB range 0%-100% */\nem { color:  color(sRGB 0 1 0); } /* sRGB range 0.0-1.0 */\n\n```\n\n \n \nWhen applied to text, this property, including its alpha component,\n has no effect on “color glyphs” (such as the emoji in some fonts),\n which are colored by a built-in palette.\n However, some colored fonts are able to refer to a contextual “foreground color”,\n such as by palette entry 0xFFFF in the COLR table of OpenType,\n or by the context-fill value in SVG-in-OpenType.\n In such cases, the foreground color is set by this property,\n identical to how it sets the [currentcolor](#valdef-color-currentcolor) value.\n\n 3.3. Transparency: the [opacity](#propdef-opacity) property[](#transparency)\n \nOpacity can be thought of as a postprocessing operation.\n Conceptually, after the element (including its descendants) is rendered into an RGBA offscreen image,\n the opacity setting specifies how to blend the offscreen rendering into\n the current composite rendering.\n See [simple alpha compositing](#alpha) for details.\n\n \n \n \n Name:\n **opacity**\n \n [Value:](https://www.w3.org/TR/css-values/#value-defs)\n [<opacity-value>](#typedef-opacity-opacity-value) \n \n [Initial:](https://www.w3.org/TR/css-cascade/#initial-values)\n 1 \n \n [Applies to:](https://www.w3.org/TR/css-cascade/#applies-to)\n [all elements](https://www.w3.org/TR/css-pseudo/#generated-content) \n \n [Inherited:](https://www.w3.org/TR/css-cascade/#inherited-property)\n no \n \n [Percentages:](https://www.w3.org/TR/css-values/#percentages)\n map to the range [0,1] \n \n [Computed value:](https://www.w3.org/TR/css-cascade/#computed)\n specified number, clamped to the range [0,1] \n \n [Canonical order:](https://www.w3.org/TR/cssom/#serializing-css-values)\n per grammar \n \n [Animation type:](https://www.w3.org/TR/web-animations/#animation-type)\n by computed value type \n \n \n Tests\n \n\n [clip-opacity-out-of-flow.html](https://wpt.fyi/results/css/css-color/clip-opacity-out-of-flow.html) [(live test)](https://wpt.live/css/css-color/clip-opacity-out-of-flow.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/clip-opacity-out-of-flow.html)\n [t32-opacity-basic-0.0-a.xht](https://wpt.fyi/results/css/css-color/t32-opacity-basic-0.0-a.xht) [(live test)](https://wpt.live/css/css-color/t32-opacity-basic-0.0-a.xht) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/t32-opacity-basic-0.0-a.xht)\n [t32-opacity-basic-0.6-a.xht](https://wpt.fyi/results/css/css-color/t32-opacity-basic-0.6-a.xht) [(live test)](https://wpt.live/css/css-color/t32-opacity-basic-0.6-a.xht) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/t32-opacity-basic-0.6-a.xht)\n [t32-opacity-basic-1.0-a.xht](https://wpt.fyi/results/css/css-color/t32-opacity-basic-1.0-a.xht) [(live test)](https://wpt.live/css/css-color/t32-opacity-basic-1.0-a.xht) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/t32-opacity-basic-1.0-a.xht)\n [t32-opacity-clamping-0.0-b.xht](https://wpt.fyi/results/css/css-color/t32-opacity-clamping-0.0-b.xht) [(live test)](https://wpt.live/css/css-color/t32-opacity-clamping-0.0-b.xht) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/t32-opacity-clamping-0.0-b.xht)\n [t32-opacity-clamping-1.0-b.xht](https://wpt.fyi/results/css/css-color/t32-opacity-clamping-1.0-b.xht) [(live test)](https://wpt.live/css/css-color/t32-opacity-clamping-1.0-b.xht) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/t32-opacity-clamping-1.0-b.xht)\n [t32-opacity-offscreen-b.xht](https://wpt.fyi/results/css/css-color/t32-opacity-offscreen-b.xht) [(live test)](https://wpt.live/css/css-color/t32-opacity-offscreen-b.xht) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/t32-opacity-offscreen-b.xht)\n [t32-opacity-offscreen-multiple-boxes-1-c.xht](https://wpt.fyi/results/css/css-color/t32-opacity-offscreen-multiple-boxes-1-c.xht) [(live test)](https://wpt.live/css/css-color/t32-opacity-offscreen-multiple-boxes-1-c.xht) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/t32-opacity-offscreen-multiple-boxes-1-c.xht)\n [t32-opacity-offscreen-multiple-boxes-2-c.xht](https://wpt.fyi/results/css/css-color/t32-opacity-offscreen-multiple-boxes-2-c.xht) [(live test)](https://wpt.live/css/css-color/t32-opacity-offscreen-multiple-boxes-2-c.xht) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/t32-opacity-offscreen-multiple-boxes-2-c.xht)\n [t32-opacity-offscreen-with-alpha-c.xht](https://wpt.fyi/results/css/css-color/t32-opacity-offscreen-with-alpha-c.xht) [(live test)](https://wpt.live/css/css-color/t32-opacity-offscreen-with-alpha-c.xht) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/t32-opacity-offscreen-with-alpha-c.xht)\n [t32-opacity-zorder-c.xht](https://wpt.fyi/results/css/css-color/t32-opacity-zorder-c.xht) [(live test)](https://wpt.live/css/css-color/t32-opacity-zorder-c.xht) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/t32-opacity-zorder-c.xht)\n [opacity-computed.html](https://wpt.fyi/results/css/css-color/parsing/opacity-computed.html) [(live test)](https://wpt.live/css/css-color/parsing/opacity-computed.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/opacity-computed.html)\n [opacity-valid.html](https://wpt.fyi/results/css/css-color/parsing/opacity-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/opacity-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/opacity-valid.html)\n [opacity-invalid.html](https://wpt.fyi/results/css/css-color/parsing/opacity-invalid.html) [(live test)](https://wpt.live/css/css-color/parsing/opacity-invalid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/opacity-invalid.html)\n [composited-filters-under-opacity.html](https://wpt.fyi/results/css/css-color/composited-filters-under-opacity.html) [(live test)](https://wpt.live/css/css-color/composited-filters-under-opacity.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/composited-filters-under-opacity.html)\n [filters-under-will-change-opacity.html](https://wpt.fyi/results/css/css-color/filters-under-will-change-opacity.html) [(live test)](https://wpt.live/css/css-color/filters-under-will-change-opacity.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/filters-under-will-change-opacity.html)\n [color-composition.html](https://wpt.fyi/results/css/css-color/animation/color-composition.html) [(live test)](https://wpt.live/css/css-color/animation/color-composition.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/animation/color-composition.html)\n [opacity-interpolation.html](https://wpt.fyi/results/css/css-color/animation/opacity-interpolation.html) [(live test)](https://wpt.live/css/css-color/animation/opacity-interpolation.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/animation/opacity-interpolation.html)\n [canvas-change-opacity.html](https://wpt.fyi/results/css/css-color/canvas-change-opacity.html) [(live test)](https://wpt.live/css/css-color/canvas-change-opacity.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/canvas-change-opacity.html)\n [opacity-animation-ending-correctly-001.html](https://wpt.fyi/results/css/css-color/animation/opacity-animation-ending-correctly-001.html) [(live test)](https://wpt.live/css/css-color/animation/opacity-animation-ending-correctly-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/animation/opacity-animation-ending-correctly-001.html)\n [opacity-animation-ending-correctly-002.html](https://wpt.fyi/results/css/css-color/animation/opacity-animation-ending-correctly-002.html) [(live test)](https://wpt.live/css/css-color/animation/opacity-animation-ending-correctly-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/animation/opacity-animation-ending-correctly-002.html)\n \n\n \n \n **[<opacity-value>](#typedef-opacity-opacity-value)** \n \n The opacity to be applied to the element.\n The resulting opacity is applied to the entire element,\n rather than a particular color. \n \nOpacity values outside the range [0,1] are not invalid,\n and are preserved in specified values,\n but are clamped to the range [0, 1]\n in computed values.\n\n \n \n Tests\n \n\n [inline-opacity-float-child.html](https://wpt.fyi/results/css/css-color/inline-opacity-float-child.html) [(live test)](https://wpt.live/css/css-color/inline-opacity-float-child.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/inline-opacity-float-child.html)\n \n\n \n \nOpacity in CSS is represented using the [<opacity-value>](#typedef-opacity-opacity-value) syntax,\n for example in the [opacity](#propdef-opacity) property.\n\n```\n[<opacity-value>](#typedef-opacity-opacity-value) = [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)\n\n```\n\n \nRepresented as a [<number>](https://www.w3.org/TR/css-values-4/#number-value), the useful range of the value is 0 (representing full transparency)\n to 1 (representing full opacity).\n It can also be written as a [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value),\n which [computes to](https://www.w3.org/TR/css-cascade-5/#computed-value) the equivalent <number> (0% to 0, 100% to 1).\n\n \nThe [opacity](#propdef-opacity) property applies the specified opacity to the element as a whole,\n including its contents,\n rather than applying it to each descendant individually.\n This means that, for example,\n an opaque child occluding part of the element’s background will continue to do so even when opacity is less than 1,\n but the element and child as a whole will show the underlying page through themselves.\n\n \nIt also means that the glyphs\n corresponding to all characters in the element\n are treated as a whole;\n any overlapping portions do not increase the opacity.\n\n \n Tests\n \n\n [opacity-overlapping-letters.html](https://wpt.fyi/results/css/css-color/opacity-overlapping-letters.html) [(live test)](https://wpt.live/css/css-color/opacity-overlapping-letters.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/opacity-overlapping-letters.html)\n \n\n \n \n \n Correct and incorrect rendering of text\n with an [opacity](#propdef-opacity) value of less than one,\n whose glyphs overlap. \n \n \nIf separate opacity for each glyph is desired,\n it can be achieved by using a color value\n which includes alpha,\n rather than setting the [opacity](#propdef-opacity) property.\n\n \nIf a box has [opacity](#propdef-opacity) less than 1,\n it forms a [stacking context](https://www.w3.org/TR/CSS2/visuren.html#x43) for its children.\n (This prevents its contents from interleaving in the z-axis\n with content outside it.)\n\n \n Tests\n \n\n [body-opacity-0-to-1-stacking-context.html](https://wpt.fyi/results/css/css-color/body-opacity-0-to-1-stacking-context.html) [(live test)](https://wpt.live/css/css-color/body-opacity-0-to-1-stacking-context.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/body-opacity-0-to-1-stacking-context.html)\n \n\n \n \nFurthermore, if the [z-index](https://www.w3.org/TR/CSS2/visuren.html#propdef-z-index) property applies to the box,\n the [auto](https://drafts.csswg.org/css2/#valdef-z-index-auto) value is treated as 0 for the element;\n it is otherwise painted on the same layer within its parent stacking context\n as positioned elements with stack level 0\n (as if it were a positioned element with z-index:0).\n\n \nSee [section 9.9](https://www.w3.org/TR/CSS21/visuren.html#layers) and [Appendix E](https://www.w3.org/TR/CSS21/zindex.html) of [[CSS2]](#biblio-css2) for more information on stacking contexts.\n\n \nThese rules about z-order do not apply to SVG elements,\n since SVG has its own [rendering model](https://www.w3.org/TR/SVG11/render.html) ([[SVG11]](#biblio-svg11), Chapter 3).\n\n 3.4. Color Space of Tagged Images[](#tagged-images)\n \nAn **tagged image** is an image\n that is explicitly assigned a color profile,\n as defined by the image format.\n This is usually done by including an\n International Color Consortium (ICC) profile [[ICC]](#biblio-icc).\n\n \nFor example JPEG [[JPEG]](#biblio-jpeg), PNG [[PNG]](#biblio-png) and TIFF [[TIFF]](#biblio-tiff) all specify a means to embed an ICC profile.\n\n \nImage formats may also use other, equivalent methods, often for brevity.\n\n \nFor example, PNG specifies a means (the [sRGB chunk](https://www.w3.org/TR/PNG/#11sRGB))\n to explicitly tag an image as being in the sRGB color space,\n without including the sRGB ICC profile.\n\n \nSimilarly, PNG specifies a compact means\n (the [cICP chunk](https://www.w3.org/TR/png-3/#cICP-chunk))\n to explicitly tag an image as being one of various SDR or HDR color spaces,\n such as Display P3 or BT.2100 HLG,\n without including an ICC profile.\n\n \nTagged RGB images,\n and tagged images using a transformation of RGB such as YCbCr,\n if the color profile or other identifying information is valid,\n must be treated as being in the specified color space.\n\n \n Tests\n \n\n [tagged-images-001.html](https://wpt.fyi/results/css/css-color/tagged-images-001.html) [(live test)](https://wpt.live/css/css-color/tagged-images-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/tagged-images-001.html)\n [tagged-images-002.html](https://wpt.fyi/results/css/css-color/tagged-images-002.html) [(live test)](https://wpt.live/css/css-color/tagged-images-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/tagged-images-002.html)\n [tagged-images-003.html](https://wpt.fyi/results/css/css-color/tagged-images-003.html) [(live test)](https://wpt.live/css/css-color/tagged-images-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/tagged-images-003.html)\n [tagged-images-004.html](https://wpt.fyi/results/css/css-color/tagged-images-004.html) [(live test)](https://wpt.live/css/css-color/tagged-images-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/tagged-images-004.html)\n \n\n \n\n [cicp-chunk.html](https://wpt.fyi/results/png/cicp-chunk.html) [(live test)](https://wpt.live/png/cicp-chunk.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/png/cicp-chunk.html)\n [fDAT-inherits-cICP.html](https://wpt.fyi/results/png/apng/fDAT-inherits-cICP.html) [(live test)](https://wpt.live/png/apng/fDAT-inherits-cICP.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/png/apng/fDAT-inherits-cICP.html)\n \n\n \n \nFor example, when a browser running on a system with a Display P3 monitor\n displays an JPEG image\n tagged as being in the ITU Rec BT.2020 [[Rec.2020]](#biblio-rec2020) color space, it must convert the colors\n from ITU Rec BT.2020 to Display P3\n so that they display correctly.\n It must not treat the ITU Rec BT.2020 values\n as if they were Display P3 values, which would produce incorrect colors.\n\n \nIf the color profile or other identifying information is invalid, the image is treated as described for [untagged images](#untagged-image).\n\n 3.5. Color Spaces of Untagged Colors[](#untagged)\n \nFor compatibility, colors specified in HTML,\n and [untagged images](#untagged-image) must be treated\n as being in the sRGB color space ([[SRGB]](#biblio-srgb))\n unless otherwise specified.\n\n \n Tests\n \n\n [untagged-images-001.html](https://wpt.fyi/results/css/css-color/untagged-images-001.html) [(live test)](https://wpt.live/css/css-color/untagged-images-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/untagged-images-001.html)\n \n\n \n \nAn **untagged image** is an image that is not explicitly assigned a color profile, as defined by the image format.\n\n \nThis rule does not apply to untagged videos, since **untagged video** should be presumed to be in an ITU-defined color space.\n\n \n\n \n \nAt below 720p, it is Recommendation ITU-R BT.601 [[ITU-R-BT.601]](#biblio-itu-r-bt601)\n\n \n \nAt 720p, it is SMPTE ST 296 (same colorimetry as 709) [[SMPTE296]](#biblio-smpte296)\n\n \n \nAt 1080p, it is Recommendation ITU-R BT.709 [[ITU-R-BT.709]](#biblio-itu-r-bt709)\n\n \n \nAt 4k (UHDTV) and above, it is ITU-R BT.2020 [[Rec.2020]](#biblio-rec2020) for SDR video",
      "rawLength": 37944
    },
    "color-type": {
      "id": "color-type",
      "heading": "4.  Representing Colors: the &lt;color> type",
      "content": "Tests\n \nThis section describes a type, it is primarily tested where that type is used.\n\n \n\n \n \n \nColors in CSS are represented as a list of color components,\n also sometimes called “channels”,\n representing axises in the color space.\n Each component has a minimum and maximum value,\n and can take any value between those two.\n Additionally, every color is accompanied by\n an **alpha component**,\n indicating how transparent it is,\n and thus how much of the backdrop one can see through the color.\n\n \nCSS has several syntaxes for specifying color values:\n\n \n\n \n \nthe sRGB [hex color notation](#hex-color) which represents the RGB and alpha components in hexadecimal notation\n\n \n \nthe various [color functions](#color-functions) which can represent colors using a variety of color spaces and coordinate systems\n\n \n \nthe constant [named color](#named-color) keywords\n\n \n \nthe variable [<system-color>](#typedef-system-color) keywords and [currentColor](#valdef-color-currentcolor) keyword.\n\n \n\n \nThe **color functions** use CSS [functional notation](https://www.w3.org/TR/css-values-4/#functional-notation) to represent colors in a variety of [color spaces](#color-space) by specifying their component coordinates.\n Some of these use a **cylindrical polar color** model,\n specifying color by a [<hue>](#typedef-hue) angle,\n a central axis representing lightness\n (black-to-white),\n and a radius representing saturation or chroma\n (how far the color is from a neutral grey).\n The others use a **rectangular orthogonal color** model,\n specifying color using three\n orthogonal component axes.\n\n \nThe [color functions](#color-functions) available in Level 4 are\n\n \n\n \n \n[rgb()](#funcdef-rgb) and its [rgba()](#funcdef-rgba) alias,\nwhich (like the [hex color notation](#hex-color)) specify sRGB colors directly\nby their red/green/blue/alpha components.\n\n \n \n[hsl()](#funcdef-hsl) and its [hsla()](#funcdef-hsla) alias,\nwhich specify sRGB colors\nby hue, saturation, and lightness\nusing the [HSL](#the-hsl-notation) cylindrical coordinate model.\n\n \n \n[hwb()](#funcdef-hwb),\nwhich specifies an sRGB color\nby hue, whiteness, and blackness\nusing the [HWB](#the-hwb-notation) cylindrical coordinate model.\n\n \n \n[lab()](#funcdef-lab),\nwhich specifies a CIELAB color\nby CIE Lightness and its a- and b-axis hue coordinates\n(red/green-ness, and yellow/blue-ness)\nusing the [CIE LAB rectangular coordinate model](#cie-lab).\n\n \n \n[lch()](#funcdef-lch) ,\nwhich specifies a CIELAB color\nby CIE Lightness, Chroma, and hue\nusing the [CIE LCH cylindrical coordinate model](#cie-lab)\n\n \n \n[oklab()](#funcdef-oklab),\nwhich specifies an Oklab color\nby Oklab Lightness and its a- and b-axis hue coordinates\n(red/green-ness, and yellow/blue-ness)\nusing the [Oklab](#ok-lab) rectangular coordinate model.\n\n \n \n[oklch()](#funcdef-oklch) ,\nwhich specifies an Oklab color\nby Oklab Lightness, Chroma, and hue\nusing the [OKLCh](#ok-lab) cylindrical coordinate model.\n\n \n \n[color()](#funcdef-color),\nwhich allows specifying colors in a variety of color spaces\nincluding [sRGB](#predefined-sRGB), [Linear-light sRGB](#predefined-sRGB-linear), [Display P3](#predefined-display-p3), [A98 RGB](#predefined-a98-rgb), [ProPhoto RGB](#predefined-prophoto-rgb), [ITU-R BT.2020-2](#predefined-rec2020),\nand [CIE XYZ](#predefined-xyz).\n\n \n\n \nFor easy reference in other specifications, **opaque black** is defined as the color rgb(0 0 0 / 100%); **transparent black** is the same color,\n but fully transparent—​i.e. rgb(0 0 0 / 0%).\n\n \n Tests\n \n\n [color-computed-named-color.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-named-color.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-named-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-named-color.html)\n [color-computed.html](https://wpt.fyi/results/css/css-color/parsing/color-computed.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n \n\n \n 4.1. The [<color>](#typedef-color) syntax[](#color-syntax)\n \n Tests\n \nThis section provides definitions used later, it does not need tests.\n\n \n\n \n \n \nColors in CSS are represented by the **[<color>](#typedef-color)** type:\n\n```\n<color> = [<color-base>](#typedef-color-base) [|](https://www.w3.org/TR/css-values-4/#comb-one) currentColor [|](https://www.w3.org/TR/css-values-4/#comb-one) [<system-color>](#typedef-system-color)\n\n**<color-base>** = [<hex-color>](#typedef-hex-color) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<color-function>](#typedef-color-function) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<named-color>](#typedef-named-color) [|](https://www.w3.org/TR/css-values-4/#comb-one) transparent\n**<color-function>** = [<rgb()>](#funcdef-rgb) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<rgba()>](#funcdef-rgba) [|](https://www.w3.org/TR/css-values-4/#comb-one)\n [<hsl()>](#funcdef-hsl) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<hsla()>](#funcdef-hsla) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<hwb()>](#funcdef-hwb) [|](https://www.w3.org/TR/css-values-4/#comb-one)\n [<lab()>](#funcdef-lab) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<lch()>](#funcdef-lch) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<oklab()>](#funcdef-oklab) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<oklch()>](#funcdef-oklch) [|](https://www.w3.org/TR/css-values-4/#comb-one)\n [<color()>](#funcdef-color)\n\n```\n\n \nAn **absolute color** is a [<color>](#typedef-color) whose computed value\n has an absolute, colorimetric interpretation.\n This means that the value is not:\n\n \n\n \n \n[currentColor](#valdef-color-currentcolor) (which depends on the value of the [color](#propdef-color) property)\n\n \n \na [<system-color>](#typedef-system-color) (which depends on the color mode)\n\n \n\n \nThe colors that **resolve to sRGB** are:\n\n \n\n \n \n[hex](#hex-notation) colors\n\n \n \n[rgb()](#funcdef-rgb) and [rgba()](#funcdef-rgba) values\n\n \n \n[hsl()](#funcdef-hsl) and [hsla()](#funcdef-hsla) values\n\n \n \n[hwb()](#funcdef-hwb) values\n\n \n \n[named](#named-colors) colors\n\n \n\n \nThe functions that **support legacy color syntax** are:\n\n \n\n \n \n[rgb()](#funcdef-rgb) and [rgba()](#funcdef-rgba)\n\n \n \n[hsl()](#funcdef-hsl) and [hsla()](#funcdef-hsla)\n\n \n\n \nThe [<hsl()>](#funcdef-hsl), [<hsla()>](#funcdef-hsla), [<hwb()>](#funcdef-hwb), [<lch()>](#funcdef-lch), and [<oklch()>](#funcdef-oklch) [color functions](#color-functions) are [cylindrical polar color](#cylindrical-polar-color) representations using a [<hue>](#typedef-hue) angle;\n the other color functions use [rectangular orthogonal color](#rectangular-orthogonal-color) representations.\n\n 4.1.1. Modern (Space-separated) Color Function Syntax[](#color-syntax-modern)\n \nAll of the [absolute color](#absolute-color) functional forms\n first defined in this specification\n use the **modern color syntax**,\n meaning:\n\n \n\n \n \ncolor components are separated by whitespace\n\n \n \nthe optional alpha term is separated by a solidus (\"/\")\n\n \n \nminimum required precision [when serializing](#serializing-color-values) is defined,\nand may be greater than 8 bits per component\n\n \n \nthe [none](#valdef-color-none) value is allowed, to represent [missing components](#missing-color-component)\n\n \n \ncomponents using [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) and [<number>](https://www.w3.org/TR/css-values-4/#number-value) may be freely mixed\n\n \n\n \n [](#example-modern-syntax) \n \nThe following represents a saturated sRGB red that is 50% opaque: \n\n```\nrgb(100% 0% 0% / 50%)\n```\n\n \n 4.1.2. Legacy (Comma-separated) Color Function Syntax[](#color-syntax-legacy)\n \nFor Web compatibility,\n the syntactic forms\n of [rgb()](#funcdef-rgb), [rgba()](#funcdef-rgba), [hsl()](#funcdef-hsl), and [hsla()](#funcdef-hsla),\n (those defined in earlier specifications)\n also support a **legacy color syntax** which has the following differences:\n\n \n\n \n \ncolor components are separated by commas\n(optionally preceded and/or followed by whitespace)\n\n \n \nnon-opaque forms use a separate notation\n(for example [hsla()](#funcdef-hsla) rather than [hsl()](#funcdef-hsl))\nand the alpha term is separated by commas\n(optionally preceded and/or followed by whitespace)\n\n \n \nminimum required precision is lower, 8 bits per component\n\n \n \nthe [none](#valdef-color-none) value is not allowed\n\n \n \ncolor components must be specified using either all-[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) or all-[<number>](https://www.w3.org/TR/css-values-4/#number-value), they can not be mixed.\n\n \n\n \n [](#example-rgba-legacy) \n \nThe following represents a saturated sRGB red that is 50% opaque: \n\n```\nrgba(100%, 0%, 0%, 0.5)\n```\n\n \n \nFor the [color functions](#color-functions) introduced\n in this or subsequent levels,\n where there is no Web compatibility issue,\n the [legacy color syntax](#legacy-color-syntax) is invalid.\n\n 4.2. Representing Transparency in Colors: the [<alpha-value>](#typedef-color-alpha-value) syntax[](#alpha-syntax)\n \n Tests\n \nThis section provides definitions used later, it does not need tests.\n\n \n\n \n \n\n```\n**\" data-dfn-type=\"type\" data-export id=\"typedef-color-alpha-value\"><alpha-value>** = [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)\n\n```\n\n \nUnless otherwise specified,\n an [<alpha-value>](#typedef-color-alpha-value) component of a color defaults to 100% when omitted.\n Values outside the range [0,1] are not invalid,\n but are clamped to that range at parsed-value time.\n\n 4.3. Representing Cylindrical-coordinate Hues: the [<hue>](#typedef-hue) syntax[](#hue-syntax)\n \n Tests\n \nThis section provides definitions used later, it does not need tests.\n\n \n\n \n \n \nHue is represented as an angle of the color circle\n(the rainbow, twisted around into a circle, and with purple added between violet and red).\n\n```\n**<hue>** = [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<angle>](https://www.w3.org/TR/css-values-4/#angle-value)\n\n```\n\n \nBecause this value is so often given in degrees,\nthe argument can also be given as a number,\nwhich is interpreted as a number of degrees\nand is the [canonical unit](https://www.w3.org/TR/css-values-4/#canonical-unit).\n\n \nThis number is normalized\nto the range [0,360).\n\n \n [](#example-hue-normalization) For example, in hsl(-540 0 0) or hsl(540 0 0), \n the [<hue>](#typedef-hue) component is normalized to 180 degrees. \n \nIn hsl(360 0 0) the [<hue>](#typedef-hue) component is normalized to 0 degrees.\n\n \nIn hsl(calc(-infinity) 0 0) or hsl(calc(infinity) 0 0), \n the [<hue>](#typedef-hue) component is again normalized to 0 degrees.\n\n \n \nNote: The angles and spacing\ncorresponding to particular hues\ndepend on the color space.\nFor example, in HSL and HWB, which use the sRGB color space,\nsRGB green is 120 degrees.\nIn LCH, sRGB green is 134.39 degrees,\ndisplay-p3 green is 136.01 degrees,\na98-rgb green is 145.97 degrees\nand prophoto-rgb green is 141.04 degrees\n(because these are all different shades of green).\n\n \n[<hue>](#typedef-hue) components are the most common components to become [powerless](#powerless-color-component);\nany color sufficiently close to the central achromatic axis \nwill have a powerless hue component.\n\n 4.4. “Missing” Color Components and the [none](#valdef-color-none) Keyword[](#missing)\n \nIn certain cases,\n a color can have one or more **missing color components**.\n\n \nIn this specification,\n this happens automatically due to [hue-based interpolation](#hue-interpolation) for some colors (such as [white](#valdef-color-white));\n other specifications can define additional situations\n in which components are automatically missing.\n\n \nIt can also be specified explicitly,\n by providing the keyword **\" data-dfn-type=\"value\" data-export id=\"valdef-color-none\">none** for a component in a color function.\n All color functions\n (with the exception of those using the [legacy color syntax](#legacy-color-syntax))\n allow any of their components to be specified as [none](#valdef-color-none).\n\n \nThis should be done with care,\n and only when the particular effect of doing so is desired.\n\n \n Tests\n \n\n [color-computed-color-function.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-color-function.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-color-function.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-color-function.html)\n [color-computed-hsl.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-hsl.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-hsl.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-hsl.html)\n [color-computed-hwb.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-hwb.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-hwb.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-hwb.html)\n [color-computed-lab.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-lab.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-lab.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-lab.html)\n [color-computed-relative-color.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-relative-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html)\n [color-computed-rgb.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-rgb.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-rgb.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-rgb.html)\n [color-invalid-hsl.html](https://wpt.fyi/results/css/css-color/parsing/color-invalid-hsl.html) [(live test)](https://wpt.live/css/css-color/parsing/color-invalid-hsl.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-hsl.html)\n [color-invalid-rgb.html](https://wpt.fyi/results/css/css-color/parsing/color-invalid-rgb.html) [(live test)](https://wpt.live/css/css-color/parsing/color-invalid-rgb.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-rgb.html)\n [color-valid-color-function.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-color-function.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid-color-function.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-function.html)\n [color-valid-color-mix-function.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html)\n [color-valid-hsl.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-hsl.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid-hsl.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-hsl.html)\n [color-valid-hwb.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-hwb.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid-hwb.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-hwb.html)\n [color-valid-lab.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-lab.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid-lab.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-lab.html)\n [color-valid-relative-color.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-relative-color.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid-relative-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-relative-color.html)\n [color-valid-rgb.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-rgb.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid-rgb.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-rgb.html)\n \n\n \n \nFor handling of [missing components](#missing-color-component) in\n situations which combine two colors,\n such as color interpolation,\n see [§ 12.2 Interpolating with Missing Components](#interpolation-missing).\n\n \nFor all other purposes, a [missing component](#missing-color-component) behaves as a zero value,\n in the appropriate unit for that component: 0, 0%, or 0deg.\n This includes rendering the color directly,\n converting it to another color space,\n performing computations on the color component values,\n etc.\n\n \nIf a color with a [missing component](#missing-color-component) is serialized\n or otherwise presented directly to an author,\n then for [legacy color syntax](#legacy-color-syntax) it represents that component as a zero value;\n otherwise,\n it represents that component as being the [none](#valdef-color-none) keyword.\n\n \n [](#ex-missing-hue) A missing hue is common when interpolating in cylindrical color spaces.\n For example, using the [color-mix()](https://www.w3.org/TR/css-color-5/#funcdef-color-mix) function specified in [[CSS-COLOR-5]](#biblio-css-color-5) one could write color-mix(in hsl, white 30%, green 70%).\n Since [white](#valdef-color-white) is an achromatic color,\n it has a [missing](#missing-color-component) hue when expressed in [hsl()](#funcdef-hsl) (effectively hsl(none 0% 100%)),\n since any hue will produce the same color)\n which means that the color-mix function\n will treat it as having the same hue as [green](#valdef-color-green) (effectively hsl(120deg 0% 100%)),\n and then interpolate based on those components. \n \nThe result will be a color that truly looks like a blend of green and white,\n rather than perhaps looking reddish\n (if [white](#valdef-color-white)s hue was defaulted to 0deg).\n\n \n \n [](#ex-grayscale-with-missing) Explicitly specifying missing components can be useful\n to achieve an effect where you only want to interpolate certain components of a color. \n \nFor example, to animate a color to \"grayscale\", no matter what the color is,\n one can interpolate it with oklch(none 0 none).\n This will take the hue and lightness from the starting color,\n but animate its chroma down to 0,\n rendering it into an equal-lightness gray\n with a steady hue across the whole animation.\n\n \nDoing this manually would require\n matching the hue and lightness of the starting color explicitly.\n\n \n 4.4.1. “Powerless” Color Components[](#powerless)\n \nIndividual color syntaxes can specify that,\n in some cases,\n a given component of their syntax becomes a **powerless color component**.\n This indicates that the value of the component doesn’t affect the rendered color;\n any value you give it will result in the same color displayed in the screen.\n\n \nFor example, in [hsl()](#funcdef-hsl), the hue component is [powerless](#powerless-color-component) when the saturation component is 0%;\n a 0% saturation indicates a grayscale color,\n which has no hue at all,\n so 0deg and 180deg, or any other angle,\n will give the exact same result.\n\n \nIf a [powerless component](#powerless-color-component) is manually specified,\n it acts as normal;\n the fact that it’s powerless has no effect.\n\n \nHowever, if a color is automatically produced by color space conversion,\n then any [powerless components](#powerless-color-component) in the result must instead be set to [missing](#missing-color-component),\n instead of whatever value was produced by the conversion process.\n\n \nWhen performing color space conversion to a [cylindrical polar color](#cylindrical-polar-color) space,\n user agents shall treat a hue component as [powerless](#powerless-color-component) if the chroma (or other measure of colorfulness, such as saturation in [hsl](#valdef-hsl-hsl))\n is less than the epsilon (ε) specified for that color space.\n For example, a gray color converted into [oklch()](#funcdef-oklch) may,\n due to numerical errors,\n have an extremely small chroma rather than precisely 0%;\n as a result, the hue component is powerless.\n\n 4.5. Parsing a [<color>](#typedef-color) Value[](#parse-color)\n \n Tests\n \nThis section provides a definition referenced elsewhere, it does not need tests.\n\n \n\n \n \n value\">\n To **parse a CSS [<color>](#typedef-color) value**,\n given a [string](https://infra.spec.whatwg.org/#string) input,\n and an optional context [element](https://dom.spec.whatwg.org/#concept-element) element: \n \n\n \n \n[Parse](https://www.w3.org/TR/css-syntax-3/#css-parse-something-according-to-a-css-grammar) input as a [<color>](#typedef-color).\nIf the result is failure,\nreturn failure;\notherwise, let color be the result.\n\n \n \nLet used color be the result of [resolving](#resolving-color-values) color to a [used color](#used-color).\nIf the value of other properties\non the element a [<color>](#typedef-color) is on\nis required to do the resolution\n(such as resolving a [currentcolor](#valdef-color-currentcolor) or [system color](#css-system-colors)),\nuse element if it was passed,\nor the [initial values](https://www.w3.org/TR/css-cascade-5/#initial-value) of the properties if not.\n\n \n \nReturn used color.\n\n \n\n \n \nNote: This algorithm is not intented\nto parse a CSS [<color>](#typedef-color) value \nspecified in a CSS stylesheet\nor with a CSSOM interface,\nbut in other places \nlike HTML attributes or Canvas interfaces.",
      "rawLength": 44409
    },
    "numeric-srgb": {
      "id": "numeric-srgb",
      "heading": "5.  sRGB Colors",
      "content": "CSS colors in the [sRGB](#sRGB-space) color space\n are represented by a triplet of values—​red, green, and blue—​identifying a point in the sRGB color space [[SRGB]](#biblio-srgb).\n This is an internationally-recognized, device-independent color space,\n and so is useful for specifying colors that will be displayed on a computer screen,\n but is also useful for specifying colors on other types of devices, like printers.\n\n \nCSS also allows the use of non-sRGB [color space](#color-space)s,\n as described in [§ 10 Predefined Color Spaces](#predefined).\n\n \nCSS provides several methods of directly specifying an sRGB color: [hex colors](#hex-color), [rgb()](#funcdef-rgb)/[rgba()](#funcdef-rgba) [color functions](#color-functions), [hsl()](#funcdef-hsl)/[hsla()](#funcdef-hsla) color functions, [hwb()](#funcdef-hwb) color function, [named colors](#named-color),\n and the [transparent](#valdef-color-transparent) keyword.\n\n 5.1. The RGB functions: [rgb()](#funcdef-rgb) and [rgba()](#funcdef-rgba)[](#rgb-functions)\n \nThe [rgb()](#funcdef-rgb) and [rgba()](#funcdef-rgba) functions define an sRGB color\n by specifying the r, g and b (red, green, and blue) components directly.\n Their syntax is:\n\n```\nrgb() = [ [<legacy-rgb-syntax>](#typedef-legacy-rgb-syntax) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<modern-rgb-syntax>](#typedef-modern-rgb-syntax) ]\nrgba() = [ [<legacy-rgba-syntax>](#typedef-legacy-rgba-syntax) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<modern-rgba-syntax>](#typedef-modern-rgba-syntax) ]\n**[<legacy-rgb-syntax>](#typedef-legacy-rgb-syntax)** = rgb( [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)[#{3}](https://www.w3.org/TR/css-values-4/#mult-comma) [,](https://www.w3.org/TR/css-values-4/#comb-comma) [<alpha-value>](#typedef-color-alpha-value)[?](https://www.w3.org/TR/css-values-4/#mult-opt) ) [|](https://www.w3.org/TR/css-values-4/#comb-one)\n rgb( [<number>](https://www.w3.org/TR/css-values-4/#number-value)[#{3}](https://www.w3.org/TR/css-values-4/#mult-comma) [,](https://www.w3.org/TR/css-values-4/#comb-comma) [<alpha-value>](#typedef-color-alpha-value)[?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n**[<legacy-rgba-syntax>](#typedef-legacy-rgba-syntax)** = rgba( [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)[#{3}](https://www.w3.org/TR/css-values-4/#mult-comma) [,](https://www.w3.org/TR/css-values-4/#comb-comma) [<alpha-value>](#typedef-color-alpha-value)[?](https://www.w3.org/TR/css-values-4/#mult-opt) ) [|](https://www.w3.org/TR/css-values-4/#comb-one)\n rgba( [<number>](https://www.w3.org/TR/css-values-4/#number-value)[#{3}](https://www.w3.org/TR/css-values-4/#mult-comma) [,](https://www.w3.org/TR/css-values-4/#comb-comma) [<alpha-value>](#typedef-color-alpha-value)[?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n**[<modern-rgb-syntax>](#typedef-modern-rgb-syntax)** = rgb(\n [ [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none][{3}](https://www.w3.org/TR/css-values-4/#mult-num)\n [ / [[<alpha-value>](#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n**[<modern-rgba-syntax>](#typedef-modern-rgba-syntax)** = rgba(\n [ [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none][{3}](https://www.w3.org/TR/css-values-4/#mult-num)\n [ / [[<alpha-value>](#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n\n```\n\n \n \n \n Percentages\n Allowed for r, g and b\n \n Percent reference range \n For r, g and b: 0% = 0.0, 100% = 255.0\n For alpha: 0% = 0.0, 100% = 1.0 \n \n \n Tests\n \n\n [rgb-001.html](https://wpt.fyi/results/css/css-color/rgb-001.html) [(live test)](https://wpt.live/css/css-color/rgb-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rgb-001.html)\n [rgb-002.html](https://wpt.fyi/results/css/css-color/rgb-002.html) [(live test)](https://wpt.live/css/css-color/rgb-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rgb-002.html)\n [rgb-003.html](https://wpt.fyi/results/css/css-color/rgb-003.html) [(live test)](https://wpt.live/css/css-color/rgb-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rgb-003.html)\n [rgb-004.html](https://wpt.fyi/results/css/css-color/rgb-004.html) [(live test)](https://wpt.live/css/css-color/rgb-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rgb-004.html)\n [rgb-005.html](https://wpt.fyi/results/css/css-color/rgb-005.html) [(live test)](https://wpt.live/css/css-color/rgb-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rgb-005.html)\n [rgb-006.html](https://wpt.fyi/results/css/css-color/rgb-006.html) [(live test)](https://wpt.live/css/css-color/rgb-006.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rgb-006.html)\n [rgb-007.html](https://wpt.fyi/results/css/css-color/rgb-007.html) [(live test)](https://wpt.live/css/css-color/rgb-007.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rgb-007.html)\n [rgb-008.html](https://wpt.fyi/results/css/css-color/rgb-008.html) [(live test)](https://wpt.live/css/css-color/rgb-008.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rgb-008.html)\n [out-of-gamut-legacy-rgb.html](https://wpt.fyi/results/css/css-color/out-of-gamut-legacy-rgb.html) [(live test)](https://wpt.live/css/css-color/out-of-gamut-legacy-rgb.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/out-of-gamut-legacy-rgb.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n [color-computed-rgb.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-rgb.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-rgb.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-rgb.html)\n [color-invalid-rgb.html](https://wpt.fyi/results/css/css-color/parsing/color-invalid-rgb.html) [(live test)](https://wpt.live/css/css-color/parsing/color-invalid-rgb.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-rgb.html)\n [color-valid-rgb.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-rgb.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid-rgb.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-rgb.html)\n \n\n \n \nThe first three arguments specify the r, g and b (red, green, and blue)\n components of the color, respectively. 0% represents the minimum value for that color component in the sRGB gamut,\n and 100% represents the maximum value.\n\n \nThe percentage reference range of the color components comes from the historical fact that\n many graphics engines stored the color components internally as a single byte,\n which can hold integers between 0 and 255.\n Implementations should honor the precision of the component as authored or calculated wherever possible.\n If this is not possible, the component should be [rounded towards +∞](https://drafts.csswg.org/css-values-4/#combine-integers).\n\n \nThe final argument, the [<alpha-value>](#typedef-color-alpha-value), specifies the alpha of the color.\n If omitted, it defaults to 100%.\n\n \n Tests\n \n\n [background-color-rgb-001.html](https://wpt.fyi/results/css/css-color/background-color-rgb-001.html) [(live test)](https://wpt.live/css/css-color/background-color-rgb-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/background-color-rgb-001.html)\n [background-color-rgb-002.html](https://wpt.fyi/results/css/css-color/background-color-rgb-002.html) [(live test)](https://wpt.live/css/css-color/background-color-rgb-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/background-color-rgb-002.html)\n [background-color-rgb-003.html](https://wpt.fyi/results/css/css-color/background-color-rgb-003.html) [(live test)](https://wpt.live/css/css-color/background-color-rgb-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/background-color-rgb-003.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n \n\n \n \nValues outside these ranges are not invalid,\n but are clamped to the ranges defined here at parsed-value time.\n\n \nFor historical reasons, [rgb()](#funcdef-rgb) and [rgba()](#funcdef-rgba) also support a [legacy color syntax](#legacy-color-syntax).\n\n \n Tests\n \n\n [rgba-001.html](https://wpt.fyi/results/css/css-color/rgba-001.html) [(live test)](https://wpt.live/css/css-color/rgba-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rgba-001.html)\n [rgba-002.html](https://wpt.fyi/results/css/css-color/rgba-002.html) [(live test)](https://wpt.live/css/css-color/rgba-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rgba-002.html)\n [rgba-003.html](https://wpt.fyi/results/css/css-color/rgba-003.html) [(live test)](https://wpt.live/css/css-color/rgba-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rgba-003.html)\n [rgba-004.html](https://wpt.fyi/results/css/css-color/rgba-004.html) [(live test)](https://wpt.live/css/css-color/rgba-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rgba-004.html)\n [rgba-005.html](https://wpt.fyi/results/css/css-color/rgba-005.html) [(live test)](https://wpt.live/css/css-color/rgba-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rgba-005.html)\n [rgba-006.html](https://wpt.fyi/results/css/css-color/rgba-006.html) [(live test)](https://wpt.live/css/css-color/rgba-006.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rgba-006.html)\n [rgba-007.html](https://wpt.fyi/results/css/css-color/rgba-007.html) [(live test)](https://wpt.live/css/css-color/rgba-007.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rgba-007.html)\n [rgba-008.html](https://wpt.fyi/results/css/css-color/rgba-008.html) [(live test)](https://wpt.live/css/css-color/rgba-008.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rgba-008.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n \n\n \n 5.2. The RGB Hexadecimal Notations: #RRGGBB[](#hex-notation)\n \nThe CSS **hex color notation** allows an sRGB color to be specified by giving the components as hexadecimal numbers,\n which is similar to how colors are often written directly in computer code.\n It’s also shorter than writing the same color out in [rgb()](#funcdef-rgb) notation.\n\n \nThe syntax of a **<hex-color>** is a [<hash-token>](https://www.w3.org/TR/css-syntax-3/#typedef-hash-token) token whose value consists of 3, 4, 6, or 8 hexadecimal digits.\n In other words, a hex color is written as a hash character, \"#\",\n followed by some number of digits 0-9 or letters a-f\n (the case of the letters doesn’t matter - #00ff00 is identical to #00FF00).\n\n \nThe number of hex digits given determines how to decode the hex notation into an RGB color:\n\n \n 6 digits \n \n The first pair of digits, interpreted as a hexadecimal number,\n specifies the red component of the color,\n where 00 represents the minimum value\n and ff (255 in decimal) represents the maximum.\n The next pair of digits, interpreted in the same way,\n specifies the green component,\n and the last pair specifies the blue.\n The alpha component of the color is fully opaque. \n [](#ex-hex6) In other words, #00ff00 represents the same color as rgb(0 255 0) (a lime green). \n 8 digits \n \n The first 6 digits are interpreted identically to the 6-digit notation.\n The last pair of digits, interpreted as a hexadecimal number,\n specifies the alpha component of the color,\n where 00 represents a fully transparent color\n and ff represent a fully opaque color. \n [](#ex-hex8) In other words, #0000ffcc represents the same color as rgb(0 0 100% / 80%) (a slightly-transparent blue). \n 3 digits \n \n This is a shorter variant of the 6-digit notation.\n The first digit, interpreted as a hexadecimal number,\n specifies the red component of the color,\n where 0 represents the minimum value\n and f represents the maximum.\n The next two digits represent the green and blue components, respectively,\n in the same way.\n The alpha component of the color is fully opaque. \n [](#ex-hex3) This syntax is often explained by saying that it’s identical to a 6-digit notation obtained by \"duplicating\" all of the digits.\n For example, the notation #123 specifies the same color as the notation #112233.\n This method of specifying a color has lower \"resolution\" than the 6-digit notation;\n there are only 4096 possible colors expressible in the 3-digit hex syntax,\n as opposed to approximately 17 million in 6-digit hex syntax. \n 4 digits \n This is a shorter variant of the 8-digit notation,\n \"expanded\" in the same way as the 3-digit notation is.\n The first digit, interpreted as a hexadecimal number,\n specifies the red component of the color,\n where 0 represents the minimum value\n and f represents the maximum.\n The next three digits represent the green, blue, and alpha components, respectively. \n \n \n Tests\n \n\n [hex-001.html](https://wpt.fyi/results/css/css-color/hex-001.html) [(live test)](https://wpt.live/css/css-color/hex-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hex-001.html)\n [hex-002.html](https://wpt.fyi/results/css/css-color/hex-002.html) [(live test)](https://wpt.live/css/css-color/hex-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hex-002.html)\n [hex-003.html](https://wpt.fyi/results/css/css-color/hex-003.html) [(live test)](https://wpt.live/css/css-color/hex-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hex-003.html)\n [hex-004.html](https://wpt.fyi/results/css/css-color/hex-004.html) [(live test)](https://wpt.live/css/css-color/hex-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hex-004.html)\n [border-bottom-color.xht](https://wpt.fyi/results/css/css-color/border-bottom-color.xht) [(live test)](https://wpt.live/css/css-color/border-bottom-color.xht) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/border-bottom-color.xht)\n [border-left-color.xht](https://wpt.fyi/results/css/css-color/border-left-color.xht) [(live test)](https://wpt.live/css/css-color/border-left-color.xht) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/border-left-color.xht)\n [border-right-color.xht](https://wpt.fyi/results/css/css-color/border-right-color.xht) [(live test)](https://wpt.live/css/css-color/border-right-color.xht) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/border-right-color.xht)\n [border-top-color.xht](https://wpt.fyi/results/css/css-color/border-top-color.xht) [(live test)](https://wpt.live/css/css-color/border-top-color.xht) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/border-top-color.xht)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n [color-computed-hex-color.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-hex-color.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-hex-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-hex-color.html)\n [color-invalid-hex-color.html](https://wpt.fyi/results/css/css-color/parsing/color-invalid-hex-color.html) [(live test)](https://wpt.live/css/css-color/parsing/color-invalid-hex-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-hex-color.html)",
      "rawLength": 32974
    },
    "color-keywords": {
      "id": "color-keywords",
      "heading": "6.  Color Keywords",
      "content": "In addition to the various numeric syntaxes for [<color>](#typedef-color)s,\n CSS defines several sets of color keywords that can be used instead—​each with their own advantages or use cases.\n\n 6.1. Named Colors[](#named-colors)\n \nCSS defines a large set of **named colors**,\n so that common colors can be written and read more easily.\n A **<named-color>** is written as an [<ident>](https://www.w3.org/TR/css-values-4/#typedef-ident),\n accepted anywhere a [<color>](#typedef-color) is.\n As usual for CSS-defined <ident>s,\n all of these keywords are [ASCII case-insensitive](https://infra.spec.whatwg.org/#ascii-case-insensitive).\n\n \nThe names resolve to colors in sRGB.\n\n \n16 of CSS’s named colors come from the VGA palette originally, and were then adopted into HTML:\n aqua, black, blue, fuchsia, gray, green, lime, maroon, navy, olive, purple, red, silver, teal, white, and yellow.\n Most of the rest\n come from one version of the X11 color system,\n used in Unix-derived systems to specify colors for the console,\n and were then adopted into SVG.\n\n \nNote: these color names are standardized here, not because they are good,\n but because their use and implementation has been widespread for decades\n and the standard needs to reflect reality.\n Indeed, it is often hard to imagine what each name will look like (hence the list below);\n the names are not evenly distributed throughout the sRGB color volume,\n the names are not even internally consistent\n ( [darkgray](#valdef-color-darkgray) is lighter than [gray](#valdef-color-gray), while [lightpink](#valdef-color-lightpink) is darker than [pink](#valdef-color-pink)),\n and some names\n (such as [indianred](#valdef-color-indianred),\n which was originally named after a red pigment from India),\n have been found to be offensive.\n Thus, their use is not encouraged.\n\n \n(Two special color values, [transparent](#valdef-color-transparent) and [currentcolor](#valdef-color-currentcolor),\n are specially defined in their own sections.)\n\n \nThe following table defines all of the opaque named colors,\n by giving equivalent numeric specifications in the other color syntaxes.\n\n \n \n \n Named \n Numeric \n Color name \n Hex rgb \n Decimal \n \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-aliceblue\">aliceblue\n #f0f8ff\n 240 248 255 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-antiquewhite\">antiquewhite\n #faebd7\n 250 235 215 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-aqua\">aqua\n #00ffff\n 0 255 255 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-aquamarine\">aquamarine\n #7fffd4\n 127 255 212 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-azure\">azure\n #f0ffff\n 240 255 255 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-beige\">beige\n #f5f5dc\n 245 245 220 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-bisque\">bisque\n #ffe4c4\n 255 228 196 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-black\">black\n #000000\n 0 0 0 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-blanchedalmond\">blanchedalmond\n #ffebcd\n 255 235 205 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-blue\">blue\n #0000ff\n 0 0 255 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-blueviolet\">blueviolet\n #8a2be2\n 138 43 226 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-brown\">brown\n #a52a2a\n 165 42 42 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-burlywood\">burlywood\n #deb887\n 222 184 135 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-cadetblue\">cadetblue\n #5f9ea0\n 95 158 160 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-chartreuse\">chartreuse\n #7fff00\n 127 255 0 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-chocolate\">chocolate\n #d2691e\n 210 105 30 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-coral\">coral\n #ff7f50\n 255 127 80 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-cornflowerblue\">cornflowerblue\n #6495ed\n 100 149 237 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-cornsilk\">cornsilk\n #fff8dc\n 255 248 220 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-crimson\">crimson\n #dc143c\n 220 20 60 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-cyan\">cyan\n #00ffff\n 0 255 255 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkblue\">darkblue\n #00008b\n 0 0 139 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkcyan\">darkcyan\n #008b8b\n 0 139 139 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkgoldenrod\">darkgoldenrod\n #b8860b\n 184 134 11 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkgray\">darkgray\n #a9a9a9\n 169 169 169 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkgreen\">darkgreen\n #006400\n 0 100 0 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkgrey\">darkgrey\n #a9a9a9\n 169 169 169 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkkhaki\">darkkhaki\n #bdb76b\n 189 183 107 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkmagenta\">darkmagenta\n #8b008b\n 139 0 139 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkolivegreen\">darkolivegreen\n #556b2f\n 85 107 47 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkorange\">darkorange\n #ff8c00\n 255 140 0 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkorchid\">darkorchid\n #9932cc\n 153 50 204 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkred\">darkred\n #8b0000\n 139 0 0 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darksalmon\">darksalmon\n #e9967a\n 233 150 122 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkseagreen\">darkseagreen\n #8fbc8f\n 143 188 143 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkslateblue\">darkslateblue\n #483d8b\n 72 61 139 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkslategray\">darkslategray\n #2f4f4f\n 47 79 79 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkslategrey\">darkslategrey\n #2f4f4f\n 47 79 79 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkturquoise\">darkturquoise\n #00ced1\n 0 206 209 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-darkviolet\">darkviolet\n #9400d3\n 148 0 211 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-deeppink\">deeppink\n #ff1493\n 255 20 147 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-deepskyblue\">deepskyblue\n #00bfff\n 0 191 255 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-dimgray\">dimgray\n #696969\n 105 105 105 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-dimgrey\">dimgrey\n #696969\n 105 105 105 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-dodgerblue\">dodgerblue\n #1e90ff\n 30 144 255 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-firebrick\">firebrick\n #b22222\n 178 34 34 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-floralwhite\">floralwhite\n #fffaf0\n 255 250 240 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-forestgreen\">forestgreen\n #228b22\n 34 139 34 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-fuchsia\">fuchsia\n #ff00ff\n 255 0 255 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-gainsboro\">gainsboro\n #dcdcdc\n 220 220 220 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-ghostwhite\">ghostwhite\n #f8f8ff\n 248 248 255 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-gold\">gold\n #ffd700\n 255 215 0 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-goldenrod\">goldenrod\n #daa520\n 218 165 32 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-gray\">gray\n #808080\n 128 128 128 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-green\">green\n #008000\n 0 128 0 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-greenyellow\">greenyellow\n #adff2f\n 173 255 47 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-grey\">grey\n #808080\n 128 128 128 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-honeydew\">honeydew\n #f0fff0\n 240 255 240 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-hotpink\">hotpink\n #ff69b4\n 255 105 180 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-indianred\">indianred\n #cd5c5c\n 205 92 92 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-indigo\">indigo\n #4b0082\n 75 0 130 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-ivory\">ivory\n #fffff0\n 255 255 240 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-khaki\">khaki\n #f0e68c\n 240 230 140 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lavender\">lavender\n #e6e6fa\n 230 230 250 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lavenderblush\">lavenderblush\n #fff0f5\n 255 240 245 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lawngreen\">lawngreen\n #7cfc00\n 124 252 0 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lemonchiffon\">lemonchiffon\n #fffacd\n 255 250 205 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lightblue\">lightblue\n #add8e6\n 173 216 230 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lightcoral\">lightcoral\n #f08080\n 240 128 128 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lightcyan\">lightcyan\n #e0ffff\n 224 255 255 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lightgoldenrodyellow\">lightgoldenrodyellow\n #fafad2\n 250 250 210 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lightgray\">lightgray\n #d3d3d3\n 211 211 211 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lightgreen\">lightgreen\n #90ee90\n 144 238 144 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lightgrey\">lightgrey\n #d3d3d3\n 211 211 211 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lightpink\">lightpink\n #ffb6c1\n 255 182 193 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lightsalmon\">lightsalmon\n #ffa07a\n 255 160 122 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lightseagreen\">lightseagreen\n #20b2aa\n 32 178 170 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lightskyblue\">lightskyblue\n #87cefa\n 135 206 250 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lightslategray\">lightslategray\n #778899\n 119 136 153 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lightslategrey\">lightslategrey\n #778899\n 119 136 153 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lightsteelblue\">lightsteelblue\n #b0c4de\n 176 196 222 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lightyellow\">lightyellow\n #ffffe0\n 255 255 224 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-lime\">lime\n #00ff00\n 0 255 0 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-limegreen\">limegreen\n #32cd32\n 50 205 50 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-linen\">linen\n #faf0e6\n 250 240 230 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-magenta\">magenta\n #ff00ff\n 255 0 255 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-maroon\">maroon\n #800000\n 128 0 0 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-mediumaquamarine\">mediumaquamarine\n #66cdaa\n 102 205 170 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-mediumblue\">mediumblue\n #0000cd\n 0 0 205 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-mediumorchid\">mediumorchid\n #ba55d3\n 186 85 211 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-mediumpurple\">mediumpurple\n #9370db\n 147 112 219 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-mediumseagreen\">mediumseagreen\n #3cb371\n 60 179 113 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-mediumslateblue\">mediumslateblue\n #7b68ee\n 123 104 238 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-mediumspringgreen\">mediumspringgreen\n #00fa9a\n 0 250 154 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-mediumturquoise\">mediumturquoise\n #48d1cc\n 72 209 204 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-mediumvioletred\">mediumvioletred\n #c71585\n 199 21 133 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-midnightblue\">midnightblue\n #191970\n 25 25 112 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-mintcream\">mintcream\n #f5fffa\n 245 255 250 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-mistyrose\">mistyrose\n #ffe4e1\n 255 228 225 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-moccasin\">moccasin\n #ffe4b5\n 255 228 181 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-navajowhite\">navajowhite\n #ffdead\n 255 222 173 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-navy\">navy\n #000080\n 0 0 128 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-oldlace\">oldlace\n #fdf5e6\n 253 245 230 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-olive\">olive\n #808000\n 128 128 0 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-olivedrab\">olivedrab\n #6b8e23\n 107 142 35 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-orange\">orange\n #ffa500\n 255 165 0 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-orangered\">orangered\n #ff4500\n 255 69 0 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-orchid\">orchid\n #da70d6\n 218 112 214 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-palegoldenrod\">palegoldenrod\n #eee8aa\n 238 232 170 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-palegreen\">palegreen\n #98fb98\n 152 251 152 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-paleturquoise\">paleturquoise\n #afeeee\n 175 238 238 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-palevioletred\">palevioletred\n #db7093\n 219 112 147 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-papayawhip\">papayawhip\n #ffefd5\n 255 239 213 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-peachpuff\">peachpuff\n #ffdab9\n 255 218 185 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-peru\">peru\n #cd853f\n 205 133 63 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-pink\">pink\n #ffc0cb\n 255 192 203 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-plum\">plum\n #dda0dd\n 221 160 221 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-powderblue\">powderblue\n #b0e0e6\n 176 224 230 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-purple\">purple\n #800080\n 128 0 128 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-rebeccapurple\">rebeccapurple\n #663399\n 102 51 153 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-red\">red\n #ff0000\n 255 0 0 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-rosybrown\">rosybrown\n #bc8f8f\n 188 143 143 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-royalblue\">royalblue\n #4169e1\n 65 105 225 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-saddlebrown\">saddlebrown\n #8b4513\n 139 69 19 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-salmon\">salmon\n #fa8072\n 250 128 114 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-sandybrown\">sandybrown\n #f4a460\n 244 164 96 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-seagreen\">seagreen\n #2e8b57\n 46 139 87 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-seashell\">seashell\n #fff5ee\n 255 245 238 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-sienna\">sienna\n #a0522d\n 160 82 45 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-silver\">silver\n #c0c0c0\n 192 192 192 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-skyblue\">skyblue\n #87ceeb\n 135 206 235 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-slateblue\">slateblue\n #6a5acd\n 106 90 205 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-slategray\">slategray\n #708090\n 112 128 144 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-slategrey\">slategrey\n #708090\n 112 128 144 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-snow\">snow\n #fffafa\n 255 250 250 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-springgreen\">springgreen\n #00ff7f\n 0 255 127 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-steelblue\">steelblue\n #4682b4\n 70 130 180 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-tan\">tan\n #d2b48c\n 210 180 140 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-teal\">teal\n #008080\n 0 128 128 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-thistle\">thistle\n #d8bfd8\n 216 191 216 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-tomato\">tomato\n #ff6347\n 255 99 71 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-turquoise\">turquoise\n #40e0d0\n 64 224 208 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-violet\">violet\n #ee82ee\n 238 130 238 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-wheat\">wheat\n #f5deb3\n 245 222 179 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-white\">white\n #ffffff\n 255 255 255 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-whitesmoke\">whitesmoke\n #f5f5f5\n 245 245 245 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-yellow\">yellow\n #ffff00\n 255 255 0 \n \n \n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-yellowgreen\">yellowgreen\n #9acd32\n 154 205 50 \n \n \nNote: this list of colors and their definitions is a superset of the list of [named colors defined by SVG 1.1](https://www.w3.org/TR/SVG11/types.html#ColorKeywords).\n\n For historical reasons, this is also referred to as the X11 color set. \n \nNote: The history of the X11 color system is interesting,\n and was excellently summarized by [Alex Sexton in their talk “Peachpuffs and Lemonchiffons”](https://www.youtube.com/watch?v=HmStJQzclHc).\n\n \n Tests\n \n\n [named-001.html](https://wpt.fyi/results/css/css-color/named-001.html) [(live test)](https://wpt.live/css/css-color/named-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/named-001.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n [color-computed-named-color.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-named-color.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-named-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-named-color.html)\n [color-invalid-named-color.html](https://wpt.fyi/results/css/css-color/parsing/color-invalid-named-color.html) [(live test)](https://wpt.live/css/css-color/parsing/color-invalid-named-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-named-color.html)\n \n\n \n 6.2. System Colors[](#css-system-colors)\n \nIn general, the [<system-color>](#typedef-system-color) keywords\n reflect default color choices made by the user, the browser, or the OS.\n They are typically used in the browser default stylesheet, for this reason.\n\n \nTo maintain legibility,\n the [<system-color>](#typedef-system-color) keywords also respond to light mode or dark mode changes.\n\n \n [](#ex-LM-DM-links) For example, traditional blue link text is legible on a white background\n (WCAG contrast 8.59:1, AAA pass)\n but would not be legible on a black background\n (WCAG contrast 2.44:1, AA fail).\n Instead, a lighter blue such as #81D9FE would be used in dark mode\n (WCAG contrast 13.28:1, AAA pass). \n \n \n Legible link text\n\n \n Illegible link text\n\n \n Legible link text\n\n \n \n \nHowever, in [forced colors mode](https://www.w3.org/TR/css-color-adjust-1/#forced-colors-mode),\n most colors on the page are forced into a restricted, user-chosen palette.\n The **<system-color>** keywords\n expose these user-chosen colors\n so that the rest of the page can integrate with this restricted palette.\n\n \nWhen the [forced-colors](https://drafts.csswg.org/mediaqueries-5/#descdef-media-forced-colors) [media feature](https://www.w3.org/TR/mediaqueries-5/#media-feature) is active,\n authors should use the [<system-color>](#typedef-system-color) keywords as color values\n in properties other than those listed in [CSS Color Adjustment 1 § 3.1 Properties Affected by Forced Colors Mode](https://www.w3.org/TR/css-color-adjust-1/#forced-colors-properties),\n to ensure legibility and consistency across the page\n and avoid an uncoordinated mishmash of user-forced and page-chosen colors.\n\n \n Tests\n \n\n [system-color-consistency.html](https://wpt.fyi/results/css/css-color/system-color-consistency.html) [(live test)](https://wpt.live/css/css-color/system-color-consistency.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/system-color-consistency.html)\n [system-color-support.html](https://wpt.fyi/results/css/css-color/system-color-support.html) [(live test)](https://wpt.live/css/css-color/system-color-support.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/system-color-support.html)\n [color-valid-system-color.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-system-color.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid-system-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-system-color.html)\n \n\n \n \nWhen the values of [<system-color>](#typedef-system-color) keywords come from the browser,\n (as opposed to being OS defaults or user choices) the browser should\n ensure that [matching\n foreground/background pairs](#system-color-pairs) have a minimum\n of WCAG AA contrast.\n However, user preferences (for higher or lower contrast),\n whether set as a browser preference, a user stylesheet,\n or by altering the OS defaults,\n must take precedence over this requirement.\n\n \nAuthors may also use these keywords at any time,\n but should be careful to use the colors\n in [matching background-foreground pairs](#system-color-pairs) to ensure appropriate contrast,\n as any particular contrast relationship across non-matching pairs\n (e.g. [Canvas](#valdef-color-canvas) and [ButtonText](#valdef-color-buttontext))\n is not guaranteed.\n\n \nThe [<system-color>](#typedef-system-color) keywords are defined as follows:\n\n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-accentcolor\">AccentColor \n  Background of accented user interface controls. \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-accentcolortext\">AccentColorText \n  Text of accented user interface controls. \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-activetext\">ActiveText \n  Text in active links. For light backgrounds, traditionally red. \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-buttonborder\">ButtonBorder \n  The base border color for push buttons. \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-buttonface\">ButtonFace \n  The face background color for push buttons. \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-buttontext\">ButtonText \n  Text on push buttons. \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-canvas\">Canvas \n  Background of application content or documents. \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-canvastext\">CanvasText \n  Text in application content or documents. \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-field\">Field \n  Background of input fields. \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-fieldtext\">FieldText \n  Text in input fields. \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-graytext\">GrayText \n  Disabled text.\n (Often, but not necessarily, gray.) \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-highlight\">Highlight \n  Background of selected text, for example from ::selection. \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-highlighttext\">HighlightText \n  Text of selected text. \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-linktext\">LinkText \n  Text in non-active, non-visited links. For light backgrounds, traditionally blue. \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-mark\">Mark \n  Background of text that has been specially marked\n (such as by the HTML `[mark](https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-mark-element)` element). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-marktext\">MarkText \n  Text that has been specially marked\n (such as by the HTML `[mark](https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-mark-element)` element). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-selecteditem\">SelectedItem \n  Background of selected items, for example a selected checkbox. \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-selecteditemtext\">SelectedItemText \n  Text of selected items. \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-visitedtext\">VisitedText \n  Text in visited links. For light backgrounds, traditionally purple. \n \n \n Tests\n \n\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n [relative-currentcolor-visited-getcomputedstyle.html](https://wpt.fyi/results/css/css-color/relative-currentcolor-visited-getcomputedstyle.html) [(live test)](https://wpt.live/css/css-color/relative-currentcolor-visited-getcomputedstyle.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-visited-getcomputedstyle.html)\n [system-color-compute.html](https://wpt.fyi/results/css/css-color/system-color-compute.html) [(live test)](https://wpt.live/css/css-color/system-color-compute.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/system-color-compute.html)\n [system-color-hightlights-vs-getSelection-001.html](https://wpt.fyi/results/css/css-color/system-color-hightlights-vs-getSelection-001.html) [(live test)](https://wpt.live/css/css-color/system-color-hightlights-vs-getSelection-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/system-color-hightlights-vs-getSelection-001.html)\n [system-color-hightlights-vs-getSelection-002.html](https://wpt.fyi/results/css/css-color/system-color-hightlights-vs-getSelection-002.html) [(live test)](https://wpt.live/css/css-color/system-color-hightlights-vs-getSelection-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/system-color-hightlights-vs-getSelection-002.html)\n \n\n \n \nNote: As with all other [keywords](https://www.w3.org/TR/css-values-4/#css-keyword),\n these names are [ASCII case-insensitive](https://infra.spec.whatwg.org/#ascii-case-insensitive).\n They are shown here with mixed capitalization for legibility.\n\n \nFor systems that do not have a particular system UI concept,\n the specified value should be mapped to\n the most closely related system color value that exists.\n The following **system color pairings** are expected to form legible background-foreground colors:\n\n \n\n \n \n[Canvas](#valdef-color-canvas) background with [CanvasText](#valdef-color-canvastext), [LinkText](#valdef-color-linktext), [VisitedText](#valdef-color-visitedtext), [ActiveText](#valdef-color-activetext) foreground.\n\n \n \n[Canvas](#valdef-color-canvas) background with a [ButtonBorder](#valdef-color-buttonborder) border and adjacent color Canvas\n\n \n \n[ButtonFace](#valdef-color-buttonface) background with [ButtonText](#valdef-color-buttontext) foreground.\n\n \n \n[Field](#valdef-color-field) background with [FieldText](#valdef-color-fieldtext) foreground.\n\n \n \n[Mark](#valdef-color-mark) background with [MarkText](#valdef-color-marktext) foreground\n\n \n \n[ButtonFace](#valdef-color-buttonface) or [Field](#valdef-color-field) background with a [ButtonBorder](#valdef-color-buttonborder) border and adjacent color [Canvas](#valdef-color-canvas)'\n\n \n \n[Highlight](#valdef-color-highlight) background with [HighlightText](#valdef-color-highlighttext) foreground.\n\n \n \n[SelectedItem](#valdef-color-selecteditem) background with [SelectedItemText](#valdef-color-selecteditemtext) foreground.\n\n \n \n[AccentColor](#valdef-color-accentcolor) background with [AccentColorText](#valdef-color-accentcolortext) foreground.\n\n \n\n \nAdditionally, [GrayText](#valdef-color-graytext) is expected to be readable,\n though possibly at a lower contrast rating,\n over any of the backgrounds.\n\n \n [](#ex-SystemCombo) For example, the system color combinations in the browser you are currently using: \n \nCanvas with CanvasText: CanvasText\n\n \nCanvas with LinkText: LinkText\n\n \nCanvas with VisitedText: VisitedText\n\n \nCanvas with ActiveText: ActiveText\n\n \nCanvas with GrayText: GrayText\n\n \nCanvas with ButtonBorder and adjacent Canvas: CanvasTextAdjacent\n\n \nButtonFace with ButtonText: ButtonText\n\n \nButtonFace with ButtonText and ButtonBorder: ButtonText\n\n \nButtonFace with GrayText: GrayText\n\n \nField with FieldText: FieldText\n\n \nField with GrayText: GrayText\n\n \nMark with MarkText: MarkText\n\n \nMark with GrayText: GrayText\n\n \nHighlight with HighlightText: HighlightText\n\n \nHighlight with GrayText: GrayText\n\n \nSelectedItem with SelectedItemText: SelectedItemText\n\n \nAccentColor with AccentColorText: AccentColorText\n\n \nAccentColor with GrayText: GrayText\n\n \n \nEarlier versions of CSS defined additional [<system-color>](#typedef-system-color)s,\n which have since been deprecated.\n These are documented in [Appendix A: Deprecated CSS System Colors](#deprecated-system-colors).\n\n \nNote: The [<system-color>](#typedef-system-color)s incur some privacy and security risk, as detailed in [§ 21 Privacy Considerations](#privacy) and [§ 20 Security Considerations](#security).\n\n \nUser Agents may,\n to mitigate privacy and security risks such as fingerprinting,\n elect to return fixed values for the used value of system colors\n which do not reflect customisation or theming choices\n made by the user.\n\n 6.3. The [transparent](#valdef-color-transparent) keyword[](#transparent-color)\n \nThe keyword **\" data-dfn-type=\"value\" data-export id=\"valdef-color-transparent\">transparent** specifies a [transparent black](#transparent-black).\n It is a type of [<named-color>](#typedef-named-color).\n\n \n Tests\n \n\n [color-computed.html](https://wpt.fyi/results/css/css-color/parsing/color-computed.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n [t423-transparent-1-a.xht](https://wpt.fyi/results/css/css-color/t423-transparent-1-a.xht) [(live test)](https://wpt.live/css/css-color/t423-transparent-1-a.xht) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/t423-transparent-1-a.xht)\n [t423-transparent-2-a.xht](https://wpt.fyi/results/css/css-color/t423-transparent-2-a.xht) [(live test)](https://wpt.live/css/css-color/t423-transparent-2-a.xht) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/t423-transparent-2-a.xht)\n \n\n \n 6.4. The [currentcolor](#valdef-color-currentcolor) keyword[](#currentcolor-color)\n \nThe keyword **\" data-dfn-type=\"value\" data-export id=\"valdef-color-currentcolor\">currentcolor** represents value of the [color](#propdef-color) property on the same element.\n Unlike [<named-color>](#typedef-named-color)s, it is not restricted to sRGB;\n the value can be any [<color>](#typedef-color).\n Its [used values](https://www.w3.org/TR/css-cascade-5/#used-value) is determined by [resolving color values](#resolving-other-colors).\n\n \n Tests\n \n\n [border-color-currentcolor.html](https://wpt.fyi/results/css/css-color/border-color-currentcolor.html) [(live test)](https://wpt.live/css/css-color/border-color-currentcolor.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/border-color-currentcolor.html)\n [color-mix-currentcolor-nested-for-color-property.html](https://wpt.fyi/results/css/css-color/color-mix-currentcolor-nested-for-color-property.html) [(live test)](https://wpt.live/css/css-color/color-mix-currentcolor-nested-for-color-property.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-nested-for-color-property.html)\n [currentcolor-001.html](https://wpt.fyi/results/css/css-color/currentcolor-001.html) [(live test)](https://wpt.live/css/css-color/currentcolor-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/currentcolor-001.html)\n [currentcolor-002.html](https://wpt.fyi/results/css/css-color/currentcolor-002.html) [(live test)](https://wpt.live/css/css-color/currentcolor-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/currentcolor-002.html)\n [currentcolor-003.html](https://wpt.fyi/results/css/css-color/currentcolor-003.html) [(live test)](https://wpt.live/css/css-color/currentcolor-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/currentcolor-003.html)\n [currentcolor-004.html](https://wpt.fyi/results/css/css-color/currentcolor-004.html) [(live test)](https://wpt.live/css/css-color/currentcolor-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/currentcolor-004.html)\n [currentcolor-visited-fallback.html](https://wpt.fyi/results/css/css-color/currentcolor-visited-fallback.html) [(live test)](https://wpt.live/css/css-color/currentcolor-visited-fallback.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/currentcolor-visited-fallback.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n \n\n \n \n [](#ex-currentcolor) Here’s a simple example showing how to use the [currentcolor](#valdef-color-currentcolor) keyword: \n\n```\n.foo {\n color:  red;\n background-color:  currentcolor;\n}\n\n```\n\n \nThis is equivalent to writing:\n\n```\n.foo {\n color:  red;\n background-color:  red;\n}\n\n```\n\n \n \n [](#ex-textemph-currentcolor) For example, the [text-emphasis-color](https://www.w3.org/TR/css-text-decor-4/#propdef-text-emphasis-color) property [[CSS3-TEXT-DECOR]](#biblio-css3-text-decor),\n whose initial value is [currentcolor](#valdef-color-currentcolor),\n by default matches the text color\n even as the [color](#propdef-color) property changes across elements. \n\n```\n<p><em>Some <strong>really</strong> emphasized text.</em>\n<style>\np { color: black; }\nem { text-emphasis: dot; }\nstrong { color: red; }\n</style>\n\n```\n\n \n\n \nIn the above example, the emphasis marks are black over the text \"Some\" and \"emphasized text\",\n but red over the text \"really\".\n\n \n \nNote: Multi-word keywords in CSS usually separate their component words with hyphens. [currentcolor](#valdef-color-currentcolor) doesn’t, because (deep breath)\n it was originally introduced in SVG\n as a property value, \"current-color\" with the usual CSS spelling.\n It (along with all other properties and their values)\n then became presentation attributes and attribute values,\n as well as properties,\n to make generation with XSLT easier.\n Then all of the presentation attributes were changed\n from hyphenated to camelCase, because the DOM\n had an issue with hyphen meaning \"minus\".\n But then, they didn’t follow CSS conventions\n anymore so all the properties and property values\n that were already part of CSS were changed back to hyphenated! currentcolor was not a part of CSS at that time,\n so remained camelCased.\n Only later did CSS pick it up,\n at which point the capitalization stopped mattering,\n as CSS keywords are [ASCII case-insensitive](https://infra.spec.whatwg.org/#ascii-case-insensitive).",
      "rawLength": 84121
    },
    "the-hsl-notation": {
      "id": "the-hsl-notation",
      "heading": "7.  HSL Colors: hsl() and hsla() functions",
      "content": "The RGB system for specifying colors,\n while convenient for machines and graphic libraries,\n is often regarded as very difficult for humans to gain an intuitive grasp on.\n It’s not easy to tell, for example,\n how to alter an RGB color to produce a lighter variant of the same hue.\n\n \nThere are several other color schemes possible.\n One such is the HSL [[HSL]](#biblio-hsl) color scheme,\n which is more intuitive to use,\n but still maps easily back to RGB colors.\n\n \n**HSL** colors are specified\n as a triplet of hue, saturation, and lightness.\n The syntax of the [hsl()](#funcdef-hsl) and [hsla()](#funcdef-hsla) functions is:\n\n```\nhsl() = [ [<legacy-hsl-syntax>](#typedef-legacy-hsl-syntax) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<modern-hsl-syntax>](#typedef-modern-hsl-syntax) ]\nhsla() = [ [<legacy-hsla-syntax>](#typedef-legacy-hsla-syntax) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<modern-hsla-syntax>](#typedef-modern-hsla-syntax) ]\n**[<modern-hsl-syntax>](#typedef-modern-hsl-syntax)** = hsl(\n [[<hue>](#typedef-hue) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ / [[<alpha-value>](#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n**[<modern-hsla-syntax>](#typedef-modern-hsla-syntax)** = hsla(\n [[<hue>](#typedef-hue) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ / [[<alpha-value>](#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n**[<legacy-hsl-syntax>](#typedef-legacy-hsl-syntax)** = hsl( [<hue>](#typedef-hue)[,](https://www.w3.org/TR/css-values-4/#comb-comma) [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)[,](https://www.w3.org/TR/css-values-4/#comb-comma) [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)[,](https://www.w3.org/TR/css-values-4/#comb-comma) [<alpha-value>](#typedef-color-alpha-value)[?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n**[<legacy-hsla-syntax>](#typedef-legacy-hsla-syntax)** = hsla( [<hue>](#typedef-hue)[,](https://www.w3.org/TR/css-values-4/#comb-comma) [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)[,](https://www.w3.org/TR/css-values-4/#comb-comma) [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)[,](https://www.w3.org/TR/css-values-4/#comb-comma) [<alpha-value>](#typedef-color-alpha-value)[?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n\n```\n\n \n \n \n Percentages\n Allowed for S and L\n \n Percent reference range \n for S and L: 0% = 0.0, 100% = 100.0 \n \n Powerless hue ε\n S <= 0.001\n \n \n Tests\n \n\n [hsl-001.html](https://wpt.fyi/results/css/css-color/hsl-001.html) [(live test)](https://wpt.live/css/css-color/hsl-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsl-001.html)\n [hsl-002.html](https://wpt.fyi/results/css/css-color/hsl-002.html) [(live test)](https://wpt.live/css/css-color/hsl-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsl-002.html)\n [hsl-003.html](https://wpt.fyi/results/css/css-color/hsl-003.html) [(live test)](https://wpt.live/css/css-color/hsl-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsl-003.html)\n [hsl-004.html](https://wpt.fyi/results/css/css-color/hsl-004.html) [(live test)](https://wpt.live/css/css-color/hsl-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsl-004.html)\n [hsl-005.html](https://wpt.fyi/results/css/css-color/hsl-005.html) [(live test)](https://wpt.live/css/css-color/hsl-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsl-005.html)\n [hsl-006.html](https://wpt.fyi/results/css/css-color/hsl-006.html) [(live test)](https://wpt.live/css/css-color/hsl-006.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsl-006.html)\n [hsl-007.html](https://wpt.fyi/results/css/css-color/hsl-007.html) [(live test)](https://wpt.live/css/css-color/hsl-007.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsl-007.html)\n [hsl-008.html](https://wpt.fyi/results/css/css-color/hsl-008.html) [(live test)](https://wpt.live/css/css-color/hsl-008.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsl-008.html)\n [hsl-clamp-negative-saturation.html](https://wpt.fyi/results/css/css-color/hsl-clamp-negative-saturation.html) [(live test)](https://wpt.live/css/css-color/hsl-clamp-negative-saturation.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsl-clamp-negative-saturation.html)\n [background-color-hsl-001.html](https://wpt.fyi/results/css/css-color/background-color-hsl-001.html) [(live test)](https://wpt.live/css/css-color/background-color-hsl-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/background-color-hsl-001.html)\n [background-color-hsl-002.html](https://wpt.fyi/results/css/css-color/background-color-hsl-002.html) [(live test)](https://wpt.live/css/css-color/background-color-hsl-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/background-color-hsl-002.html)\n [background-color-hsl-003.html](https://wpt.fyi/results/css/css-color/background-color-hsl-003.html) [(live test)](https://wpt.live/css/css-color/background-color-hsl-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/background-color-hsl-003.html)\n [background-color-hsl-004.html](https://wpt.fyi/results/css/css-color/background-color-hsl-004.html) [(live test)](https://wpt.live/css/css-color/background-color-hsl-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/background-color-hsl-004.html)\n [color-computed-hsl.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-hsl.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-hsl.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-hsl.html)\n [color-invalid-hsl.html](https://wpt.fyi/results/css/css-color/parsing/color-invalid-hsl.html) [(live test)](https://wpt.live/css/css-color/parsing/color-invalid-hsl.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-hsl.html)\n [color-valid-hsl.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-hsl.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid-hsl.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-hsl.html)\n \n\n \n \nThe first argument specifies the hue angle.\n\n \nIn HSL (and HWB) the angle 0deg represents sRGB primary red\n (as does 360deg, 720deg, etc.),\n and the rest of the hues are spread around the circle,\n so 120deg represents sRGB primary green, 240deg represents sRGB primary blue, etc.\n\n \nThe next two arguments are the saturation and lightness, respectively.\n For saturation, 100% or 100 is a fully-saturated, bright color,\n and 0% or 0 is a fully-unsaturated gray.\n For lightness, 50% or 50 represents the \"normal\" color,\n while 100% or 100 is white and 0% or 0 is black.\n\n \nFor historical reasons,\n if the saturation is less than 0% it is clamped to 0% at parsed-value time,\n before being converted to an sRGB color.\n\n \n Tests\n \n\n [color-valid-hsl.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-hsl.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid-hsl.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-hsl.html)\n \n\n \n \nThe final argument specifies the alpha component of the color.\n It’s interpreted identically to the fourth argument of the [rgb()](#funcdef-rgb) function.\n If omitted, it defaults to 100%.\n\n \nHSL colors resolve to sRGB.\n\n \nIf the saturation of an HSL color is 0% or 0,\n then the hue component is [powerless](#powerless-color-component).\n\n [](#ex-hsl-primary-red) For example, an ordinary red,\n the same color you would see from the keyword  [red](#valdef-color-red) or the hex notation  #f00,\n is represented in HSL as  hsl(0deg 100% 50%). \n \nAn advantage of HSL over RGB is that it is more intuitive:\n people can guess at the colors they want,\n and then tweak.\n\n \n [](#ex-hsl-tweak) For example, the following colors can all be generated off of the basic \"green\" hue,\n just by varying the other two arguments: \n\n```\nhsl(120deg 100% 50%) lime green\nhsl(120deg 100% 25%) dark green\nhsl(120deg 100% 75%) light green\nhsl(120deg 75% 85%) pastel green\n\n```\n\n \n \nA disadvantage of HSL over OKLCh\n is that hue manipulation changes the visual lightness,\n and that hues are not evenly spaced apart.\n\n \nIt is thus easier in HSL to create sets of matching colors\n (by keeping the hue the same and varying the saturation and lightness),\n compared to manipulating the sRGB component values;\n however, because the lightness is simply the mean of the gamma-corrected\n red, green and blue components\n it does not correspond to the visual perception of lightness\n across hues.\n\n \n [](#ex-hsl-sucks) For example,  [blue](#valdef-color-blue) is represented in HSL as  hsl(240deg 100% 50%) while  [yellow](#valdef-color-yellow) is  hsl(60deg 100% 50%).\n Both have an HSL Lightness of 50%,\n but clearly the yellow looks much lighter than the blue. \n \nIn OKLCh, sRGB blue is  oklch(0.452 0.313 264.1) while\n sRGB yellow is  oklch(0.968 0.211 109.8).\n The OKLCh Lightnesses of 0.452 and 0.968 clearly reflect\n the visual lightnesses of the two colors.\n\n \n \nThe hue angle in HSL is not perceptually uniform;\n colors appear bunched up in some areas\n and widely spaced in others.\n\n \n [](#ex-hsl-sucks-more) For example, the pair of hues  hsl(220deg 100% 50%) and  hsl(250deg 100% 50%) have an HSL hue difference of 250-220 = 30deg and look fairly similar,\n while another pair of colors  hsl(50deg 100% 50%) and  hsl(80deg 100% 50%),\n which also have a hue difference of 80-50 = 30deg, look very different. \n \nIn OKLCh, the same pair of colors  oklch(0.533 0.26 262.6) and  oklch(0.462 0.306 268.9) have a hue difference of 268.9 - 262.6 = 6.3deg\n while the second pair  oklch(0.882 0.181 94.24) and  oklch(0.91 0.245 129.9) have a hue difference of 129.9 - 94.24 = 35.66deg,\n correctly reflecting the visual separation of hues.\n\n \n \nFor historical reasons, [hsl()](#funcdef-hsl) and [hsla()](#funcdef-hsla) also support a [legacy color syntax](#legacy-color-syntax).\n\n \n Tests\n \n\n [hsla-001.html](https://wpt.fyi/results/css/css-color/hsla-001.html) [(live test)](https://wpt.live/css/css-color/hsla-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsla-001.html)\n [hsla-002.html](https://wpt.fyi/results/css/css-color/hsla-002.html) [(live test)](https://wpt.live/css/css-color/hsla-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsla-002.html)\n [hsla-003.html](https://wpt.fyi/results/css/css-color/hsla-003.html) [(live test)](https://wpt.live/css/css-color/hsla-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsla-003.html)\n [hsla-004.html](https://wpt.fyi/results/css/css-color/hsla-004.html) [(live test)](https://wpt.live/css/css-color/hsla-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsla-004.html)\n [hsla-005.html](https://wpt.fyi/results/css/css-color/hsla-005.html) [(live test)](https://wpt.live/css/css-color/hsla-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsla-005.html)\n [hsla-006.html](https://wpt.fyi/results/css/css-color/hsla-006.html) [(live test)](https://wpt.live/css/css-color/hsla-006.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsla-006.html)\n [hsla-007.html](https://wpt.fyi/results/css/css-color/hsla-007.html) [(live test)](https://wpt.live/css/css-color/hsla-007.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsla-007.html)\n [hsla-008.html](https://wpt.fyi/results/css/css-color/hsla-008.html) [(live test)](https://wpt.live/css/css-color/hsla-008.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsla-008.html)\n [hsla-clamp-negative-saturation.html](https://wpt.fyi/results/css/css-color/hsla-clamp-negative-saturation.html) [(live test)](https://wpt.live/css/css-color/hsla-clamp-negative-saturation.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hsla-clamp-negative-saturation.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n \n\n \n 7.1. Converting HSL Colors to sRGB[](#hsl-to-rgb)\n \nConverting an HSL color to sRGB is straightforward mathematically.\n Here’s a sample implementation of the conversion algorithm in JavaScript.\n It returns an array of three numbers\n representing the red, green, and blue components of the colors,\n which for colors in the sRGB gamut will be in the range [0, 1].\n\n \nThis code assumes that parse-time clamping\n of negative saturation has already been applied.\n\n```\n/**\n * @param {number} hue - Hue as degrees 0..360\n * @param {number} sat - Saturation in reference range [0,100]\n * @param {number} light - Lightness in reference range [0,100]\n * @return {number[]} Array of sRGB components; in-gamut colors in range [0..1]\n */\nfunction hslToRgb(hue, sat, light) {\n\n sat /= 100;\n light /= 100;\n\n function f(n) {\n let k = (n + hue/30) % 12;\n let a = sat * Math.min(light, 1 - light);\n return light - a * Math.max(-1, Math.min(k - 3, 9 - k, 1));\n }\n\n return [f(0), f(8), f(4)];\n}\n```\n\n 7.2. Converting sRGB Colors to HSL[](#rgb-to-hsl)\n \nConversion in the reverse direction proceeds similarly.\n\n \nSpecial care is taken to deal with\n intermediate negative values of saturation,\n which can be produced by colors far outside the sRGB gamut.\n\n```\n/**\n * @param {number} red - Red component 0..1\n * @param {number} green - Green component 0..1\n * @param {number} blue - Blue component 0..1\n * @return {number[]} Array of HSL values: Hue as degrees 0..360, Saturation and Lightness in reference range [0,100]\n */\nfunction rgbToHsl (red, green, blue) {\n let max = Math.max(red, green, blue);\n let min = Math.min(red, green, blue);\n let [hue, sat, light] = [NaN, 0, (min + max)/2];\n let d = max - min;\n let epsilon = 1 / 100000; // max Sat is 1, in this code\n\n if (d !== 0) {\n sat = (light === 0 || light === 1)\n ? 0\n : (max - light) / Math.min(light, 1 - light);\n\n switch (max) {\n case red: hue = (green - blue) / d + (green < blue ? 6 : 0); break;\n case green: hue = (blue - red) / d + 2; break;\n case blue: hue = (red - green) / d + 4;\n }\n\n hue = hue * 60;\n }\n\n // Very out of gamut colors can produce negative saturation\n // If so, just rotate the hue by 180 and use a positive saturation\n // see https://github.com/w3c/csswg-drafts/issues/9222\n if (sat < 0) {\n hue += 180;\n sat = Math.abs(sat);\n }\n\n if (hue >= 360) {\n hue -= 360;\n }\n\n if (sat <= epsilon) {\n hue = NaN;\n }\n\n return [hue, sat * 100, light * 100];\n}\n```\n\n 7.3. Examples of HSL Colors[](#hsl-examples)\n \nThis section is not normative.\n\n \n Tests\n \nThis section is not normative, it does not need tests.\n\n \n\n \n \n \nThe tables below illustrate a wide range of possible HSL colors.\n Each table represents one hue,\n selected at 30° intervals,\n to illustrate the common \"core\" hues:\n red,\n yellow,\n green,\n cyan,\n blue,\n magenta,\n and the six intermediary colors between these.\n\n \nIn each table, the X axis represents the saturation\n while the Y axis represents the lightness.\n\n \n \n \n \n 0° Reds\n \n \n 100%\n 80%\n 60%\n 40%\n 20%\n 0%\n \n \n 100%\n \n \n \n \n \n \n \n 90%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 70%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 50%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 30%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 10%\n \n \n \n \n \n \n \n 0%\n \n \n \n \n \n \n \n \n \n \n 30° Reds-Yellows (=Oranges)\n \n \n 100%\n 80%\n 60%\n 40%\n 20%\n 0%\n \n \n 100%\n \n \n \n \n \n \n \n 90%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 70%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 50%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 30%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 10%\n \n \n \n \n \n \n \n 0%\n \n \n \n \n \n \n \n \n \n \n 60° Yellows\n \n \n 100%\n 80%\n 60%\n 40%\n 20%\n 0%\n \n \n 100%\n \n \n \n \n \n \n \n 90%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 70%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 50%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 30%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 10%\n \n \n \n \n \n \n \n 0%\n \n \n \n \n \n \n \n \n \n \n 90° Yellow-Greens\n \n \n 100%\n 80%\n 60%\n 40%\n 20%\n 0%\n \n \n 100%\n \n \n \n \n \n \n \n 90%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 70%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 50%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 30%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 10%\n \n \n \n \n \n \n \n 0%\n \n \n \n \n \n \n \n \n \n \n 120° Greens\n \n \n 100%\n 80%\n 60%\n 40%\n 20%\n 0%\n \n \n 100%\n \n \n \n \n \n \n \n 90%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 70%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 50%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 30%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 10%\n \n \n \n \n \n \n \n 0%\n \n \n \n \n \n \n \n \n \n \n 150° Green-Cyans\n \n \n 100%\n 80%\n 60%\n 40%\n 20%\n 0%\n \n \n 100%\n \n \n \n \n \n \n \n 90%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 70%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 50%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 30%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 10%\n \n \n \n \n \n \n \n 0%\n \n \n \n \n \n \n \n \n \n \n 180° Cyans\n \n \n 100%\n 80%\n 60%\n 40%\n 20%\n 0%\n \n \n 100%\n \n \n \n \n \n \n \n 90%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 70%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 50%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 30%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 10%\n \n \n \n \n \n \n \n 0%\n \n \n \n \n \n \n \n \n \n \n 210° Cyan-Blues\n \n \n 100%\n 80%\n 60%\n 40%\n 20%\n 0%\n \n \n 100%\n \n \n \n \n \n \n \n 90%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 70%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 50%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 30%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 10%\n \n \n \n \n \n \n \n 0%\n \n \n \n \n \n \n \n \n \n \n 240° blues\n \n \n 100%\n 80%\n 60%\n 40%\n 20%\n 0%\n \n \n 100%\n \n \n \n \n \n \n \n 90%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 70%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 50%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 30%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 10%\n \n \n \n \n \n \n \n 0%\n \n \n \n \n \n \n \n \n \n \n 270° Blue-Magentas\n \n \n 100%\n 80%\n 60%\n 40%\n 20%\n 0%\n \n \n 100%\n \n \n \n \n \n \n \n 90%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 70%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 50%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 30%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 10%\n \n \n \n \n \n \n \n 0%\n \n \n \n \n \n \n \n \n \n \n 300° Magentas\n \n \n 100%\n 80%\n 60%\n 40%\n 20%\n 0%\n \n \n 100%\n \n \n \n \n \n \n \n 90%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 70%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 50%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 30%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 10%\n \n \n \n \n \n \n \n 0%\n \n \n \n \n \n \n \n \n \n \n 330° Magenta-Reds\n \n \n 100%\n 80%\n 60%\n 40%\n 20%\n 0%\n \n \n 100%\n \n \n \n \n \n \n \n 90%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 70%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 50%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 30%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 10%\n \n \n \n \n \n \n \n 0%",
      "rawLength": 85753
    },
    "the-hwb-notation": {
      "id": "the-hwb-notation",
      "heading": "8.  HWB Colors: hwb() function",
      "content": "**HWB** (short for Hue-Whiteness-Blackness) [[HWB]](#biblio-hwb) is another method of specifying sRGB colors,\n similar to [HSL](#valdef-hsl-hsl)', but often even easier for humans to work with.\n It describes colors with a starting hue,\n then a degree of whiteness and blackness to mix into that base hue.\n\n \nMany color-pickers are based on the HWB color system,\n due to its intuitiveness.\n\n \nHWB colors resolve to sRGB.\n\n \n \n This is a screenshot of Chrome’s color picker,\n shown when a user activates an <input type=\"color\">.\n The outer wheel is used to select the hue,\n then the relative amounts of white and black are selected by clicking on the inner triangle. \n \n \nThe syntax of the [hwb()](#funcdef-hwb) function is:\n\n```\nhwb() = hwb(\n [[<hue>](#typedef-hue) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ / [[<alpha-value>](#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n\n```\n\n \n \n \n Percentages\n Allowed for W and B\n \n Percent reference range \n for W and B: 0% = 0.0, 100% = 100.0 \n \n Powerless hue ε\n W + B >= 99.999\n \n \nThe first argument specifies the hue,\n and is defined identically to [hsl()](#funcdef-hsl);\n this means it [suffers the same disadvantages](#disadvantage-hsl) such as hue uniformity.\n\n \nThe second argument specifies the amount of white to mix in,\n as a percentage from 0% (no whiteness) to 100% (full whiteness).\n Similarly, the third argument specifies the amount of black to mix in,\n also from 0% (no blackness) to 100% (full blackness).\n\n [](#ex-hwb-simple) For example,  hwb(150 20% 10%)\n is the same color as  hsl(150 77.78% 55%)\n and  rgb(20% 90% 55%). \n \nValues outside of these ranges\n are not invalid;\n hue angles outside the range [0,360) will be normalized to that range\n and values of white and black which sum to 100% or greater will\n produce achromatic colors as described below.\n\n \nThe resulting color can be thought of conceptually as a mixture of paint in the chosen hue,\n white paint, and black paint,\n with the relative amounts of each determined by the percentages.\n\n \nIf the sum white+black is greater than or equal to 100%,\n it defines an achromatic color,\n i.e. a shade of gray;\n when converted to sRGB the R, G and B values are identical\n and have the value white / (white + black).\n\n [](#ex-hwb-achromatic) For example, in the color  hwb(45 40% 80%)\n white and black adds to 120, so this is an achromatic color\n whose R, G and B components are 40 / 40 + 80 = 0.33  rgb(33.33% 33.33% 33.33%). \n \nAchromatic HWB colors no longer contain any hint of the chosen hue.\n In this case, the hue component is [powerless](#powerless-color-component).\n\n \nThe fourth argument specifies the alpha component of the color.\n It’s interpreted identically to the fourth argument of the [rgb()](#funcdef-rgb) function.\n If omitted, it defaults to 100%.\n\n \nThere is no Web compatibility issue\n with [hwb](#valdef-hwb-hwb), which is new in this level of the specification, and so [hwb()](#funcdef-hwb) does not support a [legacy color syntax](#legacy-color-syntax) that separates all of its arguments with commas.\n Using commas inside hwb() is an error.\n\n \n Tests\n \n\n [hwb-001.html](https://wpt.fyi/results/css/css-color/hwb-001.html) [(live test)](https://wpt.live/css/css-color/hwb-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hwb-001.html)\n [hwb-002.html](https://wpt.fyi/results/css/css-color/hwb-002.html) [(live test)](https://wpt.live/css/css-color/hwb-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hwb-002.html)\n [hwb-003.html](https://wpt.fyi/results/css/css-color/hwb-003.html) [(live test)](https://wpt.live/css/css-color/hwb-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hwb-003.html)\n [hwb-004.html](https://wpt.fyi/results/css/css-color/hwb-004.html) [(live test)](https://wpt.live/css/css-color/hwb-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hwb-004.html)\n [hwb-005.html](https://wpt.fyi/results/css/css-color/hwb-005.html) [(live test)](https://wpt.live/css/css-color/hwb-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/hwb-005.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n [color-computed-hwb.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-hwb.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-hwb.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-hwb.html)\n [color-invalid-hwb.html](https://wpt.fyi/results/css/css-color/parsing/color-invalid-hwb.html) [(live test)](https://wpt.live/css/css-color/parsing/color-invalid-hwb.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-hwb.html)\n [color-valid-hwb.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-hwb.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid-hwb.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-hwb.html)\n \n\n \n 8.1. Converting HWB Colors to sRGB[](#hwb-to-rgb)\n \nConverting an HWB color to sRGB is straightforward,\n and related to how one converts HSL to RGB.\n The following Javascript implementation of the algorithm\n first normalizes the white and black components,\n so their sum is no larger than 100%.\n\n```\n/**\n * @param {number} hue - Hue as degrees 0..360\n * @param {number} white - Whiteness in reference range [0,100]\n * @param {number} black - Blackness in reference range [0,100]\n * @return {number[]} Array of RGB components 0..1\n */\nfunction hwbToRgb(hue, white, black) {\n white /= 100;\n black /= 100;\n if (white + black >= 1) {\n let gray = white / (white + black);\n return [gray, gray, gray];\n }\n let rgb = hslToRgb(hue, 100, 50);\n for (let i = 0; i < 3; i++) {\n rgb[i] *= (1 - white - black);\n rgb[i] += white;\n }\n return rgb;\n}\n```\n\n 8.2. Converting sRGB Colors to HWB[](#rgb-to-hwb)\n \nConversion in the reverse direction proceeds similarly.\n\n```\n/**\n * @param {number} red - Red component 0..1\n * @param {number} green - Green component 0..1\n * @param {number} blue - Blue component 0..1\n * @return {number} Hue as degrees 0..360\n */\nfunction rgbToHue(red, green, blue) {\n // Similar to rgbToHsl, except that saturation and lightness are not calculated, and\n // potential negative saturation is ignored.\n let max = Math.max(red, green, blue);\n let min = Math.min(red, green, blue);\n let hue = NaN;\n let d = max - min;\n\n if (d !== 0) {\n switch (max) {\n case red: hue = (green - blue) / d + (green < blue ? 6 : 0); break;\n case green: hue = (blue - red) / d + 2; break;\n case blue: hue = (red - green) / d + 4;\n }\n\n hue *= 60;\n }\n\n if (hue >= 360) {\n hue -= 360;\n }\n\n return hue;\n}\n\n/**\n * @param {number} red - Red component 0..1\n * @param {number} green - Green component 0..1\n * @param {number} blue - Blue component 0..1\n * @return {number[]} Array of HWB values: Hue as degrees 0..360, Whiteness and Blackness in reference range [0,100]\n */\nfunction rgbToHwb(red, green, blue) {\n let epsilon = 1 / 100000; // account for multiply by 100\n var hue = rgbToHue(red, green, blue);\n var white = Math.min(red, green, blue);\n var black = 1 - Math.max(red, green, blue);\n if (white + black >= 1 - epsilon) {\n hue = NaN;\n }\n return([hue, white*100, black*100]);\n}\n\n```\n\n 8.3. Examples of HWB Colors[](#hwb-examples)\n \nThis section is not normative.\n\n \n Tests\n \nThis section is not normative, it does not need tests.\n\n \n\n \n \n \n \n \n \n \n 0° Reds \n \n W\\B \n 0%\n 20%\n 40%\n 60%\n 80%\n 100% \n \n 0%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 100%\n \n \n \n \n \n \n \n \n \n \n \n 30° Red-Yellows (Oranges) \n \n W\\B \n 0%\n 20%\n 40%\n 60%\n 80%\n 100% \n \n 0%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 100%\n \n \n \n \n \n \n \n \n \n \n \n 60° Yellows \n \n W\\B \n 0%\n 20%\n 40%\n 60%\n 80%\n 100% \n \n 0%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 100%\n \n \n \n \n \n \n \n \n \n \n \n 90° Yellow-Greens \n \n W\\B \n 0%\n 20%\n 40%\n 60%\n 80%\n 100% \n \n 0%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 100%\n \n \n \n \n \n \n \n \n \n \n \n 120° Greens \n \n W\\B \n 0%\n 20%\n 40%\n 60%\n 80%\n 100% \n \n 0%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 100%\n \n \n \n \n \n \n \n \n \n \n \n 150° Green-Cyans \n \n W\\B \n 0%\n 20%\n 40%\n 60%\n 80%\n 100% \n \n 0%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 100%\n \n \n \n \n \n \n \n \n \n \n \n 180° Cyans \n \n W\\B \n 0%\n 20%\n 40%\n 60%\n 80%\n 100% \n \n 0%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 100%\n \n \n \n \n \n \n \n \n \n \n \n 210° Cyan-Blues \n \n W\\B \n 0%\n 20%\n 40%\n 60%\n 80%\n 100% \n \n 0%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 100%\n \n \n \n \n \n \n \n \n \n \n \n 240° Blues \n \n W\\B \n 0%\n 20%\n 40%\n 60%\n 80%\n 100% \n \n 0%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 100%\n \n \n \n \n \n \n \n \n \n \n \n 270° Blue-Magentas \n \n W\\B \n 0%\n 20%\n 40%\n 60%\n 80%\n 100% \n \n 0%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 100%\n \n \n \n \n \n \n \n \n \n \n \n 300° Magentas \n \n W\\B \n 0%\n 20%\n 40%\n 60%\n 80%\n 100% \n \n 0%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 100%\n \n \n \n \n \n \n \n \n \n \n \n 330° Magenta-Reds \n \n W\\B \n 0%\n 20%\n 40%\n 60%\n 80%\n 100% \n \n 0%\n \n \n \n \n \n \n \n 20%\n \n \n \n \n \n \n \n 40%\n \n \n \n \n \n \n \n 60%\n \n \n \n \n \n \n \n 80%\n \n \n \n \n \n \n \n 100%",
      "rawLength": 41450
    },
    "lab-colors": {
      "id": "lab-colors",
      "heading": "9.  Device-independent Colors: CIE Lab and LCH, Oklab and OKLCh",
      "content": "9.1. CIE Lab and LCH[](#cie-lab)\n \nThis section is not normative.\n\n \n Tests\n \nThis section is not normative, it does not need tests.\n\n \n\n \n \n \nPhysical measurements of a color are typically expressed in the CIE L*a*b* [[CIELAB]](#biblio-cielab) color space,\n created in 1976 by the CIE and commonly referred to simply as Lab.\n Color conversions from one device to another may also use Lab as an intermediate step.\n Derived from human vision experiments,\n Lab represents the entire range of color that humans can see.\n\n \nLab is a rectangular coordinate system\n with a central Lightness (L) axis.\n This value is usually written as a unitless number;\n for compatibility with the rest of CSS, it may also be written as a percentage.\n 100% means an L value of 100, not 1.0.\n L=0% or 0 is deep black (no light at all)\n while L=100% or 100 is a diffuse white.\n\n \nUsefully, L=50% or 50 is mid gray, by design,\n and equal increments in L are evenly spaced visually:\n the Lab color space is intended to be perceptually uniform.\n\n \n \n This figure shows, to the left, the Lightness axis of the CIE Lab color space.\n Twenty-one neutral swatches are shown (L=0%, L=5%, to L=100%).\n The steps are equally spaced, visually.\n To the right, the same number of steps in [luminance](#luminance) are equally spaced in light energy but not equally spaced visually. \n \n \nThe a and b axes convey hue;\n positive values along the a axis are a purplish red\n while negative values are the complementary color, a green.\n Similarly, positive values along the b axis are yellow\n and negative are the complementary blue/violet.\n Desaturated colors have small values of a and b\n and are close to the L axis;\n saturated colors lie far from the L axis.\n\n \nThe illuminant is [D50](#d50) white, a standardized daylight spectrum with a color temperature of 5000K,\n as reflected by a perfect diffuse reflector; it approximates the color of sunlight on a sunny day.\n D50 is also the whitepoint used for the profile connection space in ICC color interconversion,\n the whitepoint used in image editors which offer Lab editing,\n and the value used by physical measurement devices\n such as spectrophotometers and spectroradiometers,\n when they report measured colors in Lab.\n\n \nConversion from colors specified using other white points is called a **chromatic adaptation transform**,\n which models the changes in the human visual system as we adapt to a new lighting condition.\n The linear Bradford algorithm [[ICC]](#biblio-icc) (a simplification of the original Bradford algorithm [[Bradford-CAT]](#biblio-bradford-cat))\n is the industry standard chromatic adaptation transform,\n and is easy to calculate as it is a simple matrix multiplication.\n\n \nCIE LCH has the same L axis as Lab,\n but uses polar coordinates C (chroma) and H (hue),\n making it a polar, cylindrical coordinate system.\n C is the geometric distance from the L axis\n and H is the angle from the positive a axis,\n towards the positive b axis.\n\n \n \n This figure shows the L=50 plane of the CIE Lab color space.\n 20 degree increments in CIE LCH are displayed as circles\n at three levels of Chroma: 20, 40 and 60.\n All the 20 Chroma colors fit inside sRGB gamut,\n some of 40 and 60 Chroma are outside.\n These out of gamut colors are visualized as grey, with a red warning outer stroke. \n \n \nNote: The L axis in Lab and LCH\n is not to be confused with the L axis in HSL.\n For example, in HSL, the sRGB colors blue (#00F) and yellow (#FF0)\n have the same value of L (50%) even though visually, blue is much darker.\n This is much clearer in Lab:\n sRGB blue is lab(29.567% 68.298 -112.0294)\n while\n sRGB yellow is lab(97.607% -15.753 93.388).\n In Lab and LCH, if two colors have the same measured L value,\n they have identical visual lightness.\n HSL and related polar RGB models were developed\n in an attempt\n to give similar usability benefits for RGB that LCH gave to Lab,\n but are significantly less accurate.\n\n \nAlthough the use of CIE Lab and LCH is widespread,\n it is known to have some problems. In particular:\n\n \n Hue linearity\n In the blue region (LCH Hue between 270° and 330°),\n visual hue departs from what LCH predicts.\n Plotting a set of blues of the same hue and differing Chroma,\n which should lie on a straight line from the neutral axis,\n instead form a curve.\n Put another way,\n as a saturated blue has it’s Chroma progressively reduced,\n it becomes noticeably purple. \n Hue uniformity\n While hues in LCH are in general evenly spaced,\n (and far better than HSL or HWB),\n uniformity is not perfect. \n Over-prediction of high Chroma differences\n For high Chroma colors,\n changes in Chroma are less noticeable\n than for more neutral colors. \n \n \nThese deficiencies affect, for example,\n creation of evenly spaced gradients,\n gamut mapping from one color space to a smaller one,\n and computation of the visual difference between two colors.\n\n \nTo compensate for this,\n formulae to predict the visual difference between two colors\n (delta E)\n have been made more accurate over time\n (but also, much more complex to compute).\n The current industry standard formula,\n delta E 2000,\n works well to mitigate some of the Lab and LCH problems.\n A sample implementation is given in [§ 19.1 ΔE2000](#color-difference-2000).\n\n \nThis does not help with hue curvature, however.\n\n 9.2. Oklab and OKLCh[](#ok-lab)\n \nThis section is not normative.\n\n \n Tests\n \nThis section is not normative, it does not need tests.\n\n \n\n \n \n \nRecently, Oklab,\n an improved Lab-like space has been developed [[Oklab]](#biblio-oklab).\n The corresponding polar form is called OKLCh.\n It was produced by numerical optimization\n of a large dataset of visually similar colors,\n and has improved hue linearity,\n hue uniformity,\n and chroma uniformity\n compared to CIE LCH.\n\n \nLike CIE Lab, there is a central lightness L axis\n which is usually written as a unitless number in the range [0,1];\n for compatibility with the rest of CSS,\n it may be written as a percentage. 100% means an L value of 1.0.\n L=0% or 0.0 is deep black (no light at all) while L=100% or 1.0 is a diffuse white.\n\n \nNote: Unlike CIE Lab, which assumes adaptation to the diffuse white,\n Oklab assumes adaptation to the color being defined,\n which is intended to make it scale invariant.\n\n \nAs with CIE Lab, the a and b axes convey hue;\n positive values along the a axis are a purplish red\n while negative values are the complementary color, a green.\n Similarly, positive values along the b axis are yellow\n and negative are the complementary blue/violet.\n\n \nThe illuminant is [D65](#d65), the same white point\n as most RGB color spaces.\n\n \nOKLCh has the same L axis as Oklab,\n but uses polar coordinates C (chroma) and H (hue).\n\n \nNote: Unlike CIE LCH, where Chroma can reach values of 200 or more,\n OKLCh Chroma ranges to 0.5 or so.\n The hue angles between CIE LCH and OKLCh are broadly similar,\n but not identical.\n\n \n \n A constant CIE LCH hue slice,\n showing the sRGB gamut around primary blue.\n A noticeable purpling is immediately evident. \n \n \n \n A constant OKLCh hue slice,\n showing the sRGB gamut around primary blue.\n The visual hue remains constant. \n \n \nBecause Oklab is more perceptually uniform than CIE Lab,\n the color difference is a straightforward distance in 3D space\n (root sum of squares).\n Although trivial,\n a sample implementation is give in [§ 19.2 ΔEOK](#color-difference-OK).\n\n 9.3. Specifying Lab and LCH: the [lab()](#funcdef-lab) and [lch()](#funcdef-lch) functional notations[](#specifying-lab-lch)\n \nCSS allows colors to be directly expressed in Lab and LCH.\n\n```\nlab() = lab( [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ / [[<alpha-value>](#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n\n```\n\n \n \n \n Percentages\n Allowed for L, a and b\n \n Percent reference range \n for L: 0% = 0.0, 100% = 100.0 for a and b: -100% = -125, 100% = 125 \n \n \n Tests\n \n\n [lab-001.html](https://wpt.fyi/results/css/css-color/lab-001.html) [(live test)](https://wpt.live/css/css-color/lab-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lab-001.html)\n [lab-002.html](https://wpt.fyi/results/css/css-color/lab-002.html) [(live test)](https://wpt.live/css/css-color/lab-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lab-002.html)\n [lab-003.html](https://wpt.fyi/results/css/css-color/lab-003.html) [(live test)](https://wpt.live/css/css-color/lab-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lab-003.html)\n [lab-004.html](https://wpt.fyi/results/css/css-color/lab-004.html) [(live test)](https://wpt.live/css/css-color/lab-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lab-004.html)\n [lab-005.html](https://wpt.fyi/results/css/css-color/lab-005.html) [(live test)](https://wpt.live/css/css-color/lab-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lab-005.html)\n [lab-006.html](https://wpt.fyi/results/css/css-color/lab-006.html) [(live test)](https://wpt.live/css/css-color/lab-006.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lab-006.html)\n [lab-007.html](https://wpt.fyi/results/css/css-color/lab-007.html) [(live test)](https://wpt.live/css/css-color/lab-007.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lab-007.html)\n [lab-008.html](https://wpt.fyi/results/css/css-color/lab-008.html) [(live test)](https://wpt.live/css/css-color/lab-008.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lab-008.html)\n [lab-l-over-100-1.html](https://wpt.fyi/results/css/css-color/lab-l-over-100-1.html) [(live test)](https://wpt.live/css/css-color/lab-l-over-100-1.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lab-l-over-100-1.html)\n [lab-l-over-100-2.html](https://wpt.fyi/results/css/css-color/lab-l-over-100-2.html) [(live test)](https://wpt.live/css/css-color/lab-l-over-100-2.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lab-l-over-100-2.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n [color-computed-lab.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-lab.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-lab.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-lab.html)\n [color-invalid-lab.html](https://wpt.fyi/results/css/css-color/parsing/color-invalid-lab.html) [(live test)](https://wpt.live/css/css-color/parsing/color-invalid-lab.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-lab.html)\n [color-valid-lab.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-lab.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid-lab.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-lab.html)\n \n\n \n \nIn **Lab**,\n the first argument specifies the CIE Lightness, L.\n This is a number between 0% or 0\n and 100% or 100\n Values less than 0% or 0 must be clamped to 0% at parsed-value time;\n values greater than 100% or 100 are clamped to 100% at parsed-value time.\n\n \nThe second and third arguments are the distances along the \"a\" and \"b\" axes\n in the Lab color space,\n as described in the previous section.\n These values are signed\n (allow both positive and negative values)\n and theoretically unbounded\n (but in practice do not exceed ±160).\n\n \nThere is an optional fourth [<alpha-value>](#typedef-color-alpha-value) component,\n separated by a slash,\n representing the [alpha component](#alpha-channel).\n\n \nIf the lightness of a Lab color (after clamping) is 0%,\n or 100% the color will be displayed as black, or white, respectively\n due to gamut mapping to the display.\n\n \n [](#ex-lab-samples) \n\n```\n lab(29.2345% 39.3825 20.0664);\n lab(52.2345 40.1645 59.9971);\n lab(60.2345 -5.3654 58.956);\n lab(62.2345% -34.9638 47.7721);\n lab(67.5345 -8.6911 -41.6019);\n lab(29.69% 44.888% -29.04%)\n\n```\n\n \n\n```\nlch() = lch( [[<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ [<hue>](#typedef-hue) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ / [[<alpha-value>](#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n\n```\n\n \n \n \n Percentages\n Allowed for L and C\n \n Percent reference range \n for L: 0% = 0.0, 100% = 100.0 for C: 0% = 0, 100% = 150 \n \n Powerless hue ε\n C <= 0.0015\n \n \n Tests\n \n\n [lch-001.html](https://wpt.fyi/results/css/css-color/lch-001.html) [(live test)](https://wpt.live/css/css-color/lch-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lch-001.html)\n [lch-002.html](https://wpt.fyi/results/css/css-color/lch-002.html) [(live test)](https://wpt.live/css/css-color/lch-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lch-002.html)\n [lch-003.html](https://wpt.fyi/results/css/css-color/lch-003.html) [(live test)](https://wpt.live/css/css-color/lch-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lch-003.html)\n [lch-004.html](https://wpt.fyi/results/css/css-color/lch-004.html) [(live test)](https://wpt.live/css/css-color/lch-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lch-004.html)\n [lch-005.html](https://wpt.fyi/results/css/css-color/lch-005.html) [(live test)](https://wpt.live/css/css-color/lch-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lch-005.html)\n [lch-006.html](https://wpt.fyi/results/css/css-color/lch-006.html) [(live test)](https://wpt.live/css/css-color/lch-006.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lch-006.html)\n [lch-007.html](https://wpt.fyi/results/css/css-color/lch-007.html) [(live test)](https://wpt.live/css/css-color/lch-007.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lch-007.html)\n [lch-008.html](https://wpt.fyi/results/css/css-color/lch-008.html) [(live test)](https://wpt.live/css/css-color/lch-008.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lch-008.html)\n [lch-009.html](https://wpt.fyi/results/css/css-color/lch-009.html) [(live test)](https://wpt.live/css/css-color/lch-009.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lch-009.html)\n [lch-010.html](https://wpt.fyi/results/css/css-color/lch-010.html) [(live test)](https://wpt.live/css/css-color/lch-010.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lch-010.html)\n [lch-l-over-100-1.html](https://wpt.fyi/results/css/css-color/lch-l-over-100-1.html) [(live test)](https://wpt.live/css/css-color/lch-l-over-100-1.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lch-l-over-100-1.html)\n [lch-l-over-100-2.html](https://wpt.fyi/results/css/css-color/lch-l-over-100-2.html) [(live test)](https://wpt.live/css/css-color/lch-l-over-100-2.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/lch-l-over-100-2.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n \n\n \n \nIn CIE **LCH** the first argument specifies the CIE Lightness L,\n interpreted identically to the Lightness argument of [lab()](#funcdef-lab).\n\n \nThe second argument is the chroma C,\n (roughly representing the \"amount of color\").\n Its minimum useful value is 0,\n while its maximum is theoretically unbounded\n (but in practice does not exceed 230).\n If the provided value is negative,\n it is clamped to 0 at parsed-value time.\n\n \nThe third argument is the hue angle H.\n It’s interpreted similarly to the [<hue>](#typedef-hue) argument of [hsl()](#funcdef-hsl),\n but doesn’t map hues to angles in the same way\n because they are evenly spaced perceptually.\n Instead, 0deg points along the positive \"a\" axis (toward purplish red),\n (as does 360deg, 720deg, etc.); 90deg points along the positive \"b\" axis (toward mustard yellow), 180deg points along the negative \"a\" axis (toward greenish cyan),\n and 270deg points along the negative \"b\" axis (toward sky blue).\n\n \nThere is an optional fourth [<alpha-value>](#typedef-color-alpha-value) component,\n separated by a slash,\n representing the [alpha component](#alpha-channel).\n\n \nIf the chroma of an LCH color is 0%,\n the hue component is [powerless](#powerless-color-component).\n If the lightness of an LCH color (after clamping) is 0%,\n or 100%,\n the color will be displayed as black, or white, respectively\n due to gamut mapping to the display.\n\n \n [](#ex-lch-samples) \n\n```\n lch(29.2345% 44.2 27);\n lch(52.2345% 72.2 56.2);\n lch(60.2345 59.2 95.2);\n lch(62.2345% 59.2 126.2);\n lch(67.5345% 42.5 258.2);\n lch(29.69% 45.553% 327.1)\n\n```\n\n \n \nThere is no Web compatibility issue\n with [lab](#valdef-lab-lab) or [lch](#valdef-lch-lch)', which are new in this level of the specification, and so [lab()](#funcdef-lab) and [lch()](#funcdef-lch) do not support a [legacy color syntax](#legacy-color-syntax) that separates all of their arguments with commas.\n Using commas inside these functions is an error.\n\n 9.4. Specifying Oklab and OKLCh: the [oklab()](#funcdef-oklab) and [oklch()](#funcdef-oklch) functional notations[](#specifying-oklab-oklch)\n \nCSS allows colors to be directly expressed in Oklab and OKLCh.\n\n```\noklab() = oklab( [ [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ / [[<alpha-value>](#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n\n```\n\n \n \n \n Percentages\n Allowed for L, a and b\n \n Percent reference range \n for L: 0% = 0.0, 100% = 1.0 for a and b: -100% = -0.4, 100% = 0.4 \n \n \n Tests\n \n\n [oklab-001.html](https://wpt.fyi/results/css/css-color/oklab-001.html) [(live test)](https://wpt.live/css/css-color/oklab-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklab-001.html)\n [oklab-002.html](https://wpt.fyi/results/css/css-color/oklab-002.html) [(live test)](https://wpt.live/css/css-color/oklab-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklab-002.html)\n [oklab-003.html](https://wpt.fyi/results/css/css-color/oklab-003.html) [(live test)](https://wpt.live/css/css-color/oklab-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklab-003.html)\n [oklab-004.html](https://wpt.fyi/results/css/css-color/oklab-004.html) [(live test)](https://wpt.live/css/css-color/oklab-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklab-004.html)\n [oklab-005.html](https://wpt.fyi/results/css/css-color/oklab-005.html) [(live test)](https://wpt.live/css/css-color/oklab-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklab-005.html)\n [oklab-006.html](https://wpt.fyi/results/css/css-color/oklab-006.html) [(live test)](https://wpt.live/css/css-color/oklab-006.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklab-006.html)\n [oklab-007.html](https://wpt.fyi/results/css/css-color/oklab-007.html) [(live test)](https://wpt.live/css/css-color/oklab-007.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklab-007.html)\n [oklab-008.html](https://wpt.fyi/results/css/css-color/oklab-008.html) [(live test)](https://wpt.live/css/css-color/oklab-008.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklab-008.html)\n [oklab-009.html](https://wpt.fyi/results/css/css-color/oklab-009.html) [(live test)](https://wpt.live/css/css-color/oklab-009.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklab-009.html)\n [oklab-l-almost-0.html](https://wpt.fyi/results/css/css-color/oklab-l-almost-0.html) [(live test)](https://wpt.live/css/css-color/oklab-l-almost-0.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklab-l-almost-0.html)\n [oklab-l-almost-1.html](https://wpt.fyi/results/css/css-color/oklab-l-almost-1.html) [(live test)](https://wpt.live/css/css-color/oklab-l-almost-1.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklab-l-almost-1.html)\n [oklab-l-over-1-1.html](https://wpt.fyi/results/css/css-color/oklab-l-over-1-1.html) [(live test)](https://wpt.live/css/css-color/oklab-l-over-1-1.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklab-l-over-1-1.html)\n [oklab-l-over-1-2.html](https://wpt.fyi/results/css/css-color/oklab-l-over-1-2.html) [(live test)](https://wpt.live/css/css-color/oklab-l-over-1-2.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklab-l-over-1-2.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n \n\n \n \nIn **Oklab** the first argument specifies the Oklab Lightness.\n This is a number between 0% or 0\n and 100% or 1.0.\n\n \nValues less than 0% or 0.0 must be clamped to 0% at parsed-value time;\n values greater than 100% or 1.0 are clamped to 100% at parsed-value time.\n\n \nThe second and third arguments are the distances along\n the \"a\" and \"b\" axes\n in the Oklab color space,\n as described in the previous section.\n These values are signed\n (allow both positive and negative values)\n and theoretically unbounded\n (but in practice do not exceed ±0.5).\n\n \nThere is an optional fourth [<alpha-value>](#typedef-color-alpha-value) component,\n separated by a slash,\n representing the [alpha component](#alpha-channel).\n\n \nIf the lightness of an Oklab color is 0% or 0,\n or 100% or 1.0,\n the color will be displayed as black, or white, respectively\n due to gamut mapping to the display.\n\n \n [](#ex-oklab-samples) \n\n```\n oklab(40.101% 0.1147 0.0453);\n oklab(59.686% 0.1009 0.1192);\n oklab(0.65125 -0.0320 0.1274);\n oklab(66.016% -0.1084 0.1114);\n oklab(72.322% -0.0465 -0.1150);\n oklab(42.1% 41% -25%)\n\n```\n\n \n\n```\noklch() = oklch( [ [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ [<hue>](#typedef-hue) [|](https://www.w3.org/TR/css-values-4/#comb-one) none]\n [ / [[<alpha-value>](#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n\n```\n\n \n \n \n Percentages\n Allowed for L and C\n \n Percent reference range \n for L: 0% = 0.0, 100% = 1.0 for C: 0% = 0.0 100% = 0.4 \n \n Powerless hue ε\n C <= 0.000004\n \n \n Tests\n \n\n [oklch-001.html](https://wpt.fyi/results/css/css-color/oklch-001.html) [(live test)](https://wpt.live/css/css-color/oklch-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklch-001.html)\n [oklch-002.html](https://wpt.fyi/results/css/css-color/oklch-002.html) [(live test)](https://wpt.live/css/css-color/oklch-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklch-002.html)\n [oklch-003.html](https://wpt.fyi/results/css/css-color/oklch-003.html) [(live test)](https://wpt.live/css/css-color/oklch-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklch-003.html)\n [oklch-004.html](https://wpt.fyi/results/css/css-color/oklch-004.html) [(live test)](https://wpt.live/css/css-color/oklch-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklch-004.html)\n [oklch-005.html](https://wpt.fyi/results/css/css-color/oklch-005.html) [(live test)](https://wpt.live/css/css-color/oklch-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklch-005.html)\n [oklch-006.html](https://wpt.fyi/results/css/css-color/oklch-006.html) [(live test)](https://wpt.live/css/css-color/oklch-006.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklch-006.html)\n [oklch-007.html](https://wpt.fyi/results/css/css-color/oklch-007.html) [(live test)](https://wpt.live/css/css-color/oklch-007.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklch-007.html)\n [oklch-008.html](https://wpt.fyi/results/css/css-color/oklch-008.html) [(live test)](https://wpt.live/css/css-color/oklch-008.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklch-008.html)\n [oklch-009.html](https://wpt.fyi/results/css/css-color/oklch-009.html) [(live test)](https://wpt.live/css/css-color/oklch-009.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklch-009.html)\n [oklch-010.html](https://wpt.fyi/results/css/css-color/oklch-010.html) [(live test)](https://wpt.live/css/css-color/oklch-010.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklch-010.html)\n [oklch-011.html](https://wpt.fyi/results/css/css-color/oklch-011.html) [(live test)](https://wpt.live/css/css-color/oklch-011.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklch-011.html)\n [oklch-l-almost-0.html](https://wpt.fyi/results/css/css-color/oklch-l-almost-0.html) [(live test)](https://wpt.live/css/css-color/oklch-l-almost-0.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklch-l-almost-0.html)\n [oklch-l-almost-1.html](https://wpt.fyi/results/css/css-color/oklch-l-almost-1.html) [(live test)](https://wpt.live/css/css-color/oklch-l-almost-1.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklch-l-almost-1.html)\n [oklch-l-over-1-1.html](https://wpt.fyi/results/css/css-color/oklch-l-over-1-1.html) [(live test)](https://wpt.live/css/css-color/oklch-l-over-1-1.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklch-l-over-1-1.html)\n [oklch-l-over-1-2.html](https://wpt.fyi/results/css/css-color/oklch-l-over-1-2.html) [(live test)](https://wpt.live/css/css-color/oklch-l-over-1-2.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/oklch-l-over-1-2.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n \n\n \n \nIn **OKLCh** the first argument specifies the OKLCh Lightness L,\n interpreted identically to the Lightness argument of [oklab()](#funcdef-oklab).\n\n \nThe second argument is the chroma C.\n Its minimum useful value is 0,\n while its maximum is theoretically unbounded\n (but in practice does not exceed 0.5).\n If the provided value is negative,\n it is clamped to 0 at parsed-value time.\n\n \nThe third argument is the hue angle H.\n It’s interpreted similarly to the [<hue>](#typedef-hue) arguments\n of [hsl()](#funcdef-hsl) and [lch()](#funcdef-lch),\n but doesn’t map hues to angles in the same way. 0deg points along the positive \"a\" axis (toward purplish red),\n (as does 360deg, 720deg, etc.); 90deg points along the positive \"b\" axis (toward mustard yellow), 180deg points along the negative \"a\" axis (toward greenish cyan),\n and 270deg points along the negative \"b\" axis (toward sky blue).\n\n \nThere is an optional fourth [<alpha-value>](#typedef-color-alpha-value) component,\n separated by a slash,\n representing the [alpha component](#alpha-channel).\n\n \nIf the chroma of an OKLCh color is 0% or 0,\n the hue component is [powerless](#powerless-color-component).\n If the lightness of an OKLCh color is 0% or 0,\n or 100% or 1.0,\n the color will be displayed as black, or white, respectively\n due to gamut mapping to the display.\n\n \n [](#ex-oklch-samples) \n\n```\n oklch(40.101% 0.12332 21.555);\n oklch(59.686% 0.15619 49.7694);\n oklch(0.65125 0.13138 104.097);\n oklch(0.66016 0.15546 134.231);\n oklch(72.322% 0.12403 247.996);\n oklch(42.1% 48.25% 328.4)\n\n```\n\n \n \nThere is no Web compatibility issue\n with [oklab](#valdef-oklab-oklab) or [oklch](#valdef-oklch-oklch)', which are new in this level of the specification, and so [oklab()](#funcdef-oklab) and [oklch()](#funcdef-oklch) do not support a [legacy color syntax](#legacy-color-syntax) that separates all of their arguments with commas.\n Using commas inside these functions is an error.\n\n 9.5. Converting Lab or Oklab colors to LCH or OKLCh colors[](#lab-to-lch)\n \nConversion to the polar form is trivial:\n\n \n\n C = sqrt(a^2 + b^2) \n if (C > epsilon) H = atan2(b, a) else H is missing \n L is the same \n \n\n \nFor extremely small values of a and b (near-zero Chroma),\nalthough the visual color does not change from being on the neutral axis,\nsmall changes to the values can result in the reported hue angle swinging about wildly\nand being essentially random.\nIn CSS, this means the hue is [powerless](#powerless-color-component),\nand treated as [missing](#missing-color-component) when converted into LCH or OKLCh;\nin non-CSS contexts this might be reflected as a missing value, such as NaN.\n\n 9.6. Converting LCH or OKLCh colors to Lab or Oklab colors[](#lch-to-lab)\n \nConversion to the rectangular form is trivial:\n\n \n\n If H is missing, a = b = 0\n \n Otherwise, \n \n\n a = C cos(H) \n b = C sin(H) \n \n\n L is the same",
      "rawLength": 60086
    },
    "predefined": {
      "id": "predefined",
      "heading": "10.  Predefined Color Spaces",
      "content": "CSS provides several predefined color spaces\n including [display-p3](#valdef-color-display-p3) [[Display-P3]](#biblio-display-p3),\n which is a wide gamut space typical of current wide-gamut monitors, [prophoto-rgb](#valdef-color-prophoto-rgb), widely used by photographers\n and [rec2020](#valdef-color-rec2020) [[Rec.2020]](#biblio-rec2020),\n which is a broadcast industry standard,\n ultra-wide gamut space capable of representing almost all visible real-world colors.\n\n 10.1. Specifying Predefined Colors: the [color()](#funcdef-color) function[](#color-function)\n \nThe [color()](#funcdef-color) function allows a color to be specified\n in a particular, specified [color space](#color-space) (rather than the implicit sRGB color space that most of the other color functions operate in).\n Its syntax is:\n\n```\ncolor() = color( [<colorspace-params>](#typedef-colorspace-params) [ / [ [<alpha-value>](#typedef-color-alpha-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none ] ][?](https://www.w3.org/TR/css-values-4/#mult-opt) )\n**<colorspace-params>** = [ [<predefined-rgb-params>](#typedef-predefined-rgb-params) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<xyz-params>](#typedef-xyz-params)]\n**<predefined-rgb-params>** = [<predefined-rgb>](#typedef-predefined-rgb) [ [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none ][{3}](https://www.w3.org/TR/css-values-4/#mult-num)\n**<predefined-rgb>** = [srgb](#valdef-color-srgb) [|](https://www.w3.org/TR/css-values-4/#comb-one) [srgb-linear](#valdef-color-srgb-linear) [|](https://www.w3.org/TR/css-values-4/#comb-one) [display-p3](#valdef-color-display-p3) [|](https://www.w3.org/TR/css-values-4/#comb-one) [a98-rgb](#valdef-color-a98-rgb) [|](https://www.w3.org/TR/css-values-4/#comb-one) [prophoto-rgb](#valdef-color-prophoto-rgb) [|](https://www.w3.org/TR/css-values-4/#comb-one) [rec2020](#valdef-color-rec2020)\n**<xyz-params>** = [<xyz-space>](#typedef-xyz-space) [ [<number>](https://www.w3.org/TR/css-values-4/#number-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value) [|](https://www.w3.org/TR/css-values-4/#comb-one) none ][{3}](https://www.w3.org/TR/css-values-4/#mult-num)\n**<xyz-space>** = [xyz](#valdef-color-xyz) [|](https://www.w3.org/TR/css-values-4/#comb-one) [xyz-d50](#valdef-color-xyz-d50) [|](https://www.w3.org/TR/css-values-4/#comb-one) [xyz-d65](#valdef-color-xyz-d65)\n\n```\n\n \n Tests\n \n\n [color-computed-color-function.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-color-function.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-color-function.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-color-function.html)\n [color-invalid-color-function.html](https://wpt.fyi/results/css/css-color/parsing/color-invalid-color-function.html) [(live test)](https://wpt.live/css/css-color/parsing/color-invalid-color-function.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-color-function.html)\n [color-valid-color-function.html](https://wpt.fyi/results/css/css-color/parsing/color-valid-color-function.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid-color-function.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-function.html)\n \n\n \n \nThe color function takes parameters specifying a color, in an explicitly listed color space.\n\n \nIt represents either an [invalid color](#invalid-color), as described below,\n or a [valid color](#valid-color).\n\n \nThe parameters have the following form:\n\n \n\n \n \nAn [<ident>](https://www.w3.org/TR/css-values-4/#typedef-ident) denoting\none of the [predefined color spaces](#predefined) (such as [display-p3](#valdef-color-display-p3))\nIndividual [predefined color spaces](#predefined) may further restrict whether [<number>](https://www.w3.org/TR/css-values-4/#number-value)s or [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)s\nor both, may be used.\n\n \nIf the [<ident>](https://www.w3.org/TR/css-values-4/#typedef-ident) names a non-existent color space\n(a name that does not match one of the [predefined color spaces](#predefined)),\nthis argument represents an [invalid color](#invalid-color).\n\n \n \nThe three parameter values that the color space takes (RGB or XYZ values).\n\n \n\n \nAn out of gamut color has component values\n less than 0 or 0%, or greater than 1 or 100%.\n These are not invalid, and are retained for intermediate computations;\n instead, for display, they are [css gamut mapped](#css-gamut-mapped) using a relative colorimetric intent\n which brings the values\n (in the display color space)\n within the range 0/0% to 1/100%\n at actual-value time.\n\n \n\n \n \nAn optional slash-separated [<alpha-value>](#typedef-color-alpha-value).\n\n \n\n \n Tests\n \n\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n \n\n \n \nThere is no Web compatibility issue\n with [color()](#funcdef-color), which is new in this level of the specification, and so color() does not support a [legacy color syntax](#legacy-color-syntax) that separates all of its arguments with commas.\n Using commas inside this function is an error.\n\n \nA color which is either an [invalid color](#invalid-color) or\n an [out of gamut](#out-of-gamut) color **can’t be displayed**.\n\n \nIf the specified color **can be displayed**,\n (that is, it isn’t an [invalid color](#invalid-color) and isn’t [out of gamut](#out-of-gamut))\n then this is the actual value of the [color()](#funcdef-color) function.\n\n \nIf the specified color\n is a [valid color](#valid-color) but [can’t be displayed](#cant-be-displayed),\n the actual value is derived from the specified color, [css gamut mapped](#css-gamut-mapped) for display.\n\n \nIf the color is an [invalid color](#invalid-color),\n the used value is [opaque black](#opaque-black).\n\n \n [](#ex-2020-oog-p3) This very intense lime color is in-gamut for rec.2020: \n\n```\ncolor(rec2020 0.42053 0.979780 0.00579);\n```\n\n \nin LCH, that color is\n\n```\nlch(86.6146% 160.0000 136.0088);\n```\n\n \nin display-p3, that color is\n\n```\ncolor(display-p3 -0.6112 1.0079 -0.2192);\n```\n\n \nand is out of gamut for display-p3\n (red and blue are negative, green is greater than 1).\n If you have a display-p3 screen, that color is:\n\n \n\n valid\n in gamut (for rec.2020)\n out of gamut (for your display)\n and so can’t be displayed\n \n\n The color used for display will be a less intense color\n produced automatically by gamut mapping. \n \n \n [](#ex-profoto-bad) This example has a typo!\n An intense green is provided in profoto-rgb space (which doesn’t exist).\n This makes it invalid, so the used value is [opaque black](#opaque-black) \n\n```\ncolor(profoto-rgb 0.4835 0.9167 0.2188)\n```\n\n \n 10.2. The Predefined sRGB Color Space: the [sRGB](#valdef-color-srgb) keyword[](#predefined-sRGB)\n \nThe **sRGB** predefined color space\n defined below\n is the same as is used for legacy sRGB colors,\n such as [rgb()](#funcdef-rgb).\n\n \n **srgb** \n \n The [srgb](#valdef-color-srgb) [[SRGB]](#biblio-srgb) color space accepts three numeric parameters,\n representing the red, green, and blue components of the color.\n In-gamut colors have all three components in the range [0, 1].\n The whitepoint is [D65](#d65). \n \n[[SRGB]](#biblio-srgb) specifies two viewing conditions, encoding and typical. The [[ICC]](#biblio-icc) recommends using the encoding conditions for color conversion and for optimal viewing, which are\n the values in the table below.\n\n \nsRGB is the default color space for CSS,\n used for all the legacy color functions.\n\n \nIt has the following characteristics:\n\n \n \n \n \n x\n y\n \n \n Red chromaticity\n 0.640\n 0.330\n \n Green chromaticity\n 0.300\n 0.600\n \n Blue chromaticity\n 0.150\n 0.060\n \n White chromaticity\n [D65](#d65)\n \n Transfer function\n see below\n \n White luminance\n 80.0 cd/m2\n \n Black luminance\n 0.20 cd/m2\n \n Image state\n display-referred\n \n Percentages\n Allowed for R, G and B\n \n Percent reference range \n for R,G,B: 0% = 0.0, 100% = 1.0\n \n\n```\nlet sign = c < 0? -1 : 1;\nlet abs = Math.abs(c);\n\nif (abs <= 0.04045) {\n cl = c / 12.92;\n}\nelse {\n cl = sign * (Math.pow((abs + 0.055) / 1.055, 2.4));\n}\n\n```\n\n \nc is the gamma-encoded red, green or blue component.\n cl is the corresponding linear-light component.\n\n \n \n Visualization of the sRGB color space in LCH. The primaries and secondaries are shown.\n \n \n \n Tests\n \n\n [predefined-001.html](https://wpt.fyi/results/css/css-color/predefined-001.html) [(live test)](https://wpt.live/css/css-color/predefined-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/predefined-001.html)\n [predefined-002.html](https://wpt.fyi/results/css/css-color/predefined-002.html) [(live test)](https://wpt.live/css/css-color/predefined-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/predefined-002.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n \n\n \n 10.3. The Predefined Linear-light sRGB Color Space: the [srgb-linear](#valdef-color-srgb-linear) keyword[](#predefined-sRGB-linear)\n \nThe **sRGB-linear** predefined color space\n is the same as [srgb](#valdef-color-srgb) except that the transfer function\n is linear-light (there is no gamma-encoding).\n\n \n **srgb-linear** \n \n The [srgb-linear](#valdef-color-srgb-linear) [[SRGB]](#biblio-srgb) color space accepts three numeric parameters,\n representing the red, green, and blue components of the color.\n In-gamut colors have all three components in the range [0, 1].\n The whitepoint is [D65](#d65). \n \nIt has the following characteristics:\n\n \n \n \n \n x\n y\n \n \n Red chromaticity\n 0.640\n 0.330\n \n Green chromaticity\n 0.300\n 0.600\n \n Blue chromaticity\n 0.150\n 0.060\n \n White chromaticity\n [D65](#d65)\n \n Transfer function\n unity, see below\n \n White luminance\n 80.0 cd/m2\n \n Black luminance\n 0.20 cd/m2\n \n Image state\n display-referred\n \n Percentages\n Allowed for R, G and B\n \n Percent reference range \n for R,G,B: 0% = 0.0, 100% = 1.0\n \n\n```\ncl = c;\n\n```\n\n \nc is the red, green or blue component.\n cl is the corresponding linear-light component, which is identical.\n\n \nTo avoid banding artifacts, a [higher precision is required](#predefined-precision-table) for [srgb-linear](#valdef-color-srgb-linear) than for [srgb](#valdef-color-srgb).\n\n \n [](#srgb-linear-swatches) For example, these are the same color \n\n```\n color(srgb 0.691 0.139 0.259)\n color(srgb-linear 0.435 0.017 0.055)\n\n```\n\n \n \n \n Tests\n \n\n [srgb-linear-001.html](https://wpt.fyi/results/css/css-color/srgb-linear-001.html) [(live test)](https://wpt.live/css/css-color/srgb-linear-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/srgb-linear-001.html)\n [srgb-linear-002.html](https://wpt.fyi/results/css/css-color/srgb-linear-002.html) [(live test)](https://wpt.live/css/css-color/srgb-linear-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/srgb-linear-002.html)\n [srgb-linear-003.html](https://wpt.fyi/results/css/css-color/srgb-linear-003.html) [(live test)](https://wpt.live/css/css-color/srgb-linear-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/srgb-linear-003.html)\n [srgb-linear-004.html](https://wpt.fyi/results/css/css-color/srgb-linear-004.html) [(live test)](https://wpt.live/css/css-color/srgb-linear-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/srgb-linear-004.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n \n\n \n 10.4. The Predefined Display P3 Color Space: the [display-p3](#valdef-color-display-p3) keyword[](#predefined-display-p3)\n \n **display-p3** \n \n The [display-p3](#valdef-color-display-p3) [[Display-P3]](#biblio-display-p3) color space accepts three numeric parameters,\n representing the red, green, and blue components of the color.\n In-gamut colors have all three components in the range [0, 1].\n It uses the same primary chromaticities as [[DCI-P3]](#biblio-dci-p3),\n but with a [D65](#d65) whitepoint, and the same transfer curve as sRGB. \n \nModern displays, TVs, laptop screens and phone screens\n are able to display all, or nearly all,\n of the display-p3 gamut.\n\n \nIt has the following characteristics:\n\n \n \n \n \n x\n y\n \n \n Red chromaticity\n 0.680\n 0.320\n \n Green chromaticity\n 0.265\n 0.690\n \n Blue chromaticity\n 0.150\n 0.060\n \n White chromaticity\n [D65](#d65)\n \n Transfer function\n same as srgb\n \n White luminance\n 80.0 cd/m2\n \n Black luminance\n 0.80 cd/m2\n \n Image state\n display-referred\n \n Percentages\n Allowed for R, G and B\n \n Percent reference range \n for R,G,B: 0% = 0.0, 100% = 1.0\n \n \n \n Visualization of the P3 color space in LCH.\n The primaries and secondaries are shown\n (but in sRGB, not in the correct colors).\n For comparison, the sRGB primaries and secondaries\n are also shown, as dashed circles.\n P3 primaries have higher Chroma. \n \n \n \n Tests\n \n\n [predefined-005.html](https://wpt.fyi/results/css/css-color/predefined-005.html) [(live test)](https://wpt.live/css/css-color/predefined-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/predefined-005.html)\n [predefined-006.html](https://wpt.fyi/results/css/css-color/predefined-006.html) [(live test)](https://wpt.live/css/css-color/predefined-006.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/predefined-006.html)\n [display-p3-001.html](https://wpt.fyi/results/css/css-color/display-p3-001.html) [(live test)](https://wpt.live/css/css-color/display-p3-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/display-p3-001.html)\n [display-p3-002.html](https://wpt.fyi/results/css/css-color/display-p3-002.html) [(live test)](https://wpt.live/css/css-color/display-p3-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/display-p3-002.html)\n [display-p3-003.html](https://wpt.fyi/results/css/css-color/display-p3-003.html) [(live test)](https://wpt.live/css/css-color/display-p3-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/display-p3-003.html)\n [display-p3-004.html](https://wpt.fyi/results/css/css-color/display-p3-004.html) [(live test)](https://wpt.live/css/css-color/display-p3-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/display-p3-004.html)\n [display-p3-005.html](https://wpt.fyi/results/css/css-color/display-p3-005.html) [(live test)](https://wpt.live/css/css-color/display-p3-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/display-p3-005.html)\n [display-p3-006.html](https://wpt.fyi/results/css/css-color/display-p3-006.html) [(live test)](https://wpt.live/css/css-color/display-p3-006.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/display-p3-006.html)\n \n\n \n\n [2d.color.space.p3.fillText.html](https://wpt.fyi/results/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.fillText.html) [(live test)](https://wpt.live/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.fillText.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.fillText.html)\n [2d.color.space.p3.fillText.shadow.html](https://wpt.fyi/results/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.fillText.shadow.html) [(live test)](https://wpt.live/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.fillText.shadow.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.fillText.shadow.html)\n [2d.color.space.p3.strokeText.html](https://wpt.fyi/results/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.strokeText.html) [(live test)](https://wpt.live/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.strokeText.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.strokeText.html)\n [2d.color.space.p3.to.p3.html](https://wpt.fyi/results/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.to.p3.html) [(live test)](https://wpt.live/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.to.p3.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.to.p3.html)\n [2d.color.space.p3.to.srgb.html](https://wpt.fyi/results/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.to.srgb.html) [(live test)](https://wpt.live/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.to.srgb.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.to.srgb.html)\n [2d.color.space.p3.toBlob.p3.canvas.html](https://wpt.fyi/results/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toBlob.p3.canvas.html) [(live test)](https://wpt.live/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toBlob.p3.canvas.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toBlob.p3.canvas.html)\n [2d.color.space.p3.toBlob.with.putImageData.html](https://wpt.fyi/results/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toBlob.with.putImageData.html) [(live test)](https://wpt.live/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toBlob.with.putImageData.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toBlob.with.putImageData.html)\n [2d.color.space.p3.toDataURL.jpeg.p3.canvas.html](https://wpt.fyi/results/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toDataURL.jpeg.p3.canvas.html) [(live test)](https://wpt.live/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toDataURL.jpeg.p3.canvas.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toDataURL.jpeg.p3.canvas.html)\n [2d.color.space.p3.toDataURL.p3.canvas.html](https://wpt.fyi/results/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toDataURL.p3.canvas.html) [(live test)](https://wpt.live/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toDataURL.p3.canvas.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toDataURL.p3.canvas.html)\n [2d.color.space.p3.toDataURL.with.putImageData.html](https://wpt.fyi/results/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toDataURL.with.putImageData.html) [(live test)](https://wpt.live/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toDataURL.with.putImageData.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toDataURL.with.putImageData.html)\n \n\n \n 10.5. The Predefined A98 RGB Color Space: the [a98-rgb](#valdef-color-a98-rgb) keyword[](#predefined-a98-rgb)\n \n **a98-rgb** \n \n The [a98-rgb](#valdef-color-a98-rgb) color space accepts three numeric parameters,\n representing the red, green, and blue components of the color.\n In-gamut colors have all three components in the range [0, 1].\n The transfer curve is\n a gamma function, close to but not exactly 1/2.2. \n \nIt has the following characteristics:\n\n \n \n \n \n x\n y\n \n \n Red chromaticity\n 0.6400\n 0.3300\n \n Green chromaticity\n 0.2100\n 0.7100\n \n Blue chromaticity\n 0.1500\n 0.0600\n \n White chromaticity\n [D65](#d65)\n \n Transfer function\n 256/563 \n \n White luminance\n 160.0 cd/m2\n \n Black luminance\n 0.5557 cd/m2\n \n Image state\n display-referred\n \n Percentages\n Allowed for R, G and B\n \n Percent reference range \n for R,G,B: 0% = 0.0, 100% = 1.0\n \n \n \n Visualization of the A98 color space in LCH.\n The primaries and secondaries are shown\n (but in sRGB, not in the correct colors).\n For comparison, the sRGB primaries and secondaries\n are also shown, as dashed circles.\n a98 primaries have higher Chroma,\n especially the yellow, green and cyan. \n \n \n \n Tests\n \n\n [predefined-007.html](https://wpt.fyi/results/css/css-color/predefined-007.html) [(live test)](https://wpt.live/css/css-color/predefined-007.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/predefined-007.html)\n [predefined-008.html](https://wpt.fyi/results/css/css-color/predefined-008.html) [(live test)](https://wpt.live/css/css-color/predefined-008.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/predefined-008.html)\n [a98rgb-001.html](https://wpt.fyi/results/css/css-color/a98rgb-001.html) [(live test)](https://wpt.live/css/css-color/a98rgb-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/a98rgb-001.html)\n [a98rgb-002.html](https://wpt.fyi/results/css/css-color/a98rgb-002.html) [(live test)](https://wpt.live/css/css-color/a98rgb-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/a98rgb-002.html)\n [a98rgb-003.html](https://wpt.fyi/results/css/css-color/a98rgb-003.html) [(live test)](https://wpt.live/css/css-color/a98rgb-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/a98rgb-003.html)\n [a98rgb-004.html](https://wpt.fyi/results/css/css-color/a98rgb-004.html) [(live test)](https://wpt.live/css/css-color/a98rgb-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/a98rgb-004.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n \n\n \n 10.6. The Predefined ProPhoto RGB Color Space: the [prophoto-rgb](#valdef-color-prophoto-rgb) keyword[](#predefined-prophoto-rgb)\n \n **prophoto-rgb** \n \n The [prophoto-rgb](#valdef-color-prophoto-rgb) color space accepts three numeric parameters,\n representing the red, green, and blue components of the color.\n In-gamut colors have all three components in the range [0, 1].\n The transfer curve is\n a gamma function with a value of 1/1.8,\n and a small linear portion near black.\n The white point is [D50](#d50), the same as is used by CIE Lab. Thus,\n conversion to CIE Lab does not require the chromatic adaptation step. \n \nThe ProPhoto RGB space uses hyper-saturated,\n non physically realizable primaries.\n These were chosen to allow\n a wide color gamut and in particular,\n to minimize hue shifts under tonal manipulation.\n It is often used in digital photography as a wide gamut\n color space for the archival version of\n photographic images. The [prophoto-rgb](#valdef-color-prophoto-rgb) color space allows CSS to\n specify colors that will match colors in such images\n having the same RGB values.\n\n \nThe ProPhoto RGB space was originally developed by Kodak\n and is described in [[Wolfe]](#biblio-wolfe).\n It was standardized by ISO as [[ROMM]](#biblio-romm),[[ROMM-RGB]](#biblio-romm-rgb).\n\n \nThe white luminance is given as a range, and\n the viewing flare (and thus, the black luminance)\n is 0.5% to 1.0% of this.\n\n \nIt has the following characteristics:\n\n \n \n \n \n x\n y\n \n \n Red chromaticity\n 0.734699\n 0.265301\n \n Green chromaticity\n 0.159597\n 0.840403\n \n Blue chromaticity\n 0.036598\n 0.000105\n \n White chromaticity\n [D50](#d50)\n \n Transfer function\n see below \n \n White luminance\n 160.0 to 640.0 cd/m2\n \n Black luminance\n See text\n \n Image state\n display-referred\n \n Percentages\n Allowed for R, G and B\n \n Percent reference range \n for R,G,B: 0% = 0.0, 100% = 1.0\n \n\n```\nconst E = 16/512;\nlet sign = c < 0? -1 : 1;\nlet abs = Math.abs(c);\n\nif (abs <= E) {\n cl = c / 16;\n}\nelse {\n cl = sign * Math.pow(c, 1.8);\n}\n\n```\n\n \nc is the gamma-encoded red, green or blue component.\n cl is the corresponding linear-light component.\n\n \n \n Visualization of the prophoto-rgb color space in LCH. The primaries and secondaries are shown\n (but in sRGB, not in the correct colors).\n For comparison, the sRGB primaries and secondaries\n are also shown, as dashed circles.\n prophoto-rgb primaries and secondaries have much higher Chroma,\n but much of this ultrawide gamut\n does not correspond to physically realizable colors. \n \n \n \n Tests\n \n\n [predefined-009.html](https://wpt.fyi/results/css/css-color/predefined-009.html) [(live test)](https://wpt.live/css/css-color/predefined-009.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/predefined-009.html)\n [predefined-010.html](https://wpt.fyi/results/css/css-color/predefined-010.html) [(live test)](https://wpt.live/css/css-color/predefined-010.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/predefined-010.html)\n [prophoto-rgb-001.html](https://wpt.fyi/results/css/css-color/prophoto-rgb-001.html) [(live test)](https://wpt.live/css/css-color/prophoto-rgb-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/prophoto-rgb-001.html)\n [prophoto-rgb-002.html](https://wpt.fyi/results/css/css-color/prophoto-rgb-002.html) [(live test)](https://wpt.live/css/css-color/prophoto-rgb-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/prophoto-rgb-002.html)\n [prophoto-rgb-003.html](https://wpt.fyi/results/css/css-color/prophoto-rgb-003.html) [(live test)](https://wpt.live/css/css-color/prophoto-rgb-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/prophoto-rgb-003.html)\n [prophoto-rgb-004.html](https://wpt.fyi/results/css/css-color/prophoto-rgb-004.html) [(live test)](https://wpt.live/css/css-color/prophoto-rgb-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/prophoto-rgb-004.html)\n [prophoto-rgb-005.html](https://wpt.fyi/results/css/css-color/prophoto-rgb-005.html) [(live test)](https://wpt.live/css/css-color/prophoto-rgb-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/prophoto-rgb-005.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n \n\n \n 10.7. The Predefined ITU-R BT.2020-2 Color Space: the [rec2020](#valdef-color-rec2020) keyword[](#predefined-rec2020)\n \n **rec2020** \n \n The [rec2020](#valdef-color-rec2020) [[Rec.2020]](#biblio-rec2020) color space accepts three numeric parameters,\n representing the red, green, and blue components of the color.\n In-gamut colors have all three components in the range [0, 1],\n (\"full-range\", in video terminology).\n ITU Reference 2020 is used for\n Ultra High Definition, 4k and 8k television. \n \nThe primaries are physically realizable,\n but with difficulty\n as they lie very close to the spectral locus.\n\n \nCurrent displays are unable to reproduce the full gamut of rec2020.\n Coverage is expected to increase over time as displays improve.\n\n \nIt has the following characteristics:\n\n \n \n \n \n x\n y\n \n \n Red chromaticity\n 0.708\n 0.292\n \n Green chromaticity\n 0.170\n 0.797\n \n Blue chromaticity\n 0.131\n 0.046\n \n White chromaticity\n [D65](#d65)\n \n Transfer function\n see below, from [[Rec.2020]](#biblio-rec2020) table 4\n \n Image state\n display-referred\n \n Percentages\n Allowed for R, G and B\n \n Percent reference range \n for R,G,B: 0% = 0.0, 100% = 1.0\n \n\n```\nconst α = 1.09929682680944 ;\nconst β = 0.018053968510807;\n\nlet sign = c < 0? -1 : 1;\nlet abs = Math.abs(c);\n\nif (abs < β * 4.5 ) {\n cl = c / 4.5;\n}\nelse {\n cl = sign * (Math.pow((abs + α -1 ) / α, 1/0.45));\n}\n\n```\n\n \nc is the gamma-encoded red, green or blue component.\n cl is the corresponding linear-light component.\n\n \n \n Visualization of the rec2020 color space in LCH. The primaries and secondaries are shown\n (but in sRGB, not in the correct colors).\n For comparison, the sRGB primaries and secondaries\n are also shown, as dashed circles.\n rec2020 primaries have much higher Chroma. \n \n \n \n Tests\n \n\n [predefined-011.html](https://wpt.fyi/results/css/css-color/predefined-011.html) [(live test)](https://wpt.live/css/css-color/predefined-011.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/predefined-011.html)\n [predefined-012.html](https://wpt.fyi/results/css/css-color/predefined-012.html) [(live test)](https://wpt.live/css/css-color/predefined-012.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/predefined-012.html)\n [rec2020-001.html](https://wpt.fyi/results/css/css-color/rec2020-001.html) [(live test)](https://wpt.live/css/css-color/rec2020-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rec2020-001.html)\n [rec2020-002.html](https://wpt.fyi/results/css/css-color/rec2020-002.html) [(live test)](https://wpt.live/css/css-color/rec2020-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rec2020-002.html)\n [rec2020-003.html](https://wpt.fyi/results/css/css-color/rec2020-003.html) [(live test)](https://wpt.live/css/css-color/rec2020-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rec2020-003.html)\n [rec2020-004.html](https://wpt.fyi/results/css/css-color/rec2020-004.html) [(live test)](https://wpt.live/css/css-color/rec2020-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rec2020-004.html)\n [rec2020-005.html](https://wpt.fyi/results/css/css-color/rec2020-005.html) [(live test)](https://wpt.live/css/css-color/rec2020-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/rec2020-005.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n \n\n \n 10.8. The Predefined CIE XYZ Color Spaces: the [xyz-d50](#valdef-color-xyz-d50), [xyz-d65](#valdef-color-xyz-d65), and [xyz](#valdef-color-xyz) keywords[](#predefined-xyz)\n \n **xyz-d50**, **xyz-d65**, **xyz** \n \n The [xyz](#valdef-color-xyz) color space accepts three numeric parameters,\n representing the X,Y and Z values.\n It represents the CIE XYZ [[COLORIMETRY]](#biblio-colorimetry) color space,\n scaled such that diffuse white has a [luminance](#luminance) (Y) of 1.0.\n and, if necessary, chromatically adapted to the reference white. \n \nThe reference white for [xyz-d50](#valdef-color-xyz-d50) is [D50](#d50), while\n the reference white for [xyz-d65](#valdef-color-xyz-d65) and [xyz](#valdef-color-xyz) is [D65](#d65).\n\n \nValues greater than 1.0/100% are allowed and must not be clamped;\n colors where Y is greater than 1.0 represent colors brighter than diffuse white.\n Values less than 0/0% are uncommon,\n but can occur as a result of chromatic adaptation,\n and likewise must not be clamped.\n\n \nIt has the following characteristics:\n\n \n \n \n Percentages\n Allowed for X,Y,Z\n \n Percent reference range \n for X,Y,Z: 0% = 0.0, 100% = 1.0\n \n \n [](#ex-xyz) These are exactly equivalent: \n\n```\n #7654CD\n rgb(46.27% 32.94% 80.39%)\n lab(44.36% 36.05 -58.99)\n color(xyz-d50 0.2005 0.14089 0.4472)\n color(xyz-d65 0.21661 0.14602 0.59452)\n\n```\n\n \n \n [](#ex-xyz-white) These colors are exactly equivalent, and represent white: \n\n```\n #FFFFFF\n color(xyz-d50 0.9643 1 0.8251)\n color(xyz-d65 0.9505 1 1.089)\n\n```\n\n \n \n \n Tests\n \n\n [predefined-016.html](https://wpt.fyi/results/css/css-color/predefined-016.html) [(live test)](https://wpt.live/css/css-color/predefined-016.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/predefined-016.html)\n [xyz-001.html](https://wpt.fyi/results/css/css-color/xyz-001.html) [(live test)](https://wpt.live/css/css-color/xyz-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/xyz-001.html)\n [xyz-002.html](https://wpt.fyi/results/css/css-color/xyz-002.html) [(live test)](https://wpt.live/css/css-color/xyz-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/xyz-002.html)\n [xyz-003.html](https://wpt.fyi/results/css/css-color/xyz-003.html) [(live test)](https://wpt.live/css/css-color/xyz-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/xyz-003.html)\n [xyz-004.html](https://wpt.fyi/results/css/css-color/xyz-004.html) [(live test)](https://wpt.live/css/css-color/xyz-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/xyz-004.html)\n [xyz-005.html](https://wpt.fyi/results/css/css-color/xyz-005.html) [(live test)](https://wpt.live/css/css-color/xyz-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/xyz-005.html)\n [xyz-d50-001.html](https://wpt.fyi/results/css/css-color/xyz-d50-001.html) [(live test)](https://wpt.live/css/css-color/xyz-d50-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/xyz-d50-001.html)\n [xyz-d50-002.html](https://wpt.fyi/results/css/css-color/xyz-d50-002.html) [(live test)](https://wpt.live/css/css-color/xyz-d50-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/xyz-d50-002.html)\n [xyz-d50-003.html](https://wpt.fyi/results/css/css-color/xyz-d50-003.html) [(live test)](https://wpt.live/css/css-color/xyz-d50-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/xyz-d50-003.html)\n [xyz-d50-004.html](https://wpt.fyi/results/css/css-color/xyz-d50-004.html) [(live test)](https://wpt.live/css/css-color/xyz-d50-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/xyz-d50-004.html)\n [xyz-d50-005.html](https://wpt.fyi/results/css/css-color/xyz-d50-005.html) [(live test)](https://wpt.live/css/css-color/xyz-d50-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/xyz-d50-005.html)\n [xyz-d65-001.html](https://wpt.fyi/results/css/css-color/xyz-d65-001.html) [(live test)](https://wpt.live/css/css-color/xyz-d65-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/xyz-d65-001.html)\n [xyz-d65-002.html](https://wpt.fyi/results/css/css-color/xyz-d65-002.html) [(live test)](https://wpt.live/css/css-color/xyz-d65-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/xyz-d65-002.html)\n [xyz-d65-003.html](https://wpt.fyi/results/css/css-color/xyz-d65-003.html) [(live test)](https://wpt.live/css/css-color/xyz-d65-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/xyz-d65-003.html)\n [xyz-d65-004.html](https://wpt.fyi/results/css/css-color/xyz-d65-004.html) [(live test)](https://wpt.live/css/css-color/xyz-d65-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/xyz-d65-004.html)\n [xyz-d65-005.html](https://wpt.fyi/results/css/css-color/xyz-d65-005.html) [(live test)](https://wpt.live/css/css-color/xyz-d65-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/xyz-d65-005.html)\n [color-valid.html](https://wpt.fyi/results/css/css-color/parsing/color-valid.html) [(live test)](https://wpt.live/css/css-color/parsing/color-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid.html)\n \n\n \n 10.9. Converting Predefined Color Spaces to Lab or Oklab[](#predefined-to-lab-oklab)\n \nFor all predefined RGB color spaces,\n conversion to Lab requires several steps,\n although in practice all but the first step are linear calculations and can be combined.\n\n \n\n Convert from gamma-encoded RGB to linear-light RGB (undo gamma encoding) \n Convert from linear RGB to CIE XYZ \n If needed, convert from a [D65](#d65) whitepoint\n (used by [sRGB](#valdef-color-srgb), [display-p3](#valdef-color-display-p3), [a98-rgb](#valdef-color-a98-rgb) and [rec2020](#valdef-color-rec2020))\n to the [D50](#d50) whitepoint used in Lab,\n with the linear Bradford transform. [prophoto-rgb](#valdef-color-prophoto-rgb) already has a D50 whitepoint. \n Convert D50-adapted XYZ to Lab \n \n\n \nConversion to Oklab is similar,\n but the chromatic adaptation step\n is only needed for [prophoto-rgb](#valdef-color-prophoto-rgb).\n\n \n\n Convert from gamma-encoded RGB to linear-light RGB (undo gamma encoding) \n Convert from linear RGB to CIE XYZ \n If needed, convert from a [D50](#d50) whitepoint (used by [prophoto-rgb](#valdef-color-prophoto-rgb))\n to the [D65](#d65) whitepoint used in Oklab,\n with the linear Bradford transform. \n Convert D65-adapted XYZ to Oklab \n \n\n \nThere is sample JavaScript code for these conversions\n in [§ 18 Sample code for Color Conversions](#color-conversion-code).\n\n 10.10. Converting Lab or Oklab to Predefined RGB Color Spaces[](#oklab-lab-to-predefined)\n \nConversion from Lab to predefined spaces like [display-p3](#valdef-color-display-p3) or [rec2020](#valdef-color-rec2020) also requires multiple steps,\n and again in practice all but the last step are linear calculations and can be combined.\n\n \n\n Convert Lab to (D50-adapted) XYZ \n If needed, convert from a [D50](#d50) whitepoint (used by Lab)\n to the [D65](#d65) whitepoint used in sRGB and most other RGB spaces,\n with the linear Bradford transform. [prophoto-rgb](#valdef-color-prophoto-rgb)' does not require this step. \n Convert from (D65-adapted) CIE XYZ to linear RGB \n Convert from linear-light RGB to RGB (do gamma encoding) \n \n\n \nConversion from Oklab is similar,\n but the chromatic adaptation step\n is only needed for [prophoto-rgb](#valdef-color-prophoto-rgb).\n\n \n\n Convert Oklab to (D65-adapted) XYZ \n If needed, convert from a [D65](#d65) whitepoint (used by Oklab)\n to the [D50](#d50) whitepoint used in [prophoto-rgb](#valdef-color-prophoto-rgb),\n with the linear Bradford transform. \n Convert from (D65-adapted) CIE XYZ to linear RGB \n Convert from linear-light RGB to RGB (do gamma encoding) \n \n\n \nThere is sample JavaScript code for these conversions\n in [§ 18 Sample code for Color Conversions](#color-conversion-code).\n\n \nImplementations may choose to implement these steps in some other way\n (for example, using an ICC profile with relative colorimetric rendering intent)\n provided the results are the same for colors inside both the source and destination gamuts.\n\n 10.11. Converting Between Predefined RGB Color Spaces[](#predefined-to-predefined)\n \nConversion from one predefined RGB color space to another\n requires multiple steps,\n one of which is only needed when the whitepoints differ.\n To convert from src to dest:\n\n \n\n Convert from gamma-encoded srcRGB to linear-light srcRGB (undo gamma encoding) \n Convert from linear srcRGB to CIE XYZ \n If src and dest have different whitepoints,\n convert the XYZ value from srcWhite to destWhite\n with the linear Bradford transform. \n Convert from CIE XYZ to linear destRGB \n Convert from linear-light destRGB to destRGB (do gamma encoding) \n \n\n \nThere is sample JavaScript code for this conversion\n for the predefined RGB color spaces, in [§ 18 Sample code for Color Conversions](#color-conversion-code).\n\n 10.12. Simple Alpha Compositing[](#alpha)\n \nWhen drawing, implementations must handle alpha\n according to the rules in [Section 5.1 Simple alpha compositing](https://www.w3.org/TR/compositing-1/#simplealphacompositing) of [[Compositing]](#biblio-compositing).",
      "rawLength": 79348
    },
    "color-conversion": {
      "id": "color-conversion",
      "heading": "11.  Converting Colors",
      "content": "Tests\n \nThis section provides an algorithm used later, it does not need tests.\n\n \n\n \n \n \nColors may be converted\nfrom one color space to another and,\nprovided that there is no gamut mapping\nand that each color space can represent out of gamut colors,\n(for RGB spaces, this means that the transfer function is defined over the extended range)\nthen (subject to numerical precision and round-off error)\nthe two colors will look the same and represent the same color sensation.\n\n \nTo convert a color col1 in a source color space src with white point src-white to a color col2 in destination color space dest with white point dest-white:\n\n \n\n [](#convert-polrect)If src is in a [cylindrical polar color](#cylindrical-polar-color) representation,\n first convert col1 to the corresponding [rectangular orthogonal color](#rectangular-orthogonal-color) representation\n and let this be the new col1. Replace any [missing component](#missing-color-component) with zero. \n [](#convert-tolinear)If src is not a linear-light representation,\n convert it to linear light (undo gamma-encoding)\n and let this be the new col1. \n [](#convert-toXYZ)Convert col1 to CIE XYZ with a given whitepoint src-white and let this be xyz. \n [](#convert-CAT)If dest-white is not the same as src-white,\n chromatically adapt xyz to dest-white using a linear Bradford [chromatic adaptation transform](#chromatic-adaptation-transform),\n and let this be the new xyz. \n [](#convert-destpolar)If dest is a [cylindrical polar color](#cylindrical-polar-color) representation,\n let dest-rect be the corresponding [rectangular orthogonal color](#rectangular-orthogonal-color) representation.\n Otherwise, let dest-rect be dest. \n [](#convert-fromXYZ)Convert xyz to dest,\n followed by applying any transfer function (gamma encoding),\n producing col2. \n [](#convert-display)If dest is a physical output color space, such as a display,\n then col2 must be [css gamut mapped](#css-gamut-mapped) so that it [can be displayed](#can-be-displayed). \n [](#convert-rectpol)If dest-rect is not the same as dest,\n in other words dest is a [cylindrical polar color](#cylindrical-polar-color) representation,\n convert from dest-rect to dest, and let this be col2.\n This may produce [missing component](#missing-color-component)s.",
      "rawLength": 3977
    },
    "interpolation": {
      "id": "interpolation",
      "heading": "12.  Color Interpolation",
      "content": "Color interpolation happens with\n gradients,\n compositing,\n filters,\n transitions,\n animations, and\n color mixing and color modification functions.\n\n \nInterpolation between two [<color>](#typedef-color) values\n takes place by executing the following steps:\n\n \n\n checking the two colors for [analogous components](#analogous-components) which will be **carried forward**\n converting them to a given color space\n which will be referred to as the **interpolation color space** below.\n If one or both colors are already in the interpolation color space,\n this conversion changes any [powerless](#powerless-color-component) components to [missing](#missing-color-component) values \n (if required) re-inserting [carried forward](#carried-forward) values in the converted colors\n (if required) fixing up the hues, depending on the selected [<hue-interpolation-method>](#typedef-hue-interpolation-method)\n changing the color components to [premultiplied](#premultiplied) form\n linearly interpolating each component of the computed value of the color separately\n undoing [premultiplication](#premultiplied)\n \n\n \nInterpolating to or from [currentcolor](#valdef-color-currentcolor) is possible.\n The numerical value used for this purpose is the used value.\n\n 12.1. Color Space for Interpolation[](#interpolation-space)\n \nVarious features in CSS depend on interpolating colors.\n\n \n [](#ex-interpolating-specs) Examples include: \n \n\n \n \n[<gradient>](https://www.w3.org/TR/css-images-4/#typedef-gradient)\n\n \n \n[filter](https://www.w3.org/TR/filter-effects-1/#propdef-filter)\n\n \n \n[animation](https://www.w3.org/TR/css-animations-1/#propdef-animation)\n\n \n \n[transition](https://www.w3.org/TR/css-transitions-1/#propdef-transition)\n\n \n \n[color-mix()](https://www.w3.org/TR/css-color-5/#funcdef-color-mix)\n\n \n \n[relative color](https://www.w3.org/TR/css-color-5/#relative-color) syntax\n\n \n\n \n \nMixing or otherwise combining colors\n has different results depending on the [interpolation color space](#interpolation-color-space) used.\n Thus, different color spaces may be more appropriate for each interpolation use case.\n\n \n\n \n \nIn some cases, the result of physically mixing two colored lights is desired.\nIn that case, the CIE XYZ or srgb-linear color space is appropriate, because they are linear in light intensity.\n\n \n \nIf colors need to be evenly spaced perceptually (such as in a gradient),\nthe Oklab color space (and the older Lab), are designed to be perceptually uniform.\n\n \n \nIf avoiding graying out in color mixing is desired, i.e. maximizing chroma throughout the transition,\nOKLCh (and the older LCH) work well for that.\n\n \n \nLastly, compatibility with legacy Web content may be the most important consideration.\nThe sRGB color space, which is neither linear-light nor perceptually uniform, is the choice here,\neven though it produces poorer results (overly dark or greyish mixes).\n\n \n\n \nThese features are collectively termed the **host syntax**.\n\n \nTo permit a host syntax to indicate the [interpolation color space](#interpolation-color-space),\n this specification exports a [color-interpolation-method](#color-interpolation-method) production.\n It is not used by this specification itself,\n only exposed so that other specifications can use it; see e.g. use in [CSS Images 4 § 3.1 Linear Gradients: the linear-gradient() notation](https://www.w3.org/TR/css-images-4/#linear-gradients).\n\n \nThe host syntax should define\n what the default [interpolation color space](#interpolation-color-space) should be for each case,\n and preferably provide syntax for authors to override this default.\n If such syntax is part of a property value, it should use the [color-interpolation-method](#color-interpolation-method) production,\n defined below for easy reference from other specifications.\n This ensures consistency across CSS,\n and that further customizations on how color interpolation is performed\n can automatically percolate across all of CSS.\n\n```\n**<color-space>** = <rectangular-color-space> [|](https://www.w3.org/TR/css-values-4/#comb-one) <polar-color-space>\n**<rectangular-color-space>** = [srgb](#valdef-color-srgb) [|](https://www.w3.org/TR/css-values-4/#comb-one) [srgb-linear](#valdef-color-srgb-linear) [|](https://www.w3.org/TR/css-values-4/#comb-one) [display-p3](#valdef-color-display-p3) [|](https://www.w3.org/TR/css-values-4/#comb-one) [a98-rgb](#valdef-color-a98-rgb) [|](https://www.w3.org/TR/css-values-4/#comb-one) [prophoto-rgb](#valdef-color-prophoto-rgb) [|](https://www.w3.org/TR/css-values-4/#comb-one) [rec2020](#valdef-color-rec2020) [|](https://www.w3.org/TR/css-values-4/#comb-one) [lab](#valdef-lab-lab) [|](https://www.w3.org/TR/css-values-4/#comb-one) [oklab](#valdef-oklab-oklab) [|](https://www.w3.org/TR/css-values-4/#comb-one) [xyz](#valdef-color-xyz) [|](https://www.w3.org/TR/css-values-4/#comb-one) [xyz-d50](#valdef-color-xyz-d50) [|](https://www.w3.org/TR/css-values-4/#comb-one) [xyz-d65](#valdef-color-xyz-d65)\n**<polar-color-space>** = [hsl](#valdef-hsl-hsl) [|](https://www.w3.org/TR/css-values-4/#comb-one) [hwb](#valdef-hwb-hwb) [|](https://www.w3.org/TR/css-values-4/#comb-one) [lch](#valdef-lch-lch) [|](https://www.w3.org/TR/css-values-4/#comb-one) [oklch](#valdef-oklch-oklch)\n**<hue-interpolation-method>** = [ shorter [|](https://www.w3.org/TR/css-values-4/#comb-one) longer [|](https://www.w3.org/TR/css-values-4/#comb-one) increasing [|](https://www.w3.org/TR/css-values-4/#comb-one) decreasing ] hue\n**<color-interpolation-method>** = in [ [<rectangular-color-space>](#typedef-rectangular-color-space) [|](https://www.w3.org/TR/css-values-4/#comb-one) [<polar-color-space>](#typedef-polar-color-space) [<hue-interpolation-method>](#typedef-hue-interpolation-method)[?](https://www.w3.org/TR/css-values-4/#mult-opt) ]\n\n```\n\n \n The keywords in the definitions of [<rectangular-color-space>](#typedef-rectangular-color-space) and [<polar-color-space>](#typedef-polar-color-space) each refer to their corresponding color space,\n represented in CSS either by the functional syntax with the same name,\n or (if no such function is present), by the corresponding [<ident>](https://www.w3.org/TR/css-values-4/#typedef-ident) in the [color()](#funcdef-color) function. \n\n \n Tests\n \n\n [color-mix-percents-01.html](https://wpt.fyi/results/css/css-color/color-mix-percents-01.html) [(live test)](https://wpt.live/css/css-color/color-mix-percents-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-percents-01.html)\n [color-mix-percents-02.html](https://wpt.fyi/results/css/css-color/color-mix-percents-02.html) [(live test)](https://wpt.live/css/css-color/color-mix-percents-02.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-percents-02.html)\n \n\n \n\n [gradients-with-transparent.html](https://wpt.fyi/results/css/css-images/gradients-with-transparent.html) [(live test)](https://wpt.live/css/css-images/gradients-with-transparent.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/gradients-with-transparent.html)\n [gradient-eval-001.html](https://wpt.fyi/results/css/css-images/gradient/gradient-eval-001.html) [(live test)](https://wpt.live/css/css-images/gradient/gradient-eval-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/gradient/gradient-eval-001.html)\n [gradient-eval-002.html](https://wpt.fyi/results/css/css-images/gradient/gradient-eval-002.html) [(live test)](https://wpt.live/css/css-images/gradient/gradient-eval-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/gradient/gradient-eval-002.html)\n [gradient-eval-003.html](https://wpt.fyi/results/css/css-images/gradient/gradient-eval-003.html) [(live test)](https://wpt.live/css/css-images/gradient/gradient-eval-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/gradient/gradient-eval-003.html)\n [gradient-eval-004.html](https://wpt.fyi/results/css/css-images/gradient/gradient-eval-004.html) [(live test)](https://wpt.live/css/css-images/gradient/gradient-eval-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/gradient/gradient-eval-004.html)\n [gradient-eval-005.html](https://wpt.fyi/results/css/css-images/gradient/gradient-eval-005.html) [(live test)](https://wpt.live/css/css-images/gradient/gradient-eval-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/gradient/gradient-eval-005.html)\n [gradient-eval-006.html](https://wpt.fyi/results/css/css-images/gradient/gradient-eval-006.html) [(live test)](https://wpt.live/css/css-images/gradient/gradient-eval-006.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/gradient/gradient-eval-006.html)\n [gradient-eval-007.html](https://wpt.fyi/results/css/css-images/gradient/gradient-eval-007.html) [(live test)](https://wpt.live/css/css-images/gradient/gradient-eval-007.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/gradient/gradient-eval-007.html)\n [gradient-eval-008.html](https://wpt.fyi/results/css/css-images/gradient/gradient-eval-008.html) [(live test)](https://wpt.live/css/css-images/gradient/gradient-eval-008.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/gradient/gradient-eval-008.html)\n [gradient-eval-009.html](https://wpt.fyi/results/css/css-images/gradient/gradient-eval-009.html) [(live test)](https://wpt.live/css/css-images/gradient/gradient-eval-009.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/gradient/gradient-eval-009.html)\n [gradient-none-interpolation.html](https://wpt.fyi/results/css/css-images/gradient/gradient-none-interpolation.html) [(live test)](https://wpt.live/css/css-images/gradient/gradient-none-interpolation.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/gradient/gradient-none-interpolation.html)\n [legacy-color-gradient.html](https://wpt.fyi/results/css/css-images/gradient/legacy-color-gradient.html) [(live test)](https://wpt.live/css/css-images/gradient/legacy-color-gradient.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/gradient/legacy-color-gradient.html)\n [oklab-gradient.html](https://wpt.fyi/results/css/css-images/gradient/oklab-gradient.html) [(live test)](https://wpt.live/css/css-images/gradient/oklab-gradient.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/gradient/oklab-gradient.html)\n [srgb-gradient.html](https://wpt.fyi/results/css/css-images/gradient/srgb-gradient.html) [(live test)](https://wpt.live/css/css-images/gradient/srgb-gradient.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/gradient/srgb-gradient.html)\n [srgb-linear-gradient.html](https://wpt.fyi/results/css/css-images/gradient/srgb-linear-gradient.html) [(live test)](https://wpt.live/css/css-images/gradient/srgb-linear-gradient.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/gradient/srgb-linear-gradient.html)\n [xyz-gradient.html](https://wpt.fyi/results/css/css-images/gradient/xyz-gradient.html) [(live test)](https://wpt.live/css/css-images/gradient/xyz-gradient.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/gradient/xyz-gradient.html)\n [gradient-interpolation-method-valid.html](https://wpt.fyi/results/css/css-images/parsing/gradient-interpolation-method-valid.html) [(live test)](https://wpt.live/css/css-images/parsing/gradient-interpolation-method-valid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/parsing/gradient-interpolation-method-valid.html)\n [gradient-interpolation-method-invalid.html](https://wpt.fyi/results/css/css-images/parsing/gradient-interpolation-method-invalid.html) [(live test)](https://wpt.live/css/css-images/parsing/gradient-interpolation-method-invalid.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/parsing/gradient-interpolation-method-invalid.html)\n [gradient-interpolation-method-computed.html](https://wpt.fyi/results/css/css-images/parsing/gradient-interpolation-method-computed.html) [(live test)](https://wpt.live/css/css-images/parsing/gradient-interpolation-method-computed.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-images/parsing/gradient-interpolation-method-computed.html)\n \n\n \n \nIf the host syntax does not define what color space\n interpolation should take place in,\n it defaults to Oklab.\n\n \nAuthors that prefer interpolation in sRGB\n in a particular instance\n can opt-in to the old behavior\n by explicitly specifying sRGB as the [interpolation color space](#interpolation-color-space),\n for example on a particular gradient where that result is desired.\n\n \nIf the colors to be interpolated are outside the gamut\n of the [interpolation color space](#interpolation-color-space) ,\n then once converted to that space,\n they will contain out of range values.\n\n \nThese are not clipped, but the values are interpolated as-is.\n\n 12.2. Interpolating with Missing Components[](#interpolation-missing)\n \nIn the course of converting the two colors\n to the [interpolation color space](#interpolation-color-space),\n any [missing components](#missing-color-component) would be replaced with the value 0.\n\n \nThus, the first stage in interpolating two colors\n is to classify any [missing components](#missing-color-component) in the input colors,\n and compare them to the components of the [interpolation color space](#interpolation-color-space).\n If any [analogous components](#analogous-components) which are missing components are found,\n they will be carried forward and re-inserted in the converted color\n before premultiplication, and\n before linear interpolation takes place.\n\n \nThe **analogous components** are as follows:\n\n \n \n \n Category\n Components\n \n Reds\n r,x\n \n Greens\n g,y\n \n Blues\n b,z\n \n Lightness\n L\n \n Colorfulness\n C, S\n \n Hue\n H\n \n Opponent a\n a\n \n Opponent b\n b\n \n Alpha\n alpha\n \n \nNote: for the purposes of this classification,\n the XYZ spaces are considered super-saturated RGB spaces.\n Also, despite Saturation being Lightness-dependent,\n it falls in the same category as Chroma here.\n The Whiteness and Blackness components of HWB\n have no analogs in other color spaces.\n\n \n [](#ex-analogous-hue) For example, if these two colors\n are to be interpolated in OKLCh,\n the missing hue in the CIE LCH color\n is analogous to the hue component of OKLCh\n and will be carried forward\n while the missing blue component\n in the second color\n is not analogous to any OKLCh component\n and will not be carried forward: \n\n```\n lch(50% 0.02 none)\n color(display-p3 0.7 0.5 none)\n\n```\n\n \nwhich convert to\n\n```\n oklch(56.897% 0.0001 0)\n oklch(63.612% 0.1522 78.748)\n\n```\n\n \nand with carried forward [missing component](#missing-color-component) re-inserted,\n the two colors to be interpolated are:\n\n```\n oklch(56.897% 0.0001 none)\n oklch(63.612% 0.1522 78.748)\n\n```\n\n \n \nIf a color with a carried forward [missing component](#missing-color-component) is interpolated\n with another color\n which is not missing that component,\n the missing component is treated as having\n the other color’s component value.\n\n \nTherefore,\n the carrying-forward step\n must be performed before any [powerless component](#powerless-color-component) handling.\n\n \n [](#ex-oklch-missing-hue) For example, if these two colors are interpolated,\n the second of which has a missing hue: \n\n```\n oklch(78.3% 0.108 326.5)\n oklch(39.2% 0.4 none)\n\n```\n\n \nThen the actual colors to be interpolated are\n\n```\n oklch(78.3% 0.108 326.5)\n oklch(39.2% 0.4 326.5)\n\n```\n\n \nand not\n\n```\n oklch(78.3% 0.108 326.5)\n oklch(39.2% 0.4 0)\n\n```\n\n \n \nIf the carried forward [missing component](#missing-color-component) is alpha, the color must be [premultiplied](#premultiplied) with this carried forward value,\n not with the zero value that would have resulted from color conversion.\n\n \n [](#ex-oklch-missing-alpha) For example, if these two colors are interpolated,\n the second of which has a missing alpha: \n\n```\n oklch(0.783 0.108 326.5 / 0.5)\n oklch(0.392 0.4 0 / none)\n\n```\n\n \nThen the actual colors to be interpolated are\n\n```\n oklch(78.3% 0.108 326.5 / 0.5)\n oklch(39.2% 0.4 0 / 0.5)\n\n```\n\n \ngiving the premultiplied OKLCh values [0.3915, 0.054, 326] and [0.196, 0.2, 0].\n\n \n \nIf both colors are [missing](#missing-color-component) a given component,\n the interpolated color\n will also be missing that component.\n\n 12.3. Interpolating with Alpha[](#interpolation-alpha)\n \nWhen the colors to be interpolated are not fully opaque,\n they are first **premultiplied** as follows:\n\n \n\n \n \nIf the alpha value is [none](#valdef-color-none), the premultiplied value is the un-premultiplied value. Otherwise,\n\n \n \nIf any component value is [none](#valdef-color-none), the premultiplied value is also none.\n\n \n \nFor [rectangular orthogonal color](#rectangular-orthogonal-color) coordinate systems, all component values are multiplied by the alpha value.\n\n \n \nFor [cylindrical polar color](#cylindrical-polar-color) coordinate systems, the hue angle is not premultiplied, but the other two axes are premultiplied.\n\n \n\n \nTo obtain a color value from a premultiplied color value,\n\n \n\n \n \nIf the interpolated alpha value is zero or [none](#valdef-color-none),\nthe un-premultiplied value is the premultiplied value. Otherwise,\n\n \n \nIf any component value is [none](#valdef-color-none),\nthe un-premultiplied value is also none.\n\n \n \notherwise, each component which had been premultiplied\nis divided by the interpolated alpha value.\n\n \n\n \n Tests\n \n\n [color-transition-premultiplied.html](https://wpt.fyi/results/css/css-transitions/animations/color-transition-premultiplied.html) [(live test)](https://wpt.live/css/css-transitions/animations/color-transition-premultiplied.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-transitions/animations/color-transition-premultiplied.html)\n \n\n \n \n Why is premultiplied alpha useful?\n [](#premultiplied-explainer)\n \nInterpolating colors using the premultiplied representations\n tends to produce more attractive transitions than the non-premultiplied representations,\n particularly when transitioning from a fully opaque color to fully transparent.\n\n \nNote that transitions where either the transparency or the color are held constant\n (for example, transitioning between rgba(255, 0, 0, 100%) (opaque red)\n and rgba(0,0,255,100%) (opaque blue),\n or rgba(255,0,0,100%) (opaque red)\n and rgba(255,0,0,0%) (transparent red))\n have identical results whether the color interpolation is done in premultiplied or non-premultiplied color-space.\n Differences only arise when both the color and transparency differ between the two endpoints.\n\n \n [](#ex-gradient-transition-premultiply) The following example illustrates the difference between\n a gradient transitioning via pre-multiplied values\n (in this case sRGB, since all colors involved are legacy colors)\n and one transitioning (incorrectly) via non-premultiplied values.\n In both of these examples,\n the gradient is drawn over a white background.\n Both gradients could be written with the following value: \n\n```\nlinear-gradient(90deg, red, transparent, blue)\n```\n\n \nWith premultiplied colors,\n transitions to or from \"transparent\" always look nice:\n\n (Image requires SVG)\n \nOn the other hand,\n if a gradient were to incorrectly transition in non-premultiplied space,\n the center of the gradient would be a noticeably grayish color,\n because \"transparent\" is actually a shorthand for rgba(0,0,0,0), or transparent black,\n meaning that the red transitions to a black\n as it loses opacity,\n and similarly with the blue’s transition:\n\n (Image requires SVG)\n \n \n \n [](#ex-premultiplied-srgb) For example, to interpolate, in the sRGB color space, the two sRGB colors rgb(24% 12% 98% / 0.4)\n and rgb(62% 26% 64% / 0.6)\n they would first be converted to premultiplied form\n [9.6% 4.8% 39.2% ]\n and\n [37.2% 15.6% 38.4%]\n before interpolation. \n \nThe midpoint of linearly interpolating these colors\n would be [23.4% 10.2% 38.8%]\n which, with an alpha value of 0.5,\n is rgb(46.8% 20.4% 77.6% / 0.5)\n when premultiplication is undone.\n\n \n \n [](#ex-premultiplied-lab) To interpolate, in the Lab color space, the two colors rgb(76% 62% 03% / 0.4)\n and color(display-p3 0.84 0.19 0.72 / 0.6)\n they are first converted to lab lab(66.927% 4.873 68.622 / 0.4) lab(53.503% 82.672 -33.901 / 0.6)\n then the L, a and b coordinates are premultiplied before interpolation\n [26.771% 1.949 27.449]\n and\n [32.102% 49.603 -20.341]. \n \nThe midpoint of linearly interpolating these would be\n [29.4365% 25.776 3.554]\n which, with an alpha value of 0.5,\n is lab(58.873% 51.552 7.108) / 0.5)\n when premultiplication is undone.\n\n \n \n [](#ex-premultiplied-lch) To interpolate, in the chroma-preserving LCH color space, the same two colors rgb(76% 62% 03% / 0.4)\n and color(display-p3 0.84 0.19 0.72 / 0.6)\n they are first converted to LCH lch(66.93% 68.79 85.94 / 0.4) lch(53.5% 89.35 337.7 / 0.6)\n then the L and C coordinates (but not H) are premultiplied before interpolation\n [26.771% 27.516 85.94]\n and\n [32.102% 53.61 337.7]. \n \nThe midpoint of linearly interpolating these,\n along the shorter hue arc (the default) would be\n [29.4365% 40.563 31.82]\n which, with an alpha value of 0.5,\n is lch(58.873% 81.126 31.82) / 0.5)\n when premultiplication is undone.\n\n \n \nThere is sample JavaScript code\n for alpha premultiplication and un-premultiplication,\n for both polar and rectangular color spaces,\n in [§ 18 Sample code for Color Conversions](#color-conversion-code).\n\n 12.4. Hue Interpolation[](#hue-interpolation)\n \nFor color functions with a hue angle (LCH, HSL, HWB etc), there are multiple ways to interpolate.\n As arcs greater than 360° are rarely desirable,\n hue angles are fixed up prior to interpolation\n so that per-component interpolation is done over less than 360°, often less than 180°.\n\n \nHost syntax can specify any of the following algorithms for hue interpolation\n (angles in the following are in degrees, but the logic is the same regardless of how they are specified).\n Specifying a hue interpolation strategy is already part of the [<color-interpolation-method>](#color-interpolation-method) syntax\n via the [<hue-interpolation-method>](#typedef-hue-interpolation-method) token.\n\n \nUnless otherwise specified, if no specific hue interpolation algorithm is selected by the host syntax, the default is shorter.\n\n \n Tests\n \n\n [color-mix-percents-01.html](https://wpt.fyi/results/css/css-color/color-mix-percents-01.html) [(live test)](https://wpt.live/css/css-color/color-mix-percents-01.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-percents-01.html)\n [color-mix-percents-02.html](https://wpt.fyi/results/css/css-color/color-mix-percents-02.html) [(live test)](https://wpt.live/css/css-color/color-mix-percents-02.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-percents-02.html)\n \n\n \n \nNote: As a reminder,\n if the interpolating colors were not already in the specified interpolation color space,\n then converting them will turn any [powerless components](#powerless-color-component) into [missing components](#missing-color-component).\n\n 12.4.1. **shorter**[](#hue-shorter)\n \nHue angles are interpolated to take the shorter of the two arcs\n between the starting and ending hues.\n\n [](#ex-shorter) For example, the midpoint when interpolating in OKLCh from a red  oklch(0.6 0.24 30) to a yellow  oklch(0.8 0.15 90)\n would be at a hue angle of 30 + (90 - 30) * 0.5 = 60 degrees,\n along the shorter arc between the two colors,\n giving a deep orange  oklch(0.7 0.195 60) \n \nAngles are adjusted so that θ₂ - θ₁ ∈ [-180, 180]. In pseudo-Javascript:\n\n```\nif (θ₂ - θ₁ > 180) {\n θ₁ += 360;\n}\nelse if (θ₂ - θ₁ < -180) {\n θ₂ += 360;\n}\n\n```\n\n 12.4.2. **longer**[](#hue-longer)\n \nHue angles are interpolated to take the longer of the two arcs\n between the starting and ending hues.\n\n [](#ex-longer) For example, the midpoint when interpolating in OKLCh from a red  oklch(0.6 0.24 30) to a yellow  oklch(0.8 0.15 90)\n would be at a hue angle of (30 + 360 + 90) * 0.5 = 240 degrees,\n along the longer arc between the two colors,\n giving a sky blue  oklch(0.7 0.195 240) \n \nAngles are adjusted so that θ₂ - θ₁ ∈ {(-360, -180], [180, 360)}. In pseudo-Javascript:\n\n```\nif (0 < θ₂ - θ₁ < 180) {\n θ₁ += 360;\n}\nelse if (-180 < θ₂ - θ₁ <= 0) {\n θ₂ += 360;\n}\n\n```\n\n 12.4.3. **increasing**[](#hue-increasing)\n \nHue angles are interpolated so that,\n as they progress from the first color to the second,\n the angle is always increasing.\n If the angle increases to 360 it is reset to zero,\n and then continues increasing.\n\n \nDepending on the difference between the two angles,\n this will either look the same as shorter or as longer. However, if one of the hue angles is being animated,\n and the hue angle difference passes through 180 degrees,\n the interpolation will not flip to the other arc.\n\n \n [](#ex-increasing) For example, the midpoint when interpolating in OKLCh from a deep brown  oklch(0.5 0.1 30) to a turquoise  oklch(0.7 0.1 190)\n would be at a hue angle of (30 + 190) * 0.5 = 110 degrees,\n giving a khaki  oklch(0.6 0.1 110). \n \nHowever, if the hue of the second color is animated to  oklch(0.7 0.1 230),\n the midpoint of the interpolation will be (30 + 230) * 0.5 = 130 degrees,\n continuing in the same increasing direction,\n giving another green  oklch(0.6 0.1 130)\n rather than flipping to the opponent color part-way through the animation.\n\n \n \nAngles are adjusted so that θ₂ - θ₁ ∈ [0, 360). In pseudo-Javascript:\n\n```\nif (θ₂ < θ₁) {\n θ₂ += 360;\n}\n\n```\n\n 12.4.4. **decreasing**[](#hue-decreasing)\n \nHue angles are interpolated so that,\n as they progress from the first color to the second,\n the angle is always decreasing.\n If the angle decreases to 0 it is reset to 360,\n and then continues decreasing.\n\n \nDepending on the difference between the two angles,\n this will either look the same as shorter or as longer. However, if one of the hue angles is being animated,\n and the hue angle difference passes through 180 degrees,\n the interpolation will not flip to the other arc.\n\n \n [](#ex-decreasing) For example, the midpoint when interpolating in OKLCh from a deep brown  oklch(0.5 0.1 30) to a turquoise  oklch(0.7 0.1 190)\n would be at a hue angle of (30 + 360 + 190) * 0.5 = 290 degrees,\n giving a purple  oklch(0.6 0.1 290). \n \nHowever, if the hue of the second color is animated to  oklch(0.7 0.1 230),\n the midpoint of the interpolation will be (30 + 360 + 230) * 0.5 = 310 degrees,\n continuing in the same decreasing direction,\n giving another purple  oklch(0.6 0.1 310)\n rather than flipping to the opponent color part-way through the animation.\n\n \n \nAngles are adjusted so that θ₂ - θ₁ ∈ (-360, 0]. In pseudo-Javascript:\n\n```\nif (θ₁ < θ₂) {\n θ₁ += 360;\n}\n\n```",
      "rawLength": 50401
    },
    "gamut-mapping": {
      "id": "gamut-mapping",
      "heading": "13.  Gamut Mapping",
      "content": "13.1. An Introduction to Gamut Mapping[](#gamut-mapping-intro)\n \nNote: This section provides important context for the specific requirements described elsewhere in the document.\n\n \nThis section is non-normative\n\n \n Tests\n \nThis section is not normative, it does not need tests.\n\n \n\n \n \n \nWhen a color in an origin color space\n is converted to another, destination color space\n which has a smaller gamut,\n some colors will be outside the destination gamut.\n\n \nFor intermediate color calculations,\n these out of gamut values are preserved.\n However, if the destination is the display device\n (a screen, or a printer)\n then out of gamut values must be converted to\n an in-gamut color.\n\n \nGamut mapping is the process of finding an in-gamut color\n with the least objectionable change in visual appearance.\n\n 13.1.1. Clipping[](#GM-clip)\n \nThe simplest and least acceptable method\n is simply to clip the component values\n to the displayable range.\n This changes the proportions of\n the three primary colors (for an RGB display),\n resulting in a hue shift.\n\n \n [](#ex-gamut-clip-hue-shift) For example,\n consider the color color(srgb-linear 0.5 1 3).\n Because this is a linear-light color space,\n we can compare the intensities of the three components\n and see that\n the amount of blue light is three times the amount of green,\n while the amount of red light is half that of green.\n There is six times as much blue primary as red.\n In OKLCh, this color has a hue angle of 265.1° \n \nIf we now clip this color\n to bring it into gamut for sRGB,\n we get color(srgb-linear 0.5 1 1).\n The amount of blue light is the same as green.\n In OKLCh, this color has a hue angle of 196.1°,\n a substantial change of 69°.\n\n \n 13.1.2. Closest Color (MINDE)[](#GM-closest)\n \nA better method is to map colors,\n in a perceptually uniform color space,\n by finding the closest in-gamut color\n (so-called minimum ΔE or **MINDE**).\n Clearly, the success of this technique\n depends on\n the degree of uniformity of the gamut mapping color space\n and the predictive accuracy of the deltaE function used.\n\n \nHowever, when doing gamut mapping\n changes in Hue are particularly objectionable;\n changes in Chroma are more tolerable,\n and\n small changes in Lightness can also be acceptable\n especially if the alternative is a larger Chroma reduction.\n MINDE weights changes in each dimension equally,\n and thus gives suboptimal results.\n\n 13.1.3. Chroma Reduction[](#GM-chroma)\n \nTo improve on MINDE algorithms,\n colors are mapped in a perceptually uniform, polar color space\n by holding the hue constant,\n and reducing the chroma until the color falls in gamut.\n\n \n [](#ex-gamutmap-p3-yellow-to-srgb) In this example, Display P3 primary yellow\n (color(display-p3 1 1 0))\n is being mapped to an sRGB display.\n The gamut mapping color space is OKLCh. \n\n```\ncolor(display-p3 1 1 0)\n```\n\n \nis\n\n```\ncolor(srgb 1 1 -0.3463)\n```\n\n \nwhich is\n\n```\ncolor(oklch 0.96476 0.24503 110.23)\n```\n\n \nBy progressively reducing the chroma component\n until the resulting color falls inside the sRGB gamut\n (has no components negative, or greater than one)\n a gamut mapped color is obtained.\n\n```\n color(oklch 0.96476 0.21094 110.23)\n```\n\n \nwhich is\n\n```\n color(srgb 0.99116 0.99733 0.00001)\n\n```\n\n \n \n A constant-hue slice of OKLCh color space.\n The vertical axis represents lightness,\n the horizontal axis is chroma.\n The color to be mapped,\n shown as a yellow circle,\n has the chroma reduced\n while keeping hue and lightness constant.\n The color therefore moves along the maroon line in the diagram,\n towards the neutral axis on the left.\n The gamut boundary of sRGB\n is shown in green. \n \n \n \nA practical implementation will converge more quickly than a linear reduction;\n either by binary search,\n or by computing the geometric intersection\n of the line of constant hue and lightness with the gamut boundary.\n\n 13.1.4. Excessive Chroma Reduction[](#GM-excessive-reduction)\n \nAlso, this simple approach will give sub-optimal results\n for certain colors, principally very light colors\n like yellow and cyan,\n if the upper edge of the gamut boundary is shallow,\n or even slightly concave.\n The line of constant lightness can skim just above the gamut boundary,\n resulting in an excessively low chroma in those cases.\n\n \nThe choice of color space will affect the acceptability of the gamut mapped colors.\n\n \n [](#CIELCH-p3-yellow-noclip) In this example, Display P3 primary yellow (color(display-p3 1 1 0)\n has the chroma progressively reduced in CIE LCH color space. \n \n \n In the upper part of this diagram,\n colors which are inside the gamut of sRGB are displayed as-is.\n Colors inside the gamut of Display P3 (but outside sRGB) are in salmon.\n Colors outside the gamut of Display P3 are in red.\n The lower part of the diagram shows the linear-light intensities of\n the Display P3 red, green and blue components. \n \n It can be seen that reduction in CIE LCH chroma makes the red\n intensity curve up, out of Display P3 gamut;\n by the time it falls again the chroma is very low.\n Simple gamut mapping in CIE LCH would give unsatisfactory results. \n \n \n [](#OKLCh-p3-yellow-noclip) In this example, Display P3 primary yellow (color(display-p3 1 1 0)\n has the chroma progressively reduced, but this time in OKLCh color space. \n \n \n In the upper part of this diagram,\n colors which are inside the gamut of sRGB are displayed as-is.\n Colors inside the gamut of Display P3 (but outside sRGB) are in salmon.\n Colors outside the gamut of Display P3 are in red.\n The lower part of the diagram shows the linear-light intensities of\n the Display P3 red, green and blue components. \n \n It can be seen that reduction in OKLCh chroma is better behaved.\n Colors do not go outside the Display P3 gamut, and the resulting\n gamut-mapped yellow has good chroma.\n Simple gamut mapping in OK LCH would give acceptable results. \n \n 13.1.5. Chroma Reduction with Local Clipping[](#GM-chroma-local-MINDE)\n \nThe simple chroma-reduction algorithm can be improved:\n at each step,\n the color difference is computed between the current mapped color\n and a clipped version of that color.\n If the current color is outside the gamut boundary,\n but the color difference between it and the clipped version\n is below the threshold for a just noticeable difference (JND),\n the clipped version of the color is returned as the mapped result.\n Effectively, this is doing a MINDE mapping at each stage,\n but constrained so the hue and lightness changes\n are very small,\n and thus are not noticeable.\n\n \n [](#CIELCH-p3-yellow-clip) In this example, Display P3 primary yellow (color(display-p3 1 1 0)\n has the chroma progressively reduced in CIE LCH color space,\n with the local clip modification. \n \n \n In the upper part of this diagram,\n colors which are inside the gamut of sRGB are displayed as-is.\n Colors inside the gamut of Display P3 (but outside sRGB) are in salmon.\n Colors outside the gamut of Display P3 are in red.\n The lower part of the diagram shows the linear-light intensities of\n the Display P3 red, green and blue components. \n \n It can be seen that reduction in CIE LCH chroma still makes the red\n intensity curve up, out of Display P3 gamut;\n but less than before and the sRGB boundary is found much more quickly.\n Gamut mapping in CIE LCH with local clip would give acceptable results. \n \n \n [](#OKLCh-p3-yellow-clip) In this example, Display P3 primary yellow (color(display-p3 1 1 0)\n has the chroma progressively reduced, but this time in OKLCh color space\n and with the local clip modification. \n \n \n In the upper part of this diagram,\n colors which are inside the gamut of sRGB are displayed as-is.\n Colors inside the gamut of Display P3 (but outside sRGB) are in salmon.\n Colors outside the gamut of Display P3 are in red.\n The lower part of the diagram shows the linear-light intensities of\n the Display P3 red, green and blue components. \n \n It can be seen that reduction in OKLCh chroma,\n which was already good,\n is further improved by the local clip modification.\n Simple gamut mapping in CIE LCH with local clip would give excellent results. \n \n 13.1.6. Deviations from Perceptual Uniformity: Hue Curvature[](#GM-hue-curvature)\n \nUsing the CIE LCH color space\n and deltaE2000 distance metric,\n is known to give suboptimal results\n with significant hue shifts,\n for colors in the hue range\n 270° to 330°.\n\n \n \n A constant-hue slice of CIE LCH color space,\n at a hue angle of 301.37°\n corresponding to sRGB primary blue.\n The vertical axis is Lightness, the horizontal axis is Chroma.\n Between chroma of 25 and 75, the hue is visibly purple,\n becoming more blue between 100 and 131.\n The same phenomenon continues past 131,\n but cannot be shown on an sRGB display. \n \n \nUsing OKLCh color space\n and deltaEOK distance metric\n avoids this issue\n at all hue angles.\n\n \n \n A constant-hue slice of OKLCh color space,\n at a hue angle of 264.06°\n corresponding to sRGB primary blue.\n The vertical axis is Lightness, the horizontal axis is Chroma.\n The hue is visibly the same at all values of chroma,\n up to 0.315 (the sRGB limit at this hue).\n It continues to be constant beyond this point,\n although that cannot be shown on an sRGB diagram. \n \n 13.2. CSS Gamut Mapping to an RGB Destination[](#css-gamut-mapping)\n \n Tests\n \nActual values of color are not exposed to script, making this hard to test in an automated manner.\n\n \n\n \n \n \nThe **CSS gamut mapping algorithm** applies to individual,\n Standard Dynamic Range (SDR) CSS colors\n which are out of gamut\n of an RGB display\n and thus require to be **css gamut mapped**.\n\n \nIt implements a relative colorimetric intent,\n and colors inside the destination gamut are unchanged.\n\n \nNote: other situations,\n in particular mapping to printer gamuts\n where the maximum black level is significantly above zero,\n will require different algorithms\n which align the respective black and white points,\n which will result in lightness changes\n for very light and very dark colors\n as chroma is reduced..\n\n \nNote: this algorithm is for individual, distinct colors;\n for color images,\n where relationships between neighboring pixels are important\n and the aim is to preserve detail and texture,\n a perceptual rendering intent is more appropriate\n and in that case,\n colors inside the destination gamut\n could be changed.\n\n \nCSS gamut mapping occurs in the [OKLCh color space](#ok-lab),\n and the color difference formula used is [deltaEOK](#color-difference-OK).\n The [local-MINDE](#GM-chroma-local-MINDE) improvement is used.\n\n \nFor colors which are out of range on the Lightness axis,\n white is returned in the destination color space\n if the Lightness is greater than or equal to 1.0,\n while black is returned in the destination color space\n if the Lightness is less than or equal to 0.0.\n\n \nFor the binary search implementation,\n at each step in the search,\n the deltaEOK is computed between the current mapped color\n and a clipped version of that color.\n If the current color is outside the gamut boundary,\n but the deltaEOK between it and the clipped version\n is below a threshold for a just noticeable difference (JND),\n the clipped version of the color is returned as the mapped result.\n\n \nFor the geometric implementation,\n having found the exact intersection,\n project outwards (towards higher chroma) along the line of constant lightness\n until either:\n\n \n\n \n \nthe deltaEOK between the projected point\nand a clipped version of that point\nexceeds one JND, or\n\n \n \nthe chroma of the projected point is equal to\nthe chroma of the original color (i.e. do not project past the original color)\n\n \n\n \nThen return the clipped version of the color as the mapped result.\n\n \nFor the OKLCh color space,\n one JND is is an OKLCh difference of 0.02.\n\n \nNote: In CIE Lab color space,\n where the range of the Lightness component is 0 to 100,\n using deltaE2000,\n one JND is 2.\n Because the range of Lightness in Oklab and OKLCh\n is 0 to 1,\n using deltaEOK,\n one JND is 100 times smaller.\n\n 13.2.1. Sample Pseudocode for the Binary Search Gamut Mapping Algorithm with Local MINDE[](#binsearch)\n \n To **CSS gamut map** a color origin in color space origin color space to be in gamut of a destination color space destination: \n \n\n if destination has no gamut limits (XYZ-D65, XYZ-D50, Lab, LCH, Oklab, OKLCh) convert origin to destination and return it as the gamut mapped color \n let origin_OKLCh be origin converted\n from origin color space to the OKLCh color space\n if the Lightness of origin_OKLCh is greater than or equal to 100%,\n convert `oklab(1 0 0 / origin.alpha)` to destination and return it as the gamut mapped color\n if the Lightness of origin_OKLCh is less than than or equal to 0%,\n convert `oklab(0 0 0 / origin.alpha)` to destination and return it as the gamut mapped color\n let inGamut(color) be a function which returns true if, when passed a color,\n that color is inside the gamut of destination.\n For HSL and HWB, it returns true if the color is inside the gamut of sRGB. \n if inGamut(origin_OKLCh) is true, convert origin_OKLCh to destination and return it as the gamut mapped color\n otherwise, let delta(one, two) be a function which returns the deltaEOK of color one compared to color two\n let JND be 0.02\n let epsilon be 0.0001\n let clip(color) be a function which converts color to destination,\n clamps each component to the bounds of the reference range for that component\n and returns the result\n set current to origin_OKLCh\n set clipped to clip(current)\n set E to delta(clipped, current)\n \n if E < JND \n \n\n return clipped as the gamut mapped color\n \n\n set min to zero\n set max to the OKLCh chroma of origin_OKLCh\n let min_inGamut be a boolean that represents when min is still in gamut, and set it to true \n \n while (max - min is greater than epsilon) repeat the following steps \n \n\n set chroma to (min + max) /2\n set the chroma component of current to chroma\n if min_inGamut is true and also if inGamut(current) is true, set min to chroma and continue to repeat these steps\n \n otherwise, carry out these steps: \n \n\n set clipped to clip(current)\n set E to delta(clipped, current)\n \n if E < JND \n \n\n if (JND - E < epsilon) return clipped as the gamut mapped color\n \n otherwise, \n \n\n set min_inGamut to false\n set min to chroma\n \n\n \n\n otherwise, set max to chroma and continue to repeat these steps\n \n\n \n\n return clipped as the gamut mapped color",
      "rawLength": 21382
    },
    "resolving-color-values": {
      "id": "resolving-color-values",
      "heading": "14.  Resolving &lt;color> Values",
      "content": "Unless otherwise specified for a particular property, [specified](https://www.w3.org/TR/css-cascade-5/#specified-value) colors are resolved to **[computed](https://www.w3.org/TR/css-cascade-5/#computed-value) colors** and then further to **[used](https://www.w3.org/TR/css-cascade-5/#used-value) colors** as described below.\n\n \nThe [resolved value](https://www.w3.org/TR/cssom-1/#resolved-value) of a [<color>](#typedef-color) is its [used value](https://www.w3.org/TR/css-cascade-5/#used-value).\n\n \n Tests\n \n\n [color-computed-hex-color.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-hex-color.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-hex-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-hex-color.html)\n [color-computed-named-color.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-named-color.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-named-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-named-color.html)\n [color-invalid-hex-color.html](https://wpt.fyi/results/css/css-color/parsing/color-invalid-hex-color.html) [(live test)](https://wpt.live/css/css-color/parsing/color-invalid-hex-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-hex-color.html)\n [color-invalid-named-color.html](https://wpt.fyi/results/css/css-color/parsing/color-invalid-named-color.html) [(live test)](https://wpt.live/css/css-color/parsing/color-invalid-named-color.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-named-color.html)\n [system-color-compute.html](https://wpt.fyi/results/css/css-color/system-color-compute.html) [(live test)](https://wpt.live/css/css-color/system-color-compute.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/system-color-compute.html)\n \n\n \n 14.1. Resolving sRGB values[](#resolving-sRGB-values)\n \nThis applies to:\n\n \n\n \n \n[hex colors](#hex-color)\n\n \n \n[rgb()](#funcdef-rgb) and [rgba()](#funcdef-rgba) values\n\n \n \n[hsl()](#funcdef-hsl) and [hsla()](#funcdef-hsla) values\n\n \n \n[hwb()](#funcdef-hwb) values\n\n \n \n[named colors](#named-color)\n\n \n \n[system colors](#css-system-colors)\n\n \n \n[deprecated-colors](#deprecated-system-colors)\n\n \n\n \nIt does not apply to:\n\n \n\n \n \n[color()](#funcdef-color) values using the [srgb](#valdef-color-srgb) or [srgb-linear](#valdef-color-srgb-linear) [color space](#color-space)s.\n\n \n\n \nIf the sRGB color was explicitly specified by the author as a [named color](#named-color),\n or as a [system color](#css-system-colors),\n the [declared value](https://www.w3.org/TR/css-cascade-5/#declared-value) is that named or system color, converted to [ASCII lowercase](https://infra.spec.whatwg.org/#ascii-lowercase).\n The computed and used value\n is the corresponding sRGB color,\n paired with the specified alpha component\n (after clamping to [0, 1])\n and defaulting to opaque if unspecified).\n\n \n [](#ex-named-case) \n \nThe author-provided mixed-case form below has a declared value in all lowercase.\n\n```\n pUrPlE\n purple\n```\n\n \n \nOtherwise, the declared, computed and used value\n is the corresponding sRGB color,\n paired with the specified alpha component\n (after clamping to [0, 1])\n and defaulting to opaque if unspecified).\n\n \nFor historical reasons, when [calc()](https://www.w3.org/TR/css-values-4/#funcdef-calc) in sRGB colors\n resolves to a single value,\n the declared value serialises without the \"calc(\" \")\" wrapper.\n\n [](#ex-srgb-calc-specified) For example, if a color is given as rgb(calc(64 * 2) 127 255)\n the declared value will be\n rgb(128 127 255)\n and not\n rgb(calc(128) 127 255). \n [](#ex-srgb-hsl-calc-specified) For example, if a color is given as hsl(38.82 calc(2 * 50%) 50%)\n the declared value will be\n rgb(255 165.2 0)\n because the [calc()](https://www.w3.org/TR/css-values-4/#funcdef-calc) is lost\n during HSL to RGB conversion. \n \nAlso for historical reasons,\n when calc() is simplified down to a single value,\n the color values are clamped to [0.0, 255.0].\n\n [](#ex-srgb-clamped-calc-specified) For example, if a color is given as rgb(calc(100 * 4) 127 calc(20 - 35))\n the declared value will be\n rgb(255 127 0)\n and not\n rgb(calc(400) 127 calc(-15)). \n \nThis clamping also takes care of values such as [Infinity](https://www.w3.org/TR/css-values-4/#valdef-calc-infinity), [-Infinity](https://www.w3.org/TR/css-values-4/#valdef-calc--infinity), and [NaN](https://www.w3.org/TR/css-values-4/#valdef-calc-nan) which will clamp at 255, 0 and 0 respectively.\n\n \n [](#ex-hsl-computed) \n \nFor example, the computed value of\n\n```\n hsl(38.824 100% 50%)\n```\n\n \nis\n\n```\n rgb(255, 165, 0)\n```\n\n \n \n Tests\n \n\n [color-computed-hsl.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-hsl.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-hsl.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-hsl.html)\n [color-computed-hwb.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-hwb.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-hwb.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-hwb.html)\n [color-computed-rgb.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-rgb.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-rgb.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-rgb.html)\n \n\n \n 14.2. Resolving Lab and LCH values[](#resolving-lab-lch-values)\n \nThis applies to [lab()](#funcdef-lab) and [lch()](#funcdef-lch) values.\n\n \nThe declared, computed and used value\n is the corresponding CIE Lab or LCH color\n (after clamping of L, C and H)\n paired with the specified alpha component\n (as a [<number>](https://www.w3.org/TR/css-values-4/#number-value), not a [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value);\n and defaulting to opaque if unspecified).\n\n \n [](#ex-lch-computed) \n \nFor example, the computed value of\n\n```\n lch(52.2345% 72.2 56.2 / 1)\n```\n\n \nis\n\n```\n lch(52.2345% 72.2 56.2)\n```\n\n \n \n Tests\n \n\n [color-computed-lab.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-lab.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-lab.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-lab.html)\n \n\n \n 14.3. Resolving Oklab and OKLCh values[](#resolving-oklab-oklch-values)\n \nThis applies to [oklab()](#funcdef-oklab) and [oklch()](#funcdef-oklch) values.\n\n \nThe declared, computed and used value\n is the corresponding Oklab or OKLCh color\n (after clamping of L, C and H)\n paired with the specified alpha component\n (as a [<number>](https://www.w3.org/TR/css-values-4/#number-value), not a [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value);\n and defaulting to opaque if unspecified).\n\n \n [](#ex-oklch-computed) \n \nFor example, the computed value of\n\n```\n oklch(42.1% 0.192 328.6 / 1)\n```\n\n \nis\n\n```\n oklch(42.1% 0.192 328.6)\n```\n\n \n \n Tests\n \n\n [color-computed-lab.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-lab.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-lab.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-lab.html)\n \n\n \n 14.4. Resolving values of the [color()](#funcdef-color) function[](#resolving-color-function-values)\n \nThe declared, computed and used value\n is the color in the specified [color space](#color-space),\n paired with the specified alpha component\n (as a [<number>](https://www.w3.org/TR/css-values-4/#number-value), not a [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value);\n and defaulting to opaque if unspecified).\n\n \n [](#ex-p3-computed) \n \nFor example, the computed value of\n\n```\n color(display-p3 0.823 0.6554 0.2537 /1)\n```\n\n \nis\n\n```\n color(display-p3 0.823 0.6554 0.2537)\n```\n\n \n \nFor colors specified in the [xyz](#valdef-color-xyz) [color space](#color-space),\n which is an alias of the [xyz-d65](#valdef-color-xyz-d65) color space,\n the computed and used value\n is in the xyz-d65 color space.\n\n \n [](#ex-xyz-computed) \n \nFor example, the computed value of\n\n```\n color(xyz 0.472 0.372 0.131)\n```\n\n \nis\n\n```\n color(xyz-d65 0.472 0.372 0.131)\n```\n\n \n \n Tests\n \n\n [color-computed-color-function.html](https://wpt.fyi/results/css/css-color/parsing/color-computed-color-function.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed-color-function.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-color-function.html)\n \n\n \n 14.5. Resolving other colors[](#resolving-other-colors)\n \nThis applies to [system colors](#css-system-colors) (including the [<deprecated-color>](#typedef-deprecated-color)s), [transparent](#valdef-color-transparent),\n and currentcolor.\n\n \nThe declared value for each [<system-color>](#typedef-system-color) keyword\n and [<deprecated-color>](#typedef-deprecated-color) keyword\n is itself.\n The computed value\n is the corresponding color in its color space.\n However, such colors must not be altered by\n 'forced colors mode'.\n\n \n [](#ex-system-resolve) For example, in this html: \n\n```\n<button style=\"color: ButtonText; background: ButtonFace\"></button>\n```\n\n \nThe declared value of the color property is \"ButtonText\"\n while the computed value could be, for example, rgb(0, 0, 0).\n\n \n \nThe declared value of [transparent](#valdef-color-transparent) is \"transparent\"\n while the computed and used value is [transparent black](#transparent-black).\n\n \nThe [currentcolor](#valdef-color-currentcolor) keyword computes to itself.\n\n \nIn the [color](#propdef-color) property,\n the used value of currentcolor is the \n resolved [inherited value](https://www.w3.org/TR/css-cascade-5/#inherited-value).\n In any other property,\n its used value is the used value of the color property on the same element.\n\n \nNote: This means that if the [currentcolor](#valdef-color-currentcolor) value is inherited,\n it’s inherited as a keyword,\n not as the value of the [color](#propdef-color) property,\n so descendants will use their own color property to resolve it.\n\n \n [](#ex-currentcolor-resolve) For example, given this html: \n\n```\n<div>\n <p>Assume this example text is long enough\n to wrap on multiple lines.\n </p>\n</div>\n\n```\n\n \nand this css:\n\n```\ndiv {\n color: forestgreen;\n text-shadow: currentColor;\n}\np {\n color: mediumseagreen;\n}\np::firstline {\n color: yellowgreen;\n}\n\n```\n\n \nThe used value of the inherited property text-shadow\n on the first line fragment would be yellowgreen.\n\n \n \n Tests\n \n\n [currentcolor-001.html](https://wpt.fyi/results/css/css-color/currentcolor-001.html) [(live test)](https://wpt.live/css/css-color/currentcolor-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/currentcolor-001.html)\n [currentcolor-002.html](https://wpt.fyi/results/css/css-color/currentcolor-002.html) [(live test)](https://wpt.live/css/css-color/currentcolor-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/currentcolor-002.html)\n [currentcolor-003.html](https://wpt.fyi/results/css/css-color/currentcolor-003.html) [(live test)](https://wpt.live/css/css-color/currentcolor-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/currentcolor-003.html)\n [currentcolor-005.html](https://wpt.fyi/results/css/css-color/currentcolor-005.html) [(live test)](https://wpt.live/css/css-color/currentcolor-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/currentcolor-005.html)\n [system-color-compute.html](https://wpt.fyi/results/css/css-color/system-color-compute.html) [(live test)](https://wpt.live/css/css-color/system-color-compute.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/system-color-compute.html)",
      "rawLength": 25890
    },
    "serializing-color-values": {
      "id": "serializing-color-values",
      "heading": "15.  Serializing &lt;color> Values",
      "content": "This section updates and replaces that part of CSS Object Model, section [ Serializing CSS Values](https://drafts.csswg.org/cssom-1/#serializing-css-values), which relates to serializing [<color>](#typedef-color) values.\n\n \nIn this section, the strings used in the specification and the corresponding characters are as follows.\n\n \n \n \n String\n Character(s)\n \n \" \"\n U+0020 SPACE\n \n \"#\"\n U+0023 NUMBER SIGN\n \n \",\"\n U+002C COMMA\n \n \"-\"\n U+002D HYPHEN-MINUS\n \n \".\"\n U+002E FULL STOP\n \n \"/\"\n U+002F SOLIDUS\n \n \"none\"\n U+006E LATIN SMALL LETTER N U+006F LATIN SMALL LETTER O U+006E LATIN SMALL LETTER N U+0065 LATIN SMALL LETTER E \n \n \nThe string \".\" shall be used as a decimal separator,\nregardless of locale,\nand there shall be no thousands separator.\n\n \nFor syntactic forms which support [missing color components](#missing-color-component),\nthe value [none](#valdef-color-none) (equivalently NONE, nOnE, etc),\nshall be serialized in all-lowercase\nas the string \"none\".\n\n 15.1. Serializing alpha values[](#serializing-alpha-values)\n \nThis applies to any [<color>](#typedef-color) value which can take an optional alpha value.\n It does not apply to the opacity property.\n\n \nIf, after clamping to the range [0, 1] the alpha is 1,\n it is omitted from the serialization;\n an implicit value of 1 (fully opaque) is the default.\n\n \nIf the alpha is any other value than 1,\n it is explicitly included in the serialization as described below.\n\n \nIf the value is internally represented as an integer\n between 0 and 255 inclusive (i.e. 8-bit unsigned integer),\n follow these steps:\n\n \n\n Let alpha be the given integer. \n If there exists an integer between 0 and 100 inclusive that,\n when multiplied with 2.55 and rounded to the closest integer\n (rounding up if two values are equally close), equals alpha,\n let rounded be that integer divided by 100. \n Otherwise, let rounded be alpha divided by 0.255 and rounded to the closest integer\n (rounding up if two values are equally close),\n divided by 1000. \n Return the result of serializing rounded as a [<number>](https://www.w3.org/TR/css-values-4/#number-value). \n \n\n \nOtherwise, return the result of serializing the given value\n (as a [<number>](https://www.w3.org/TR/css-values-4/#number-value), not a [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value)).\n\n \n [](#ex-alpha-255) \n \n For example,\n if the alpha is stored as the 8-bit unsigned integer 237,\n the integer 93 satisfies the criterion\n because Math.round(93 * 2.55) is 237,\n and so the alpha is serialized as \"0.93\". \n\n \n However,\n if the alpha is stored as the 8-bit unsigned integer 236,\n there is no such integer\n (92 maps to 235 while 94 maps to 240),\n and so since 236 ÷ 0.255 = 925.490196078\n the alpha is serialized as \"0.92549\"\n (no more than 6 figures, trailing zeroes omitted). \n\n \n \nThe [<number>](https://www.w3.org/TR/css-values-4/#number-value) value is expressed in base ten,\n with the \".\" character as decimal separator.\n The leading zero must not be omitted.\n Trailing zeroes must be omitted.\n\n \n [](#ex-alpha-trimzero) \n \nFor example, an alpha value of 70%\n will be serialized as the string\n \"0.7\"\n which has a leading zero before the decimal separator,\n \".\" as decimal separator\n (even if the current locale would use some other character,\n such as \",\"),\n and all digits after the \"7\" would be \"0\" and are omitted. \n\n \n \nThe precision with which alpha values are retained,\n and thus the number of decimal places in the serialized value,\n is not defined in this specification,\n but must at least be sufficient\n to round-trip integer percentage values.\n Thus, the serialized value must contain\n at least two decimal places\n (unless trailing zeroes have been removed).\n Values must be [rounded towards +∞](https://drafts.csswg.org/css-values-4/#combine-integers), not truncated.\n\n \n [](#ex-alpha-round) \n \nFor example, an alpha value of 12.3456789%\n could be serialized as the strings\n \"0.12\" or \"0.123\" or \"0.1234\" or \"0.12346\"\n (rounding the value of 5\n towards +∞\n because the following digit is 6)\n or any longer, rounded serialization of the same form. \n\n \n \nBecause [<alpha-value>](#typedef-color-alpha-value)s which were specified outside the valid range\n are clamped at parse time, the declared value will be clamped.\n However, per [CSS Values 4 § 10.12 Range Checking](https://www.w3.org/TR/css-values-4/#calc-range), <alpha-value>s\n specified using calc() are not clamped when the specified form is serialized;\n but the computed values are clamped.\n\n \n [](#ex-alpha-clamp) \n \nFor example an alpha value which was specified directly as 120%\n would be serialized as the string \"1\".\n However, if it was specified as calc(2*60%)\n the declared value would be serialized as the string \"calc(1.2)\". \n\n \n 15.2. Serializing sRGB values[](#serializing-sRGB-values)\n \nThe serialized form of the following sRGB values:\n\n \n\n \n \n[hex colors](#hex-color)\n\n \n \n[rgb()](#funcdef-rgb) and [rgba()](#funcdef-rgba) values\n\n \n \n[hsl()](#funcdef-hsl) and [hsla()](#funcdef-hsla) values\n\n \n \n[hwb()](#funcdef-hwb) values\n\n \n \n[named colors](#named-color)\n\n \n \n[system colors](#css-system-colors)\n\n \n \n[deprecated-colors](#deprecated-system-colors)\n\n \n \n[transparent](#valdef-color-transparent)\n\n \n\n \nis derived from the [declared value](https://www.w3.org/TR/css-cascade-5/#declared-value).\n\n \nWhen serializing the value of a property\n which was set by the author to a CSS [named color](#named-color),\n a [system color](#css-system-colors),\n a [deprecated-color](#deprecated-system-colors),\n or [transparent](#valdef-color-transparent) therefore, for the [declared value](https://www.w3.org/TR/css-cascade-5/#declared-value),\n the [ASCII lowercase](https://infra.spec.whatwg.org/#ascii-lowercase) keyword value is retained.\n For the computed and used value,\n the corresponding sRGB value is used.\n\n \n Tests\n \n\n [system-color-compute.html](https://wpt.fyi/results/css/css-color/system-color-compute.html) [(live test)](https://wpt.live/css/css-color/system-color-compute.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/system-color-compute.html)\n \n\n \n \nThus, the serialized declared value of [transparent](#valdef-color-transparent) is the string \"transparent\",\n while the serialized computed value of transparent is the string \"rgba(0, 0, 0, 0)\".\n\n \nFor all other sRGB values,\n the declared, computed and used value\n is the corresponding sRGB value.\n\n \nDuring serialization,\n any [missing](#missing-color-component) values\n are converted to 0.\n\n 15.2.1. HTML-compatible serialization of sRGB values[](#HTML-compatible-serialization-of-srgb)\n \nIf the following conditions are all true:\n\n \n\n The color space is sRGB\n The alpha is 1\n The RGB component values are internally represented as integers between 0 and 255 inclusive (i.e. 8-bit unsigned integer)\n **HTML-compatible serialization is requested**\n \n\n \nThen corresponding sRGB values are serialized in 6-digit [hex color notation](#hex-color) as follows:\n\n \nA seven-character string consisting of the character \"#\", followed immediately by the two-digit hexadecimal representations of the red component, the green component, and the blue component, in that order, using [ASCII lower hex digits](https://infra.spec.whatwg.org/#ascii-lower-hex-digit). No spaces are permitted.\n\n \n [](#ex-canvas-srgb) For example, fill style is set to magenta: \n\n```\ncontext.fillStyle = \"rgb(255, 0, 255)\"\nconsole.log(context.fillStyle); // \"#ff00ff\"\n\n```\n\n \nThe color space is sRGB, the representation is 8 bits per component,\n the data format does not produce [none](#valdef-color-none) values nor does it support extended range values, \n and the alpha is 1.\n\n \nThe HTML-compatible serialization is the string \"#ff00ff\" (not \"#FF00FF\").\n\n \n \nOtherwise, for sRGB the [CSS serialization of sRGB values is used](#css-serialization-of-srgb) and for other color spaces, the relevant [serialization](#serializing-color-values) of the [<color>](#typedef-color) value.\n\n \n [](#ex-canvas-p3) For example, fill style is set to a dark brown, in CIE Lab: \n\n```\ncontext.fillStyle = \"lab(29% 39 20)\";\nconsole.log(context.fillStyle); // \"lab(29 39 20)\"\n\n```\n\n \nThe CSS serialization is the string \"lab(29 39 20)\".\n\n \n \n [](#ex-srgb-alpha) For example, fill style is set to semi-transparent magenta: \n\n```\ncontext.fillStyle = \"#ff00ffed\";\nconsole.log(context.fillStyle); // \"rgba(255, 0, 255, 0.93)\"\n\n```\n\n \nThe alpha is not 1, so the CSS serialization is the string\n \"rgba(255, 0, 255, 0.93)\".\n\n \n 15.2.2. CSS serialization of sRGB values[](#css-serialization-of-srgb)\n \nCorresponding sRGB values use either the [rgb()](#funcdef-rgb) or [rgba()](#funcdef-rgba) form\n (depending on whether the (clamped) alpha is exactly 1, or not),\n with all [ASCII lowercase](https://infra.spec.whatwg.org/#ascii-lowercase) letters for the function name.\n\n \nFor compatibility, the sRGB component values\n are serialized in [<number>](https://www.w3.org/TR/css-values-4/#number-value) form, not [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value).\n Also for compatibility,\n the component values are serialized in base 10,\n with a range of [0-255], regardless of\n the bit depth with which they are stored.\n\n \n[As noted earlier](#serializing-alpha-values),\n unitary alpha values are not explicitly serialized.\n Also, for compatibility, if the alpha is exactly 1,\n the [rgb()](#funcdef-rgb) form is used,\n with an implicit alpha;\n otherwise, the [rgba()](#funcdef-rgba) form is used,\n with an explicit alpha value.\n\n \nFor compatibility,\n the legacy form with comma separators is used;\n exactly one ASCII space follows each comma.\n This includes the comma (not slash) used\n to separate the blue component of [rgba()](#funcdef-rgba) from the alpha value.\n\n \n [](#ex-rgb-ser-int-rgba) \n \nFor example, the serialized value of\n\n```\n rgb(29 164 192 / 95%)\n```\n\n \nis the string \"rgba(29, 164, 192, 0.95)\"\n\n \n \n [](#ex-hwb-serial) For example, an author-supplied value: \n\n```\n hwb(740deg 20% 30% / 50%)\n\n```\n\n \nWould be normalized first to\n\n```\n hwb(20 20% 30% / 50%)\n\n```\n\n \nand then converted to sRGB and serialized as\n\n```\n rgba(178.5, 93.5, 51, 0.5)\n\n```\n\n \nThe precision of the returned result\n is [described below](#sRGB-precision).\n\n \n \nNote: contrary to CSS Color 3,\n the parameters of the [rgb()](#funcdef-rgb) function\n are of type [<number>](https://www.w3.org/TR/css-values-4/#number-value), not [<integer>](https://www.w3.org/TR/css-values-4/#integer-value).\n Thus, any higher precision than eight bits\n is indicated with a fractional part.\n\n \n The precision with which sRGB component values are retained,\n and thus the number of significant figures in the serialized value,\n is not defined in this specification,\n but must at least be sufficient\n to round-trip eight bit values.\n Values must be [rounded towards +∞](https://drafts.csswg.org/css-values-4/#combine-integers), not truncated. \n\n \nNote: authors of scripts which expect\n color values returned from getComputedStyle to have [<integer>](https://www.w3.org/TR/css-values-4/#integer-value) component values,\n are advised to update them to also cope with [<number>](https://www.w3.org/TR/css-values-4/#number-value).\n\n \n [](#ex-rgb-number) \n \n For example,\n\n```\n rgb(146.064 107.457 131.223)\n```\n\n \nis now valid, and equal to\n\n```\n rgb(57.28% 42.14% 51.46%)\n```\n\n \nA conformant serialized form for both,\n is the string \"rgb(146.06, 107.46, 131.2)\".\n\n \n \nTrailing fractional zeroes in any component values must be omitted;\n if the fractional part consists of all zeroes,\n the decimal point must also be omitted.\n This means that sRGB colors specified with integer component values\n will serialize with backwards-compatible integer values.\n\n \n [](#ex-rgb-notrail) \n \nThe serialized computed value of \n\n```\n ''goldenrod''\n```\n\n \nis the string \"rgb(218, 165, 32)\"\n and not the string \"rgb(218.000, 165.000, 32.000)\"\n\n \n 15.3. Serializing Lab and LCH values[](#serializing-lab-lch)\n \nThe serialized form of [lch()](#funcdef-lch) and [lab()](#funcdef-lab) values\n is derived from the [computed value](https://www.w3.org/TR/css-cascade-5/#computed-value) and uses the lab() or lch() forms,\n with [ASCII lowercase](https://infra.spec.whatwg.org/#ascii-lowercase) letters for the function name.\n\n \nThe component values are serialized in base 10;\n the L, a, b and C component values\n are serialized as [<number>](https://www.w3.org/TR/css-values-4/#number-value),\n using the [Lab percentage reference ranges](#prr-lab) or the [LCH percentage reference ranges](#prr-lch) as appropriate\n to perform percentage to number conversion;\n thus 0% L maps to 0\n and 100% L maps to 100.\n A single ASCII space character \" \"\n must be used as the separator\n between the component values.\n\n \n Tests\n \n\n [color-computed.html](https://wpt.fyi/results/css/css-color/parsing/color-computed.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed.html)\n \n\n \n \n [](#ex-lab-zero-a) \n \nThe serialized value of\n\n```\n lab(56.200% 0.000 83.600)\n```\n\n \nis the string \"lab(56.2 0 83.6)\"\n\n \n \n [](#ex-lab-percent-b) \n \nThe serialized value of\n\n```\n lab(56.200% 0.000 66.88%)\n```\n\n \nis the string \"lab(56.2 0 83.6)\"\n\n \n \nTrailing fractional zeroes in any component values must be omitted;\n if the fractional part consists of all zeroes,\n the decimal point must also be omitted.\n\n \n [](#ex-lch-serial) \n \nThe serialized value of\n\n```\n lch(37% 105.0 305.00)\n```\n\n \nis the string \"lch(37 105 305)\",\n not \"lch(37 105.0 305.00)\". \n\n \n \nThe precision with which [lab()](#funcdef-lab) component values are retained,\n and thus the number of significant figures in the serialized value,\n is not defined in this specification,\n but due to the wide gamut must be sufficient\n to round-trip L values between 0 and 100,\n and a and b values between ±127,\n with at least sixteen bit precision;\n this will result in at least three decimal places\n unless trailing zeroes have been omitted.\n (half float or float, is recommended for internal storage).\n Values must be [rounded towards +∞](https://drafts.csswg.org/css-values-4/#combine-integers), not truncated.\n\n \nNote: a and b values outside ±125 are possible\n with ultrawide gamut spaces. For example, all of the [prophoto-rgb](#valdef-color-prophoto-rgb) primaries and secondaries\n exceed this range, but are within ±200.\n\n \n[As noted earlier](#serializing-alpha-values),\n unitary alpha values are not explicitly serialized.\n Non-unitary alpha values must be explicitly serialized,\n and the string \" / \"\n (an ASCII space, then forward slash, then another space)\n must be used to separate the b component value from the alpha value.\n\n \n [](#ex-lch-alpha) \n \nThe serialized value of\n\n```\n lch(56.2% 83.6 357.4 /93%)\n```\n\n \nis the string \"lch(56.2 83.6 357.4 / 0.93)\"\n not \"lch(56.2% 83.6 357.4 / 0.93)\" \n\n \n 15.4. Serializing Oklab and OKLCh values[](#serializing-oklab-oklch)\n \nThe serialized form of [oklch()](#funcdef-oklch) and [oklab()](#funcdef-oklab) values\n is derived from the [computed value](https://www.w3.org/TR/css-cascade-5/#computed-value) and uses the oklab() or oklch() forms,\n with [ASCII lowercase](https://infra.spec.whatwg.org/#ascii-lowercase) letters for the function name.\n\n \nThe component values are serialized in base 10;\n the L, a, b and C component values\n are serialized as [<number>](https://www.w3.org/TR/css-values-4/#number-value) using the [Oklab percentage reference ranges](#prr-oklab) or the [OKLCh percentage reference ranges](#prr-oklch) as appropriate\n to perform percentage to number conversion;\n thus 0% L maps to 0\n and 100% L maps to 1.0.\n A single ASCII space character \" \"\n must be used as the separator\n between the component values.\n\n \n Tests\n \n\n [color-computed.html](https://wpt.fyi/results/css/css-color/parsing/color-computed.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed.html)\n \n\n \n \n [](#ex-oklab-trailzero) \n \nThe serialized value of\n\n```\n oklab(54.0% -0.10 -0.02)\n```\n\n \nis the string \"oklab(0.54 -0.1 -0.02)\"\n not \"oklab(54 -0.1 -0.02)\" or\n \"oklab(54% -0.1 -0.02)\" \n\n \n \n [](#ex-oklab-percent-a-b) \n \nThe serialized value of\n\n```\n oklab(54.0 -25% -5%)\n```\n\n \nis the string \"oklab(0.54 -0.1 -0.02)\"\n not \"oklab(54 -0.25 -0.05)\" \n\n \n \nTrailing fractional zeroes in any component values must be omitted;\n if the fractional part consists of all zeroes,\n the decimal point must also be omitted.\n\n \n [](#ex-oklch-serial) \n \nThe serialized value of\n\n```\n oklch(56.43% 0.0900 123.40)\n```\n\n \nis the string \"oklch(0.5643 0.09 123.4)\",\n not \"oklch(0.5643 0.0900 123.40)\". \n\n \n \nThe precision with which [oklab()](#funcdef-oklab) component values are retained,\n and thus the number of significant figures in the serialized value,\n is not defined in this specification,\n but due to the wide gamut must be sufficient\n to round-trip L values between 0 and 1 (0% and 100%),\n and a, b and C values between ±0.5,\n with at least sixteen bit precision;\n this will result in at least five decimal places\n unless trailing zeroes have been omitted.\n (half float or float, is recommended for internal storage).\n Values must be [rounded towards +∞](https://drafts.csswg.org/css-values-4/#combine-integers), not truncated.\n\n \nNote: a, b and C values outside ±0.5 are possible\n with ultrawide gamut spaces. For example,\n the [prophoto-rgb](#valdef-color-prophoto-rgb) green and blue primaries\n exceed this range,\n with C of 0.526 and 1.413 respectively.\n\n \n[As noted earlier](#serializing-alpha-values),\n unitary alpha values are not explicitly serialized.\n Non-unitary alpha values must be explicitly serialized,\n and the string \" / \"\n (an ASCII space, then forward slash, then another space)\n must be used to separate the final color component (b, or C) value from the alpha value.\n\n \n [](#ex-oklch-alpha) \n \nThe serialized value of\n\n```\n oklch(53.85% 0.1725 320.67 / 70%)\n```\n\n \nis the string \"oklch(0.5385 0.1725 320.67 / 0.7)\"\n\n \n 15.5. Serializing values of the [color()](#funcdef-color) function[](#serializing-color-function-values)\n \nThe serialized form of [color()](#funcdef-color) values\n is derived from the [computed value](https://www.w3.org/TR/css-cascade-5/#computed-value) and uses the color() form,\n with [ASCII lowercase](https://infra.spec.whatwg.org/#ascii-lowercase) letters for the function name\n and the color space name.\n\n \nThe component values are serialized in base 10,\n as [<number>](https://www.w3.org/TR/css-values-4/#number-value).\n A single ASCII space character \" \"\n must be used as the separator\n between the component values,\n and also between the color space name and the first color component.\n\n \n Tests\n \n\n [color-computed.html](https://wpt.fyi/results/css/css-color/parsing/color-computed.html) [(live test)](https://wpt.live/css/css-color/parsing/color-computed.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed.html)\n \n\n \n \n [](#ex-color-serial) \n \nThe serialized value of\n\n```\n color(dIsPlAy-P3 0.964 0.763 0.787)\n```\n\n \nis the string \"color(display-p3 0.96 0.76 0.79)\",\n if two decimal places are retained.\n Notice that 0.787 has rounded up to 0.79,\n rather than being truncated to 0.78. \n\n \n \nTrailing fractional zeroes in any component values must be omitted;\n if the fractional part consists of all zeroes,\n the decimal point must also be omitted.\n\n \n [](#ex-color-trailzero) \n \nThe serialized value of\n\n```\n color(rec2020 0.400 0.660 0.340)\n```\n\n \nis the string \"color(rec2020 0.4 0.66 0.34)\",\n not \"color(rec2020 0.400 0.660 0.340)\". \n\n \n \nIf the color space is sRGB, the color space is still explicitly required in the serialized result.\n\n \nFor the predefined color spaces,\n the minimum precision for round-tripping is as follows:\n\n \n \n \n color space\n Minimum bits\n \n [srgb](#valdef-color-srgb)\n 10\n \n [srgb-linear](#valdef-color-srgb-linear)\n 12\n \n [display-p3](#valdef-color-display-p3)\n 10\n \n [a98-rgb](#valdef-color-a98-rgb)\n 10\n \n [prophoto-rgb](#valdef-color-prophoto-rgb)\n 12\n \n [rec2020](#valdef-color-rec2020)\n 12\n \n [xyz](#valdef-color-xyz), [xyz-d50](#valdef-color-xyz-d50), [xyz-d65](#valdef-color-xyz-d65)\n 16\n \n \n(16bit, half-float, or float per component is recommended for internal storage).\n Values must be [rounded towards +∞](https://drafts.csswg.org/css-values-4/#combine-integers), not truncated.\n\n \nNote: compared to the legacy forms\n such as [rgb()](#funcdef-rgb), [hsl()](#funcdef-hsl) and so on, color(srgb) has a higher minimum precision requirement.\n Stylesheet authors who prefer higher precision\n are thus encouraged to use the color(srgb) form.\n\n \n[As noted earlier](#serializing-alpha-values),\n unitary alpha values are not explicitly serialized.\n Non-unitary alpha values must be explicitly serialized,\n and the string \" / \"\n (an ASCII space, then forward slash, then another space)\n must be used to separate\n the final color component value\n from the alpha value.\n\n \n [](#ex-color-prophoto-alpha-serial) \n \nThe serialized value of\n\n```\n color(prophoto-rgb 0.2804 0.40283 0.42259/85%)\n```\n\n \nis the string \"color(prophoto-rgb 0.28 0.403 0.423 / 0.85)\",\n if three decimal places are retained. \n\n \n 15.6. Serializing other colors[](#serializing-other-colors)\n \nThis applies to [currentcolor](#valdef-color-currentcolor).\n\n \nThe serialized form of this value\n is derived from the [computed value](https://www.w3.org/TR/css-cascade-5/#computed-value) and uses [ASCII lowercase](https://infra.spec.whatwg.org/#ascii-lowercase) letters for the color name.\n\n \nThe serialized form of [currentColor](#valdef-color-currentcolor) is the string \"currentcolor\".",
      "rawLength": 38370
    },
    "serializing-opacity-values": {
      "id": "serializing-opacity-values",
      "heading": "16.  Serializing &lt;opacity-value>",
      "content": "This applies to the opacity property.\n\n \nThe specified given opacity value is serialized\n as a [<number>](https://www.w3.org/TR/css-values-4/#number-value), not a [<percentage>](https://www.w3.org/TR/css-values-4/#percentage-value).\n\n \nThis [<number>](https://www.w3.org/TR/css-values-4/#number-value) value is expressed in base ten,\n with the \".\" character as decimal separator.\n The leading zero must not be omitted.\n Trailing zeroes must be omitted.\n\n \nOpacity values outside the range [0,1]\n are preserved, without clamping, in the serialized specified value.\n\n \nThe precision with which opacity values are retained,\n and thus the number of decimal places in the serialized value,\n is not defined in this specification,\n but must at least be sufficient\n to round-trip integer percentage values.\n Thus, the serialized value must contain\n at least two decimal places\n (unless trailing zeroes have been removed).\n Values must be [rounded \n towards +∞](https://drafts.csswg.org/css-values-4/#combine-integers), not truncated.",
      "rawLength": 1369
    },
    "sample": {
      "id": "sample",
      "heading": "17.  Default Style Rules",
      "content": "The following stylesheet is informative, not normative. This style sheet could be used by an implementation as part of its default styling of HTML documents.\n\n```\n/* traditional desktop user agent colors for hyperlinks */\n:link { color: LinkText; }\n:visited { color: VisitedText; }\n:active { color: ActiveText; }\n\n```",
      "rawLength": 538
    },
    "color-conversion-code": {
      "id": "color-conversion-code",
      "heading": "18.  Sample code for Color Conversions",
      "content": "This section is not normative.\n\n \n Tests\n \nThis section is not normative, it does not need tests.\n\n \n\n \n \n \nFor clarity, [a library](multiply-matrices.js) is used for matrix multiplication.\n(This is more readable than inlining all the multiplies and adds).\nThe matrices are in [column-major order](https://www.scratchapixel.com/lessons/mathematics-physics-for-computer-graphics/geometry/row-major-vs-column-major-vector).\n\n```\n// Sample code for color conversions\n// Conversion can also be done using ICC profiles and a Color Management System\n// For clarity, a library is used for matrix multiplication (multiply-matrices.js)\n\n// standard white points, defined by 4-figure CIE x,y chromaticities\nconst D50 = [0.3457 / 0.3585, 1.00000, (1.0 - 0.3457 - 0.3585) / 0.3585];\nconst D65 = [0.3127 / 0.3290, 1.00000, (1.0 - 0.3127 - 0.3290) / 0.3290];\n\n// sRGB-related functions\n\nfunction lin_sRGB(RGB) {\n // convert an array of sRGB values\n // where in-gamut values are in the range [0 - 1]\n // to linear light (un-companded) form.\n // https://en.wikipedia.org/wiki/SRGB\n // Extended transfer function:\n // for negative values, linear portion is extended on reflection of axis,\n // then reflected power function is used.\n return RGB.map(function (val) {\n let sign = val < 0? -1 : 1;\n let abs = Math.abs(val);\n\n if (abs <= 0.04045) {\n return val / 12.92;\n }\n\n return sign * (Math.pow((abs + 0.055) / 1.055, 2.4));\n });\n}\n\nfunction gam_sRGB(RGB) {\n // convert an array of linear-light sRGB values in the range 0.0-1.0\n // to gamma corrected form\n // https://en.wikipedia.org/wiki/SRGB\n // Extended transfer function:\n // For negative values, linear portion extends on reflection\n // of axis, then uses reflected pow below that\n return RGB.map(function (val) {\n let sign = val < 0? -1 : 1;\n let abs = Math.abs(val);\n\n if (abs > 0.0031308) {\n return sign * (1.055 * Math.pow(abs, 1/2.4) - 0.055);\n }\n\n return 12.92 * val;\n });\n}\n\nfunction lin_sRGB_to_XYZ(rgb) {\n // convert an array of linear-light sRGB values to CIE XYZ\n // using sRGB's own white, D65 (no chromatic adaptation)\n\n var M = [\n [ 506752 / 1228815, 87881 / 245763, 12673 / 70218 ],\n [ 87098 / 409605, 175762 / 245763, 12673 / 175545 ],\n [ 7918 / 409605, 87881 / 737289, 1001167 / 1053270 ],\n ];\n return multiplyMatrices(M, rgb);\n}\n\nfunction XYZ_to_lin_sRGB(XYZ) {\n // convert XYZ to linear-light sRGB\n\n var M = [\n [ 12831 / 3959, -329 / 214, -1974 / 3959 ],\n [ -851781 / 878810, 1648619 / 878810, 36519 / 878810 ],\n [ 705 / 12673, -2585 / 12673, 705 / 667 ],\n ];\n\n return multiplyMatrices(M, XYZ);\n}\n\n// display-p3-related functions\n\nfunction lin_P3(RGB) {\n // convert an array of display-p3 RGB values in the range 0.0 - 1.0\n // to linear light (un-companded) form.\n\n return lin_sRGB(RGB); // same as sRGB\n}\n\nfunction gam_P3(RGB) {\n // convert an array of linear-light display-p3 RGB in the range 0.0-1.0\n // to gamma corrected form\n\n return gam_sRGB(RGB); // same as sRGB\n}\n\nfunction lin_P3_to_XYZ(rgb) {\n // convert an array of linear-light display-p3 values to CIE XYZ\n // using D65 (no chromatic adaptation)\n // http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n var M = [\n [ 608311 / 1250200, 189793 / 714400, 198249 / 1000160 ],\n [ 35783 / 156275, 247089 / 357200, 198249 / 2500400 ],\n [ 0 / 1, 32229 / 714400, 5220557 / 5000800 ],\n ];\n\n return multiplyMatrices(M, rgb);\n}\n\nfunction XYZ_to_lin_P3(XYZ) {\n // convert XYZ to linear-light P3\n var M = [\n [ 446124 / 178915, -333277 / 357830, -72051 / 178915 ],\n [ -14852 / 17905, 63121 / 35810, 423 / 17905 ],\n [ 11844 / 330415, -50337 / 660830, 316169 / 330415 ],\n ];\n\n return multiplyMatrices(M, XYZ);\n}\n\n// prophoto-rgb functions\n\nfunction lin_ProPhoto(RGB) {\n // convert an array of prophoto-rgb values\n // where in-gamut colors are in the range [0.0 - 1.0]\n // to linear light (un-companded) form.\n // Transfer curve is gamma 1.8 with a small linear portion\n // Extended transfer function\n const Et2 = 16/512;\n return RGB.map(function (val) {\n let sign = val < 0? -1 : 1;\n let abs = Math.abs(val);\n\n if (abs <= Et2) {\n return val / 16;\n }\n\n return sign * Math.pow(abs, 1.8);\n });\n}\n\nfunction gam_ProPhoto(RGB) {\n // convert an array of linear-light prophoto-rgb in the range 0.0-1.0\n // to gamma corrected form\n // Transfer curve is gamma 1.8 with a small linear portion\n // TODO for negative values, extend linear portion on reflection of axis, then add pow below that\n const Et = 1/512;\n return RGB.map(function (val) {\n let sign = val < 0? -1 : 1;\n let abs = Math.abs(val);\n\n if (abs >= Et) {\n return sign * Math.pow(abs, 1/1.8);\n }\n\n return 16 * val;\n });\n}\n\nfunction lin_ProPhoto_to_XYZ(rgb) {\n // convert an array of linear-light prophoto-rgb values to CIE D50 XYZ\n // matrix cannot be expressed in rational form, but is calculated to 64 bit accuracy\n // see https://github.com/w3c/csswg-drafts/issues/7675\n var M = [\n [ 0.79776664490064230, 0.13518129740053308, 0.03134773412839220 ],\n [ 0.28807482881940130, 0.71183523424187300, 0.00008993693872564 ],\n [ 0.00000000000000000, 0.00000000000000000, 0.82510460251046020 ]\n ];\n\n return multiplyMatrices(M, rgb);\n}\n\nfunction XYZ_to_lin_ProPhoto(XYZ) {\n // convert D50 XYZ to linear-light prophoto-rgb\n var M = [\n [ 1.34578688164715830, -0.25557208737979464, -0.05110186497554526 ],\n [ -0.54463070512490190, 1.50824774284514680, 0.02052744743642139 ],\n [ 0.00000000000000000, 0.00000000000000000, 1.21196754563894520 ]\n ];\n\n return multiplyMatrices(M, XYZ);\n}\n\n// a98-rgb functions\n\nfunction lin_a98rgb(RGB) {\n // convert an array of a98-rgb values in the range 0.0 - 1.0\n // to linear light (un-companded) form.\n // negative values are also now accepted\n return RGB.map(function (val) {\n let sign = val < 0? -1 : 1;\n let abs = Math.abs(val);\n\n return sign * Math.pow(abs, 563/256);\n });\n}\n\nfunction gam_a98rgb(RGB) {\n // convert an array of linear-light a98-rgb in the range 0.0-1.0\n // to gamma corrected form\n // negative values are also now accepted\n return RGB.map(function (val) {\n let sign = val < 0? -1 : 1;\n let abs = Math.abs(val);\n\n return sign * Math.pow(abs, 256/563);\n });\n}\n\nfunction lin_a98rgb_to_XYZ(rgb) {\n // convert an array of linear-light a98-rgb values to CIE XYZ\n // http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n // has greater numerical precision than section 4.3.5.3 of\n // https://www.adobe.com/digitalimag/pdfs/AdobeRGB1998.pdf\n // but the values below were calculated from first principles\n // from the chromaticity coordinates of R G B W\n // see matrixmaker.html\n var M = [\n [ 573536 / 994567, 263643 / 1420810, 187206 / 994567 ],\n [ 591459 / 1989134, 6239551 / 9945670, 374412 / 4972835 ],\n [ 53769 / 1989134, 351524 / 4972835, 4929758 / 4972835 ],\n ];\n\n return multiplyMatrices(M, rgb);\n}\n\nfunction XYZ_to_lin_a98rgb(XYZ) {\n // convert XYZ to linear-light a98-rgb\n var M = [\n [ 1829569 / 896150, -506331 / 896150, -308931 / 896150 ],\n [ -851781 / 878810, 1648619 / 878810, 36519 / 878810 ],\n [ 16779 / 1248040, -147721 / 1248040, 1266979 / 1248040 ],\n ];\n\n return multiplyMatrices(M, XYZ);\n}\n\n//Rec. 2020-related functions\n\nfunction lin_2020(RGB) {\n // convert an array of rec2020 RGB values in the range 0.0 - 1.0\n // to linear light (un-companded) form.\n // ITU-R BT.2020-2 p.4\n\n const α = 1.09929682680944 ;\n const β = 0.018053968510807;\n\n return RGB.map(function (val) {\n let sign = val < 0? -1 : 1;\n let abs = Math.abs(val);\n\n if (abs < β * 4.5 ) {\n return val / 4.5;\n }\n\n return sign * (Math.pow((abs + α -1 ) / α, 1/0.45));\n });\n}\n\nfunction gam_2020(RGB) {\n // convert an array of linear-light rec2020 RGB in the range 0.0-1.0\n // to gamma corrected form\n // ITU-R BT.2020-2 p.4\n\n const α = 1.09929682680944 ;\n const β = 0.018053968510807;\n\n return RGB.map(function (val) {\n let sign = val < 0? -1 : 1;\n let abs = Math.abs(val);\n\n if (abs > β ) {\n return sign * (α * Math.pow(abs, 0.45) - (α - 1));\n }\n\n return 4.5 * val;\n });\n}\n\nfunction lin_2020_to_XYZ(rgb) {\n // convert an array of linear-light rec2020 values to CIE XYZ\n // using D65 (no chromatic adaptation)\n // http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n var M = [\n [ 63426534 / 99577255, 20160776 / 139408157, 47086771 / 278816314 ],\n [ 26158966 / 99577255, 472592308 / 697040785, 8267143 / 139408157 ],\n [ 0 / 1, 19567812 / 697040785, 295819943 / 278816314 ],\n ];\n // 0 is actually calculated as 4.994106574466076e-17\n\n return multiplyMatrices(M, rgb);\n}\n\nfunction XYZ_to_lin_2020(XYZ) {\n // convert XYZ to linear-light rec2020\n var M = [\n [ 30757411 / 17917100, -6372589 / 17917100, -4539589 / 17917100 ],\n [ -19765991 / 29648200, 47925759 / 29648200, 467509 / 29648200 ],\n [ 792561 / 44930125, -1921689 / 44930125, 42328811 / 44930125 ],\n ];\n\n return multiplyMatrices(M, XYZ);\n}\n\n// Chromatic adaptation\n\nfunction D65_to_D50(XYZ) {\n // Bradford chromatic adaptation from D65 to D50\n // The matrix below is the result of three operations:\n // - convert from XYZ to retinal cone domain\n // - scale components from one reference white to another\n // - convert back to XYZ\n // see https://github.com/LeaVerou/color.js/pull/354/files\n \n var M = [\n [ 1.0479297925449969, 0.022946870601609652, -0.05019226628920524 ],\n [ 0.02962780877005599, 0.9904344267538799, -0.017073799063418826 ],\n [ -0.009243040646204504, 0.015055191490298152, 0.7518742814281371 ]\n ];\n\n return multiplyMatrices(M, XYZ);\n}\n\nfunction D50_to_D65(XYZ) {\n // Bradford chromatic adaptation from D50 to D65\n // See https://github.com/LeaVerou/color.js/pull/360/files\n var M = [\n [ 0.955473421488075, -0.02309845494876471, 0.06325924320057072 ],\n [ -0.0283697093338637, 1.0099953980813041, 0.021041441191917323 ],\n [ 0.012314014864481998, -0.020507649298898964, 1.330365926242124 ]\n ];\n\n return multiplyMatrices(M, XYZ);\n}\n\n// CIE Lab and LCH\n\nfunction XYZ_to_Lab(XYZ) {\n // Assuming XYZ is relative to D50, convert to CIE Lab\n // from CIE standard, which now defines these as a rational fraction\n var ε = 216/24389; // 6^3/29^3\n var κ = 24389/27; // 29^3/3^3\n\n // compute xyz, which is XYZ scaled relative to reference white\n var xyz = XYZ.map((value, i) => value / D50[i]);\n\n // now compute f\n var f = xyz.map(value => value > ε ? Math.cbrt(value) : (κ * value + 16)/116);\n\n return [\n (116 * f[1]) - 16, // L\n 500 * (f[0] - f[1]), // a\n 200 * (f[1] - f[2]) // b\n ];\n // L in range [0,100]. For use in CSS, add a percent\n}\n\nfunction Lab_to_XYZ(Lab) {\n // Convert Lab to D50-adapted XYZ\n // http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n var κ = 24389/27; // 29^3/3^3\n var ε = 216/24389; // 6^3/29^3\n var f = [];\n\n // compute f, starting with the luminance-related term\n f[1] = (Lab[0] + 16)/116;\n f[0] = Lab[1]/500 + f[1];\n f[2] = f[1] - Lab[2]/200;\n\n // compute xyz\n var xyz = [\n Math.pow(f[0],3) > ε ? Math.pow(f[0],3) : (116*f[0]-16)/κ,\n Lab[0] > κ * ε ? Math.pow((Lab[0]+16)/116,3) : Lab[0]/κ,\n Math.pow(f[2],3) > ε ? Math.pow(f[2],3) : (116*f[2]-16)/κ\n ];\n\n // Compute XYZ by scaling xyz by reference white\n return xyz.map((value, i) => value * D50[i]);\n}\n\nfunction Lab_to_LCH(Lab) {\n var epsilon = 0.0015;\n var chroma = Math.sqrt(Math.pow(Lab[1], 2) + Math.pow(Lab[2], 2)); // Chroma\n var hue = Math.atan2(Lab[2], Lab[1]) * 180 / Math.PI;\n if (hue < 0) {\n hue = hue + 360;\n }\n if (chroma <= epsilon) {\n hue = NaN;\n }\n return [\n Lab[0], // L is still L\n chroma, // Chroma\n hue // Hue, in degrees [0 to 360)\n ];\n}\n\nfunction LCH_to_Lab(LCH) {\n // Convert from polar form\n return [\n LCH[0], // L is still L\n LCH[1] * Math.cos(LCH[2] * Math.PI / 180), // a\n LCH[1] * Math.sin(LCH[2] * Math.PI / 180) // b\n ];\n}\n\n// OKLab and OKLCH\n// https://bottosson.github.io/posts/oklab/\n\n// XYZ <-> LMS matrices recalculated for consistent reference white\n// see https://github.com/w3c/csswg-drafts/issues/6642#issuecomment-943521484\n// recalculated for 64bit precision\n// see https://github.com/color-js/color.js/pull/357\n\nfunction XYZ_to_OKLab(XYZ) {\n // Given XYZ relative to D65, convert to OKLab\n var XYZtoLMS = [\n [ 0.8190224379967030, 0.3619062600528904, -0.1288737815209879 ],\n [ 0.0329836539323885, 0.9292868615863434, 0.0361446663506424 ],\n [ 0.0481771893596242, 0.2642395317527308, 0.6335478284694309 ]\n ];\n var LMStoOKLab = [\n [ 0.2104542683093140, 0.7936177747023054, -0.0040720430116193 ],\n [ 1.9779985324311684, -2.4285922420485799, 0.4505937096174110 ],\n [ 0.0259040424655478, 0.7827717124575296, -0.8086757549230774 ]\n ];\n\n var LMS = multiplyMatrices(XYZtoLMS, XYZ);\n // JavaScript Math.cbrt returns a sign-matched cube root\n // beware if porting to other languages\n // especially if tempted to use a general power function\n return multiplyMatrices(LMStoOKLab, LMS.map(c => Math.cbrt(c)));\n // L in range [0,1]. For use in CSS, multiply by 100 and add a percent\n}\n\nfunction OKLab_to_XYZ(OKLab) {\n // Given OKLab, convert to XYZ relative to D65\n var LMStoXYZ = [\n [ 1.2268798758459243, -0.5578149944602171, 0.2813910456659647 ],\n [ -0.0405757452148008, 1.1122868032803170, -0.0717110580655164 ],\n [ -0.0763729366746601, -0.4214933324022432, 1.5869240198367816 ]\n ];\n var OKLabtoLMS = [\n [ 1.0000000000000000, 0.3963377773761749, 0.2158037573099136 ],\n [ 1.0000000000000000, -0.1055613458156586, -0.0638541728258133 ],\n [ 1.0000000000000000, -0.0894841775298119, -1.2914855480194092 ]\n ];\n\n var LMSnl = multiplyMatrices(OKLabtoLMS, OKLab);\n return multiplyMatrices(LMStoXYZ, LMSnl.map(c => c ** 3));\n}\n\nfunction OKLab_to_OKLCH(OKLab) {\n var epsilon = 0.000004;\n var hue = Math.atan2(OKLab[2], OKLab[1]) * 180 / Math.PI;\n var chroma = Math.sqrt(OKLab[1] ** 2 + OKLab[2] ** 2);\n if (hue < 0) {\n hue = hue + 360;\n }\n if (chroma <= epsilon) {\n hue = NaN;\n }\n return [\n OKLab[0], // L is still L\n chroma,\n hue\n ];\n}\n\nfunction OKLCH_to_OKLab(OKLCH) {\n return [\n OKLCH[0], // L is still L\n OKLCH[1] * Math.cos(OKLCH[2] * Math.PI / 180), // a\n OKLCH[1] * Math.sin(OKLCH[2] * Math.PI / 180) // b\n ];\n}\n\n// Premultiplied alpha conversions\n\nfunction rectangular_premultiply(color, alpha) {\n// given a color in a rectangular orthogonal colorspace\n// and an alpha value\n// return the premultiplied form\n return color.map((c) => c * alpha)\n}\n\nfunction rectangular_un_premultiply(color, alpha) {\n// given a premultiplied color in a rectangular orthogonal colorspace\n// and an alpha value\n// return the actual color\n if (alpha === 0) {\n return color; // avoid divide by zero\n }\n return color.map((c) => c / alpha)\n}\n\nfunction polar_premultiply(color, alpha, hueIndex) {\n // given a color in a cylindicalpolar colorspace\n // and an alpha value\n // return the premultiplied form.\n // the index says which entry in the color array corresponds to hue angle\n // for example, in OKLCH it would be 2\n // while in HSL it would be 0\n return color.map((c, i) => c * (hueIndex === i? 1 : alpha))\n}\n\nfunction polar_un_premultiply(color, alpha, hueIndex) {\n // given a color in a cylindicalpolar colorspace\n // and an alpha value\n // return the actual color.\n // the hueIndex says which entry in the color array corresponds to hue angle\n // for example, in OKLCH it would be 2\n // while in HSL it would be 0\n if (alpha === 0) {\n return color; // avoid divide by zero\n }\n return color.map((c, i) => c / (hueIndex === i? 1 : alpha))\n}\n\n// Convenience functions can easily be defined, such as\nfunction hsl_premultiply(color, alpha) {\n return polar_premultiply(color, alpha, 0);\n}\n\n```",
      "rawLength": 37083
    },
    "color-difference-code": {
      "id": "color-difference-code",
      "heading": "19.  Sample Code for ΔE2000 and ΔEOK Color Differences",
      "content": "This section is not normative.\n\n \n Tests\n \nThis section is not normative, it does not need tests.\n\n \n\n \n \n 19.1. ΔE2000[](#color-difference-2000)\n \n The simplest color difference metric, ΔE76,\n is simply the Euclidean distance in Lab color space.\n While this is a good first approximation,\n color-critical industries such as printing and fabric dyeing\n soon developed improved formulae.\n Currently, the most widely used formula\n is ΔE2000.\n It corrects a number of known asymmetries and non-linearities\n compared to ΔE76.\n Because the formula is complex,\n and critically dependent on the sign\n of various intermediate calculations,\n implementations are often incorrect [[Sharma]](#biblio-sharma). \n\n \n The sample code below has been [validated](https://colorjs.io/test/?test=delta) to five significant figures\n against the test suite of paired Lab values and expected ΔE2000\n published by [[Sharma]](#biblio-sharma) and is correct. \n\n```\n// deltaE2000 is a statistically significant improvement\n// over deltaE76 and deltaE94,\n// and is recommended by the CIE and Idealliance\n// especially for color differences less than 10 deltaE76\n// but is wicked complicated\n// and many implementations have small errors!\n\n/**\n * @param {number[]} reference - Array of CIE Lab values: L as 0..100, a and b as around -150..150\n * @param {number[]} sample - Array of CIE Lab values: L as 0..100, a and b as around -150..150\n * @return {number} How different a color sample is from reference\n */\n\nfunction deltaE2000 (reference, sample) {\n\n // Given a reference and a sample color,\n // both in CIE Lab,\n // calculate deltaE 2000.\n\n // This implementation assumes the parametric\n // weighting factors kL, kC and kH\n // (for the influence of viewing conditions)\n // are all 1, as seems typical.\n\n let [L1, a1, b1] = reference;\n let [L2, a2, b2] = sample;\n let C1 = Math.sqrt(a1 ** 2 + b1 ** 2);\n let C2 = Math.sqrt(a2 ** 2 + b2 ** 2);\n\n let Cbar = (C1 + C2)/2; // mean Chroma\n\n // calculate a-axis asymmetry factor from mean Chroma\n // this turns JND ellipses for near-neutral colors back into circles\n let C7 = Math.pow(Cbar, 7);\n const Gfactor = Math.pow(25, 7);\n let G = 0.5 * (1 - Math.sqrt(C7/(C7+Gfactor)));\n\n // scale a axes by asymmetry factor\n // this by the way is why there is no Lab2000 color space\n let adash1 = (1 + G) * a1;\n let adash2 = (1 + G) * a2;\n\n // calculate new Chroma from scaled a and original b axes\n let Cdash1 = Math.sqrt(adash1 ** 2 + b1 ** 2);\n let Cdash2 = Math.sqrt(adash2 ** 2 + b2 ** 2);\n\n // calculate new hues, with zero hue for true neutrals\n // and in degrees, not radians\n const π = Math.PI;\n const r2d = 180 / π;\n const d2r = π / 180;\n let h1 = (adash1 === 0 && b1 === 0)? 0: Math.atan2(b1, adash1);\n let h2 = (adash2 === 0 && b2 === 0)? 0: Math.atan2(b2, adash2);\n\n if (h1 < 0) {\n h1 += 2 * π;\n }\n if (h2 < 0) {\n h2 += 2 * π;\n }\n\n h1 *= r2d;\n h2 *= r2d;\n\n // Lightness and Chroma differences; sign matters\n let ΔL = L2 - L1;\n let ΔC = Cdash2 - Cdash1;\n\n // Hue difference, taking care to get the sign correct\n let hdiff = h2 - h1;\n let hsum = h1 + h2;\n let habs = Math.abs(hdiff);\n let Δh;\n\n if (Cdash1 * Cdash2 === 0) {\n Δh = 0;\n }\n else if (habs <= 180) {\n Δh = hdiff;\n }\n else if (hdiff > 180) {\n Δh = hdiff - 360;\n }\n else if (hdiff < -180) {\n Δh = hdiff + 360;\n }\n else {\n console.log(\"the unthinkable has happened\");\n }\n\n // weighted Hue difference, more for larger Chroma\n let ΔH = 2 * Math.sqrt(Cdash2 * Cdash1) * Math.sin(Δh * d2r / 2);\n\n // calculate mean Lightness and Chroma\n let Ldash = (L1 + L2)/2;\n let Cdash = (Cdash1 + Cdash2)/2;\n let Cdash7 = Math.pow(Cdash, 7);\n\n // Compensate for non-linearity in the blue region of Lab.\n // Four possibilities for hue weighting factor,\n // depending on the angles, to get the correct sign\n let hdash;\n if (Cdash1 == 0 && Cdash2 == 0) {\n hdash = hsum; // which should be zero\n }\n else if (habs <= 180) {\n hdash = hsum / 2;\n }\n else if (hsum < 360) {\n hdash = (hsum + 360) / 2;\n }\n else {\n hdash = (hsum - 360) / 2;\n }\n\n // positional corrections to the lack of uniformity of CIELAB\n // These are all trying to make JND ellipsoids more like spheres\n\n // SL Lightness crispening factor\n // a background with L=50 is assumed\n let lsq = (Ldash - 50) ** 2;\n let SL = 1 + ((0.015 * lsq) / Math.sqrt(20 + lsq));\n\n // SC Chroma factor, similar to those in CMC and deltaE 94 formulae\n let SC = 1 + 0.045 * Cdash;\n\n // Cross term T for blue non-linearity\n let T = 1;\n T -= (0.17 * Math.cos(( hdash - 30) * d2r));\n T += (0.24 * Math.cos( 2 * hdash * d2r));\n T += (0.32 * Math.cos(((3 * hdash) + 6) * d2r));\n T -= (0.20 * Math.cos(((4 * hdash) - 63) * d2r));\n\n // SH Hue factor depends on Chroma,\n // as well as adjusted hue angle like deltaE94.\n let SH = 1 + 0.015 * Cdash * T;\n\n // RT Hue rotation term compensates for rotation of JND ellipses\n // and Munsell constant hue lines\n // in the medium-high Chroma blue region\n // (Hue 225 to 315)\n let Δθ = 30 * Math.exp(-1 * (((hdash - 275)/25) ** 2));\n let RC = 2 * Math.sqrt(Cdash7/(Cdash7 + Gfactor));\n let RT = -1 * Math.sin(2 * Δθ * d2r) * RC;\n\n // Finally calculate the deltaE, term by term as root sum of squares\n let dE = (ΔL / SL) ** 2;\n dE += (ΔC / SC) ** 2;\n dE += (ΔH / SH) ** 2;\n dE += RT * (ΔC / SC) * (ΔH / SH);\n return Math.sqrt(dE);\n // Yay!!!\n};\n```\n\n 19.2. ΔEOK[](#color-difference-OK)\n \n Because Oklab does not suffer from\n the hue linearity, hue uniformity,\n and chroma non-linearities of CIE Lab,\n the color difference metric does not need to correct for them\n and so\n is simply the Euclidean distance in Oklab color space. \n\n```\n// Calculate deltaE OK\n// simple root sum of squares\n/**\n * @param {number[]} reference - Array of OKLab values: L as 0..1, a and b as -1..1\n * @param {number[]} sample - Array of OKLab values: L as 0..1, a and b as -1..1\n * @return {number} How different a color sample is from reference\n */\nfunction deltaEOK (reference, sample) {\n let [L1, a1, b1] = reference;\n let [L2, a2, b2] = sample;\n let ΔL = L1 - L2;\n let Δa = a1 - a2;\n let Δb = b1 - b2;\n return Math.sqrt(ΔL ** 2 + Δa ** 2 + Δb ** 2);\n}\n```",
      "rawLength": 14012
    },
    "deprecated-system-colors": {
      "id": "deprecated-system-colors",
      "heading": "Appendix A: Deprecated CSS System Colors",
      "content": "Earlier versions of CSS defined several additional [system colors](#css-system-colors).\n These color keywords have been deprecated, however,\n as they are insufficient for their original purpose\n (making website elements look like their native OS counterparts),\n represent a security risk\n by making it easier for a webpage to “spoof” a native OS dialog,\n and increase fingerprinting surface, compromising user privacy.\n\n \nUser agents must support these keywords,\n and to mitigate fingerprinting\n must map them to the (undeprecated) [system colors](#css-system-colors) as listed below. Authors must not use these keywords.\n\n \nThe deprecated system colors are represented\n as the **[<deprecated-color>](#typedef-deprecated-color)** sub-type,\n and are defined as:\n\n \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-activeborder\">ActiveBorder \n Active window border. Same as [ButtonBorder](#valdef-color-buttonborder). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-activecaption\">ActiveCaption \n Active window caption. Same as [Canvas](#valdef-color-canvas). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-appworkspace\">AppWorkspace \n Background color of multiple document interface. Same as [Canvas](#valdef-color-canvas). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-background\">Background \n Desktop background. Same as [Canvas](#valdef-color-canvas). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-buttonhighlight\">ButtonHighlight \n The color of the border facing the light source for 3-D elements\n that appear 3-D due to one layer of surrounding border. Same as [ButtonFace](#valdef-color-buttonface). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-buttonshadow\">ButtonShadow \n The color of the border away from the light source for 3-D elements\n that appear 3-D due to one layer of surrounding border. Same as [ButtonFace](#valdef-color-buttonface). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-captiontext\">CaptionText \n Text in caption, size box, and scrollbar arrow box. Same as [CanvasText](#valdef-color-canvastext). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-inactiveborder\">InactiveBorder \n Inactive window border. Same as [ButtonBorder](#valdef-color-buttonborder). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-inactivecaption\">InactiveCaption \n Inactive window caption. Same as [Canvas](#valdef-color-canvas). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-inactivecaptiontext\">InactiveCaptionText \n Color of text in an inactive caption. Same as [GrayText](#valdef-color-graytext). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-infobackground\">InfoBackground \n Background color for tooltip controls. Same as [Canvas](#valdef-color-canvas). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-infotext\">InfoText \n Text color for tooltip controls. Same as [CanvasText](#valdef-color-canvastext). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-menu\">Menu \n Menu background. Same as [Canvas](#valdef-color-canvas). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-menutext\">MenuText \n Text in menus. Same as [CanvasText](#valdef-color-canvastext). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-scrollbar\">Scrollbar \n Scroll bar gray area. Same as [Canvas](#valdef-color-canvas). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-threeddarkshadow\">ThreeDDarkShadow \n The color of the darker (generally outer) of the two borders away\n from the light source for 3-D elements that appear 3-D due to two\n concentric layers of surrounding border. Same as [ButtonBorder](#valdef-color-buttonborder). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-threedface\">ThreeDFace \n The face background color for 3-D elements that appear 3-D due to\n two concentric layers of surrounding border. Same as [ButtonFace](#valdef-color-buttonface). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-threedhighlight\">ThreeDHighlight \n The color of the lighter (generally outer) of the two borders facing\n the light source for 3-D elements that appear 3-D due to two\n concentric layers of surrounding border. Same as [ButtonBorder](#valdef-color-buttonborder). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-threedlightshadow\">ThreeDLightShadow \n The color of the darker (generally inner) of the two borders facing\n the light source for 3-D elements that appear 3-D due to two\n concentric layers of surrounding border. Same as [ButtonBorder](#valdef-color-buttonborder). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-threedshadow\">ThreeDShadow \n The color of the lighter (generally inner) of the two borders away\n from the light source for 3-D elements that appear 3-D due to two\n concentric layers of surrounding border. Same as [ButtonBorder](#valdef-color-buttonborder). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-window\">Window \n Window background. Same as [Canvas](#valdef-color-canvas). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-windowframe\">WindowFrame \n Window frame. Same as [ButtonBorder](#valdef-color-buttonborder). \n , \" data-dfn-type=\"value\" data-export id=\"valdef-color-windowtext\">WindowText \n Text in windows. Same as [CanvasText](#valdef-color-canvastext). \n \n \n Tests\n \n\n [deprecated-sameas-001.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-001.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-001.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-001.html)\n [deprecated-sameas-002.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-002.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-002.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-002.html)\n [deprecated-sameas-003.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-003.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-003.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-003.html)\n [deprecated-sameas-004.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-004.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-004.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-004.html)\n [deprecated-sameas-005.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-005.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-005.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-005.html)\n [deprecated-sameas-006.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-006.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-006.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-006.html)\n [deprecated-sameas-007.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-007.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-007.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-007.html)\n [deprecated-sameas-008.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-008.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-008.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-008.html)\n [deprecated-sameas-009.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-009.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-009.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-009.html)\n [deprecated-sameas-010.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-010.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-010.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-010.html)\n [deprecated-sameas-011.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-011.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-011.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-011.html)\n [deprecated-sameas-012.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-012.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-012.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-012.html)\n [deprecated-sameas-013.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-013.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-013.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-013.html)\n [deprecated-sameas-014.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-014.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-014.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-014.html)\n [deprecated-sameas-015.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-015.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-015.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-015.html)\n [deprecated-sameas-016.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-016.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-016.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-016.html)\n [deprecated-sameas-017.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-017.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-017.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-017.html)\n [deprecated-sameas-018.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-018.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-018.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-018.html)\n [deprecated-sameas-019.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-019.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-019.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-019.html)\n [deprecated-sameas-020.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-020.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-020.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-020.html)\n [deprecated-sameas-021.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-021.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-021.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-021.html)\n [deprecated-sameas-022.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-022.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-022.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-022.html)\n [deprecated-sameas-023.html](https://wpt.fyi/results/css/css-color/deprecated-sameas-023.html) [(live test)](https://wpt.live/css/css-color/deprecated-sameas-023.html) [(source)](https://github.com/web-platform-tests/wpt/blob/master/css/css-color/deprecated-sameas-023.html)",
      "rawLength": 20495
    },
    "quirky-color": {
      "id": "quirky-color",
      "heading": "Appendix B: Deprecated Quirky Hex Colors",
      "content": "When CSS is being parsed in [quirks mode](https://dom.spec.whatwg.org/#concept-document-quirks), **[<quirky-color>](#typedef-quirky-color)** is a type of [<color>](#typedef-color) that is only valid in certain properties:\n\n \n\n \n \n[background-color](https://www.w3.org/TR/css-backgrounds-3/#propdef-background-color)\n\n \n \n[border-color](https://www.w3.org/TR/css-backgrounds-3/#propdef-border-color)\n\n \n \n[border-top-color](https://www.w3.org/TR/css-backgrounds-3/#propdef-border-top-color)\n\n \n \n[border-right-color](https://www.w3.org/TR/css-backgrounds-3/#propdef-border-right-color)\n\n \n \n[border-bottom-color](https://www.w3.org/TR/css-backgrounds-3/#propdef-border-bottom-color)\n\n \n \n[border-left-color](https://www.w3.org/TR/css-backgrounds-3/#propdef-border-left-color)\n\n \n \n[color](#propdef-color)\n\n \n\n \nIt is not valid in properties that include or reference these properties,\n such as the [background](https://www.w3.org/TR/css-backgrounds-3/#propdef-background) shorthand,\n or inside [functional notations](https://www.w3.org/TR/css-values-4/#functional-notation) such as [color-mix()](https://www.w3.org/TR/css-color-5/#funcdef-color-mix)\n\n \nAdditionally, while [<quirky-color>](#typedef-quirky-color) must be valid as a [<color>](#typedef-color) when parsing the affected properties in the [@supports](https://www.w3.org/TR/css-conditional-3/#at-ruledef-supports) rule,\n it is not valid for those properties\n when used in the [CSS.supports()](https://www.w3.org/TR/css-conditional-3/#dom-css-supports-conditiontext) method.\n\n \nA [<quirky-color>](#typedef-quirky-color) can be represented\n as a [<number-token>](https://www.w3.org/TR/css-syntax-3/#typedef-number-token), [<dimension-token>](https://www.w3.org/TR/css-syntax-3/#typedef-dimension-token), or [<ident-token>](https://www.w3.org/TR/css-syntax-3/#typedef-ident-token),\n according to the following rules:\n\n \n\n \n \nIf it’s an [<ident-token>](https://www.w3.org/TR/css-syntax-3/#typedef-ident-token),\nthe token’s representation must contain exactly 3 or 6 characters,\nall hexadecimal digits.\nIt represents a [<hex-color>](#typedef-hex-color) with the same value.\n\n \n \nIf it’s a [<number-token>](https://www.w3.org/TR/css-syntax-3/#typedef-number-token),\nit must have its integer flag set.\n\n \nSerialize the integer’s value.\nIf the serialization has less than 6 characters,\nprepend \"0\" characters to it until it is 6 characters long.\nIt represents a [<hex-color>](#typedef-hex-color) with the same value.\n\n \n \nIf it’s a [<dimension-token>](https://www.w3.org/TR/css-syntax-3/#typedef-dimension-token),\nit must have its integer flag set.\n\n \nSerialize the integer’s value,\nand append the representation of the token’s unit.\nIf the result has less than 6 characters,\nprepend \"0\" characters to it until it is 6 characters long.\nIt represents a [<hex-color>](#typedef-hex-color) with the same value.\n\n \n\n \n(In other words, Quirks Mode allows hex colors to be written without the leading \"#\",\n but with weird parsing rules.)\n\n \n Tests\n \nquirky hex colors",
      "rawLength": 6072
    },
    "security": {
      "id": "security",
      "heading": "20. Security Considerations",
      "content": "The system colors,\nif they actually correspond to the user’s system colors,\npose a security risk,\nas they make it easier for a malware site\nto create user interfaces that appear to be from the system.\nHowever, as several system colors are now defined to be \"generic\",\nthis risk is believed to be mitigated.",
      "rawLength": 321
    },
    "privacy": {
      "id": "privacy",
      "heading": "21. Privacy Considerations",
      "content": "This specification defines \"system\" colors,\nwhich theoretically can expose details of the user’s OS settings,\nwhich is a fingerprinting risk.",
      "rawLength": 156
    },
    "a11y-sec": {
      "id": "a11y-sec",
      "heading": "22. Accessibility Considerations",
      "content": "This specification [encourages authors to not use\n color alone](#accessibility) as a distinguishing feature.\n\n \nThis specification [encourages browsers to ensure\n adequate contrast for specific system color foreground/background pairs](#css-system-colors).\n A harder requirement with specific AA or AAA contrast ratios was considered,\n but since browsers are often just passing along color choices made by the OS,\n or selected by users (who may have particular requirements,\n including lower contrast for people living with migraines or epileptic seizures), the CSSWG\n was unable to require a specific contrast level.",
      "rawLength": 702
    }
  }
}