{
  "specName": "css-position-3",
  "extractedAt": "2026-02-06T03:06:35.502Z",
  "totalSections": 19,
  "coreSections": 12,
  "sections": {
    "sotd": {
      "id": "sotd",
      "heading": "Status of this document",
      "content": "This section describes the status of this document at the time of its publication.\n A list of current W3C publications\n and the latest revision of this technical report\n can be found in the [W3C standards and drafts index.](https://www.w3.org/TR/)\n\n \n\n This document was published\n by the [CSS Working Group](https://www.w3.org/groups/wg/css)\n as a Working Draft using the [Recommendation\n track](https://www.w3.org/policies/process/20250818/#recs-and-notes).\n Publication as a Working Draft\n does not imply endorsement by W3C and its Members.\n\n \n\n This is a draft document\n and may be updated, replaced\n or obsoleted by other documents at any time.\n It is inappropriate to cite this document as other than a work in progress.\n\n \nPlease send feedback\n by [filing issues in GitHub](https://github.com/w3c/csswg-drafts/issues) (preferred),\n including the spec code “css-position” in the title, like this:\n “[css-position] …summary of comment…”.\n All issues and comments are [archived](https://lists.w3.org/Archives/Public/public-css-archive/).\n Alternately, feedback can be sent to the ([archived](https://lists.w3.org/Archives/Public/www-style/)) public mailing list\n [www-style@w3.org](mailto:www-style@w3.org?Subject=%5Bcss-position%5D%20PUT%20SUBJECT%20HERE).\n\n \nThis document is governed by the\n [18 August 2025 W3C Process Document](https://www.w3.org/policies/process/20250818/).\n\n \nThis document was produced by a group operating under the\n [W3C Patent Policy](https://www.w3.org/policies/patent-policy/20200915/).\n W3C maintains a\n [public list of any patent disclosures](https://www.w3.org/groups/wg/css/ipr)\n made in connection with the deliverables of the group;\n that page also includes instructions for disclosing a patent.\n An individual who has actual knowledge of a patent that the individual believes\n contains [Essential Claim(s)](https://www.w3.org/policies/patent-policy/20200915/#def-essential)\n must disclose the information in accordance with\n [section 6 of the W3C Patent Policy](https://www.w3.org/policies/patent-policy/20200915/#sec-Disclosure).",
      "rawLength": 2525
    },
    "intro": {
      "id": "intro",
      "heading": "1. \nIntroduction",
      "content": "This section is not normative.\n\n \nThe CSS layout algorithms, by default,\n size and position boxes in relation to each other\n so that nothing overlaps.\n\n \nThis specification defines several ways to violate these assumptions when needed,\n moving elements around in ways that can make them overlap other content:\n\n \n\n \n \n[Relative positioning](#relative-position), which visually shifts a box relative to its laid-out location.\n\n \n \n[Sticky positioning](#sticky-position), which visually shifts a box relative to its laid-out location\nin order to keep it visible when a scrollable ancestor\nwould otherwise scroll it out of sight.\n\n \n \n[Absolute positioning](#absolute-position), which ignores normal layout entirely,\npulling the element [out of flow](https://www.w3.org/TR/css-display-4/#out-of-flow) and\npositioning it relative to its [containing block](https://www.w3.org/TR/css-display-4/#containing-block)\nwith no regard for other content.\n\n \n \n[Fixed positioning](#fixed-position), which absolutely positions the box\nand affixes it to the viewport or page frame\nso that it is always visible.\n\n \n\n \nThese [positioning schemes](#positioning-scheme),\n controlled by the [position](#propdef-position) property and the [inset properties](#inset-properties),\n are powerful\n but easy to misuse.\n With appropriate care,\n they allow many interesting and useful layouts\n that couldn’t otherwise be achieved with standard layout rules;\n without, they allow a page to be laid out in an unusable overlapping jumble of content.\n\n 1.1. \nModule Interactions[](#placement)\n \nThis module replaces and extends the [positioning scheme](#positioning-scheme) features\n defined in [[CSS2]](#biblio-css2) sections:\n\n \n\n \n [9.1.2 Containing blocks](https://www.w3.org/TR/CSS2/visuren.html#containing-block)\n \n \n [9.3 Positioning schemes](https://www.w3.org/TR/CSS2/visuren.html#positioning-scheme)\n \n \n [9.4.3 Relative positioning](https://www.w3.org/TR/CSS2/visuren.html#relative-positioning)\n \n \n [9.6 Absolute positioning](https://www.w3.org/TR/CSS2/visuren.html#absolute-positioning)\n \n \n [9.7 Relationships between display, position, and float](https://www.w3.org/TR/CSS2/visuren.html#dis-pos-flo)\n \n \n [9.8 Comparison of normal flow, floats, and absolute positioning](https://www.w3.org/TR/CSS2/visuren.html#comparison)\n \n \n [10.1 Definition of \"containing block\"](https://www.w3.org/TR/CSS2/visudet.html#containing-block-details)\n \n \n [10.3.7 Absolutely positioned, non-replaced elements](https://www.w3.org/TR/CSS2/visudet.html#abs-non-replaced-width)\n \n \n [10.3.8 Absolutely positioned, replaced elements](https://www.w3.org/TR/CSS2/visudet.html#abs-replaced-width)\n \n \n [10.6.4 Absolutely positioned, non-replaced elements](https://www.w3.org/TR/CSS2/visudet.html#abs-non-replaced-height)\n \n \n [10.6.5 Absolutely positioned replaced elements](https://www.w3.org/TR/CSS2/visudet.html#abs-replaced-height)\n \n \n\n \nIt also replaces and supersedes the inset* property definitions in [[CSS-LOGICAL-1]](#biblio-css-logical-1)\n ([CSS Logical Properties 1 § 4.3 Flow-relative Offsets: the inset-block-start, inset-block-end, inset-inline-start, inset-inline-end properties and inset-block, inset-inline, and inset shorthands](https://www.w3.org/TR/css-logical-1/#inset-properties)).\n\n 1.2. \nValue Definitions[](#values)\n \nThis specification follows the [CSS property definition conventions](https://www.w3.org/TR/CSS2/about.html#property-defs) from [[CSS2]](#biblio-css2)\n using the [value definition syntax](https://www.w3.org/TR/css-values-3/#value-defs) from [[CSS-VALUES-3]](#biblio-css-values-3).\n Value types not defined in this specification are defined in CSS Values & Units [CSS-VALUES-3].\n Combination with other CSS modules may expand the definitions of these value types.\n\n \nIn addition to the property-specific values listed in their definitions,\n all properties defined in this specification\n also accept the [CSS-wide keywords](https://www.w3.org/TR/css-values-4/#css-wide-keywords) as their property value.\n For readability they have not been repeated explicitly.",
      "rawLength": 5994
    },
    "position-property": {
      "id": "position-property",
      "heading": "2. \nChoosing A Positioning Scheme: position property",
      "content": "Name:\n **position**\n \n [Value:](https://www.w3.org/TR/css-values/#value-defs)\n static [|](https://www.w3.org/TR/css-values-4/#comb-one) relative | absolute | sticky | fixed \n \n [Initial:](https://www.w3.org/TR/css-cascade/#initial-values)\n static \n \n [Applies to:](https://www.w3.org/TR/css-cascade/#applies-to)\n all elements except table-column-group and table-column \n \n [Inherited:](https://www.w3.org/TR/css-cascade/#inherited-property)\n no \n \n [Percentages:](https://www.w3.org/TR/css-values/#percentages)\n N/A \n \n [Computed value:](https://www.w3.org/TR/css-cascade/#computed)\n specified keyword \n \n [Canonical order:](https://www.w3.org/TR/cssom/#serializing-css-values)\n per grammar \n \n [Animation type:](https://www.w3.org/TR/web-animations/#animation-type)\n discrete \n \n \nThe [position](#propdef-position) property determines which of the **positioning schemes**\n is used to calculate the position of a box.\n Values other than [static](#valdef-position-static) make the box a **positioned box**,\n and cause it to establish an **absolute positioning containing block** for its descendants.\n Values have the following meanings:\n\n \n **static**\n \n \n The box is not a [positioned box](#positioned-box),\n and is laid out according to the rules of its parent [formatting context](https://www.w3.org/TR/css-display-4/#formatting-context).\n The [inset properties](#inset-properties) do not apply.\n\n \n **relative**\n \n \n The box is laid out as for [static](#valdef-position-static),\n then offset from the resulting position.\n This offsetting is a purely visual effect,\n and, unless otherwise specified,\n does not affect the size or position of any other non-descendant box\n except insofar as it increases the [scrollable overflow area](https://www.w3.org/TR/css-overflow-3/#scrollable-overflow-region) of its ancestors.\n This [positioning scheme](#positioning-scheme) is called\n **relative positioning**.\n\n \n **sticky**\n \n \n Identical to [relative](#valdef-position-relative),\n except that its offsets are automatically adjusted\n in reference to the nearest ancestor [scroll container’s](https://www.w3.org/TR/css-overflow-3/#scroll-container) [scrollport](https://www.w3.org/TR/css-overflow-3/#scrollport)\n (as modified by the [inset properties](#inset-properties))\n in whichever axes the inset properties are not both [auto](#valdef-top-auto),\n to try to keep the box in view within its [containing block](https://www.w3.org/TR/css-display-4/#containing-block)\n as the user scrolls.\n This [positioning scheme](#positioning-scheme) is called\n **sticky positioning**.\n\n \n **absolute**\n \n \n \n The box is taken [out of flow](https://www.w3.org/TR/css-display-4/#out-of-flow)\n such that it has no impact on the size or position of its siblings and ancestors,\n and does not participate in its parent’s [formatting context](https://www.w3.org/TR/css-display-4/#formatting-context).\n\n \nInstead, the box is positioned and sized solely in reference to\n its [absolute positioning containing block](#absolute-positioning-containing-block),\n as modified by the box’s [inset properties](#inset-properties),\n see [§ 4 Absolute Positioning Layout Model](#abspos-layout).\n It can overlap [in-flow](https://www.w3.org/TR/css-display-4/#in-flow) content\n or other [absolutely positioned](#absolute-position) elements,\n and is included in the [scrollable overflow area](https://www.w3.org/TR/css-overflow-3/#scrollable-overflow-region)\n of the box that generates is [containing block](https://www.w3.org/TR/css-display-4/#containing-block).\n This [positioning scheme](#positioning-scheme) is called\n **absolute positioning**.\n\n **fixed**\n \n \n \n Same as [absolute](#valdef-position-absolute),\n except the box is positioned and sized relative to a [fixed positioning containing block](#fixed-positioning-containing-block)\n (usually the [viewport](https://www.w3.org/TR/CSS2/visuren.html#x1) in [continuous media](https://www.w3.org/TR/mediaqueries-5/#continuous-media), or the [page area](https://www.w3.org/TR/css-page-3/#page-area) in [paged media](https://www.w3.org/TR/mediaqueries-5/#paged-media)).\n The box’s position is fixed with respect to this reference rectangle:\n when attached to the viewport\n it does not move when the document is scrolled,\n and when attached to the page area\n is replicated on every page when the document is paginated.\n This [positioning scheme](#positioning-scheme) is called\n **fixed positioning**\n and is considered a subset of [absolute positioning](#absolute-position).\n\n \n \n [](#example-d41e8cfe)\n Authors may wish to specify [fixed](#valdef-position-fixed) in a media-dependent way.\n For instance, an author may want a box to remain at the top of the [viewport](https://www.w3.org/TR/CSS2/visuren.html#x1) on the screen,\n but not at the top of each printed page.\n The two specifications may be separated by using an ['@media'](https://www.w3.org/TR/CSS2/media.html#at-media-rule) rule, as in:\n\n \n\n```\n@media screen {\n h1#first { position: fixed }\n}\n@media print {\n h1#first { position: static }\n}\n\n```\n\n \n \n \nA [position](#propdef-position) value of [absolute](#valdef-position-absolute) or [fixed](#valdef-position-fixed)\n [blockifies](https://www.w3.org/TR/css-display-4/#blockify) the box,\n causes [float](https://www.w3.org/TR/CSS2/visuren.html#propdef-float) to compute to [none](https://drafts.csswg.org/css2/#valdef-float-none),\n and forces the box to [establish an independent formatting context](https://www.w3.org/TR/css-display-4/#establish-an-independent-formatting-context).\n\n 2.1. \nContaining Blocks of Positioned Boxes[](#def-cb)\n \nThe [containing block](https://www.w3.org/TR/css-display-4/#containing-block) of a [static](#valdef-position-static), [relative](#valdef-position-relative), or [sticky](#valdef-position-sticky) [box](https://www.w3.org/TR/css-display-4/#box)\n is as defined by its [formatting context](https://www.w3.org/TR/css-display-4/#formatting-context).\n For [fixed](#valdef-position-fixed) and [absolute](#valdef-position-absolute) boxes,\n it is defined as follows:\n\n \n [](#absolute-cb)If the box has [position: absolute](#propdef-position):\n \n \n \n The [containing block](https://www.w3.org/TR/css-display-4/#containing-block) is established\n by the nearest ancestor box that establishes an [absolute positioning containing block](#absolute-positioning-containing-block),\n in the following way:\n\n \n \n If the ancestor is not an [inline box](https://www.w3.org/TR/css-display-4/#inline-box),\n \n \n the [containing block](https://www.w3.org/TR/css-display-4/#containing-block) is formed by the [padding edge](https://www.w3.org/TR/css-box-4/#padding-edge) of the ancestor,\n unless otherwise specified\n (for example, see [CSS Grid Layout 1 § 9.1 With a Grid Container as Containing Block](https://www.w3.org/TR/css-grid-1/#abspos-items)).\n\n \n If the ancestor is an [inline box](https://www.w3.org/TR/css-display-4/#inline-box),\n using the [writing mode](https://www.w3.org/TR/css-writing-modes-4/#writing-mode) of that box,\n \n \n \n the [containing block](https://www.w3.org/TR/css-display-4/#containing-block) is formed by forming a rectangle from\n the [start](https://www.w3.org/TR/css-writing-modes-4/#start)-most [content edges](https://www.w3.org/TR/css-box-4/#content-edge) (in both axes) of the first [box fragment](https://www.w3.org/TR/css-break-4/#box-fragment) of the ancestor,\n and the [end](https://www.w3.org/TR/css-writing-modes-4/#end)-most content edges of the end-most box fragment(s) of the ancestor in each axis.\n If there are multiple fragments on the same line\n (e.g. due to [bidi reordering](https://www.w3.org/TR/css-writing-modes-3/#bidi-box-model)),\n take the start-most fragment\n as the first fragment.\n\n \n[](#issue-d9a49098) What is a useful containing block to form\n when the box is fragmented across multiple lines? [[Issue #8284]](https://github.com/w3c/csswg-drafts/issues/8284)\n\n \nNote: The [containing block](https://www.w3.org/TR/css-display-4/#containing-block) formed by a fragmented [inline box](https://www.w3.org/TR/css-display-4/#inline-box)\n was undefined in [[CSS2]](#biblio-css2).\n\n \n \nIf no ancestor establishes one,\n the [absolute positioning containing block](#absolute-positioning-containing-block) is\n the [initial containing block](https://www.w3.org/TR/css-display-4/#initial-containing-block).\n\n \nNote: Properties that can cause a box to establish\n an [absolute positioning containing block](#absolute-positioning-containing-block) include\n [position](#propdef-position), [transform](https://www.w3.org/TR/css-transforms-1/#propdef-transform), [will-change](https://www.w3.org/TR/css-will-change-1/#propdef-will-change), [contain](https://www.w3.org/TR/css-contain-2/#propdef-contain)…\n\n [](#fixed-cb)If the box has [position: fixed](#propdef-position):\n \n \n \n The [containing block](https://www.w3.org/TR/css-display-4/#containing-block) is established\n by the nearest ancestor box that establishes an **fixed positioning containing block**,\n with the bounds of the containing block\n determined identically to the [absolute positioning containing block](#absolute-positioning-containing-block).\n\n \nNote: Properties that can cause a box to establish\n a [fixed positioning containing block](#fixed-positioning-containing-block) include\n [transform](https://www.w3.org/TR/css-transforms-1/#propdef-transform), [will-change](https://www.w3.org/TR/css-will-change-1/#propdef-will-change), [contain](https://www.w3.org/TR/css-contain-2/#propdef-contain)…\n\n \nIf no ancestor establishes one,\n the box’s [fixed positioning containing block](#fixed-positioning-containing-block)\n is the **initial fixed containing block**:\n\n \n\n \n \nin [continuous media](https://www.w3.org/TR/mediaqueries-5/#continuous-media),\nthe [layout viewport](https://www.w3.org/TR/cssom-view-1/#layout-viewport)\n(whose size matches the [dynamic viewport size](https://www.w3.org/TR/css-values-4/#dynamic-viewport-size));\nas a result, [fixed](#fixed-position) boxes do not move when the document is scrolled.\n\n \nNote: In this respect, they are similar to\n[fixed background images](https://www.w3.org/TR/css-backgrounds-3/#background-attachment)\n([background-attachment: fixed](https://www.w3.org/TR/css-backgrounds-3/#propdef-background-attachment)).\n\n \n \nin [paged media](https://www.w3.org/TR/mediaqueries-5/#paged-media),\nthe [page area](https://www.w3.org/TR/css-page-3/#page-area) of each page;\n[fixed positioned](#fixed-position) [boxes](https://www.w3.org/TR/css-display-4/#box) are thus replicated on every page.\n(They are fixed with respect to the page box only,\nand are not affected by being seen through a [viewport](https://www.w3.org/TR/CSS2/visuren.html#x1);\nas in the case of print preview, for example.)\n\n \n\n \nNote: As a result, parts of [fixed-positioned boxes](#fixed-position)\n that extend outside the [layout viewport](https://www.w3.org/TR/cssom-view-1/#layout-viewport)/[page area](https://www.w3.org/TR/css-page-3/#page-area)\n cannot be scrolled to\n and will not print.\n\n \nThe [initial fixed containing block](#initial-fixed-containing-block)\n is the parent of the [initial containing block](https://www.w3.org/TR/css-display-4/#initial-containing-block)\n in the [containing block chain](https://www.w3.org/TR/css-display-4/#containing-block-chain).\n\n \n \n [](#example-7f074eae)\n\n \nWith no positioning, the containing blocks (C.B.) in the following document:\n\n```\n<!DOCTYPE html>\n<html>\n <head>\n <title>Illustration of containing blocks</title>\n </head>\n <body id=\"body\">\n <div id=\"div1\">\n <p id=\"p1\">This is text in the first paragraph...</p>\n <p id=\"p2\">This is text <em id=\"em1\"> in the\n <strong id=\"strong1\">second</strong> paragraph.</em></p>\n </div>\n </body>\n</html>\n\n```\n\n \nare established as follows:\n\n \n \n \n For box generated by \n C.B. is established by\n \n \n html\n initial C.B. (UA-dependent)\n \n \n body\n html\n \n \n div1\n body\n \n \n p1\n div1\n \n \n p2\n div1\n \n \n em1\n p2\n \n \n strong1\n p2\n \n \n \nIf we position \"div1\":\n\n```\n#div1 { position: absolute; left: 50px; top: 50px }\n\n```\n\n \nits containing block is no longer \"body\"; it becomes the initial containing block\n (since there are no other positioned ancestor boxes).\n\n \nIf we position \"em1\" as well:\n\n```\n#div1 { position: absolute; left: 50px; top: 50px }\n#em1 { position: absolute; left: 100px; top: 100px }\n\n```\n\n \nthe table of containing blocks becomes:\n\n \n \n \n For box generated by \n C.B. is established by\n \n \n html\n initial C.B. (UA-dependent)\n \n \n body\n html\n \n \n div1\n initial C.B.\n \n \n p1\n div1\n \n \n p2\n div1\n \n \n em1\n div1\n \n \n strong1\n em1\n \n \n \nBy positioning \"em1\", its containing block becomes the nearest positioned ancestor box\n (i.e., that generated by \"div1\").\n\n \n 2.1.1. \nFurther Adjustments to the Containing Block[](#original-cb)\n \nSome features can alter the effective [containing block](https://www.w3.org/TR/css-display-4/#containing-block) rectangle\n of [absolutely positioned](#absolute-position) boxes.\n These are applied in the following order,\n with earlier steps modifying the containing block\n that later steps see:\n\n \n\n \n \nThe [grid-placement properties](https://www.w3.org/TR/css-grid-2/#grid-placement-property)\non an [absolutely positioned box](#absolute-position)\nwhose [containing block](https://www.w3.org/TR/css-display-4/#containing-block) is generated by a [grid container](https://www.w3.org/TR/css-grid-2/#grid-container)\ncan change the containing block rectangle\nto a specified [grid area](https://www.w3.org/TR/css-grid-2/#grid-area).\nSee [CSS Grid Layout 1 § 9.1 With a Grid Container as Containing Block](https://www.w3.org/TR/css-grid-1/#abspos-items).\n\n \n \nThe [position-area](https://www.w3.org/TR/css-anchor-position-1/#propdef-position-area) and [position-try](https://www.w3.org/TR/css-anchor-position-1/#propdef-position-try) properties\ncan change the [containing block](https://www.w3.org/TR/css-display-4/#containing-block) rectangle\nto a specified area of an [position-area grid](https://www.w3.org/TR/css-anchor-position-1/#position-area-grid).\nSee [CSS Anchor Positioning § 3.1 The position-area Property](https://www.w3.org/TR/css-anchor-position-1/#position-area).\n\n \n\n \nThe element’s **original containing block**\n is its [containing block](https://www.w3.org/TR/css-display-4/#containing-block)\n before applying any of these effects.\n\n 2.2. \nPainting Order and Stacking Contexts[](#stacking)\n \nThe [z-index](https://www.w3.org/TR/CSS2/visuren.html#propdef-z-index) property applies to all [positioned boxes](#positioned-box).\n When z-index is [auto](https://drafts.csswg.org/css2/#valdef-z-index-auto):\n\n \n\n \n \n[Fixed](#fixed-position) and [sticky](#sticky-position) [positioned boxes](#positioned-box)\nnonetheless form a [stacking context](https://www.w3.org/TR/CSS2/visuren.html#x43).\n\n \n \n[Relative](#relative-position) and [absolute](#absolute-position) [positioned boxes](#positioned-box)\ndo not form a [stacking context](https://www.w3.org/TR/CSS2/visuren.html#x43),\nbut are painted as if those elements did generated new stacking contexts,\nexcept that their positioned descendants and any would-be child stacking contexts\ntake part in the current stacking context.\n\n \n\n \nNote: The [root element](https://www.w3.org/TR/css-display-4/#root-element) always forms a [stacking context](https://www.w3.org/TR/CSS2/visuren.html#x43) regardless.\n\n \nSee [CSS2 § 9.9\n Layered presentation](https://www.w3.org/TR/CSS2/visuren.html#layers)\n and [Appendix E: \n Elaborate description of Stacking Contexts](https://www.w3.org/TR/CSS2/zindex.html)\n for details about [z-index](https://www.w3.org/TR/CSS2/visuren.html#propdef-z-index), [stacking contexts](https://www.w3.org/TR/CSS2/visuren.html#x43), and painting order.",
      "rawLength": 31678
    },
    "coords": {
      "id": "coords",
      "heading": "3. \nPositioning Coordinates",
      "content": "The precise location of a [positioned box](#positioned-box) is controlled by\n the **inset properties**:\n the [physical](https://www.w3.org/TR/css-writing-modes-4/#physical) [inset properties](#inset-properties) [top](#propdef-top), [right](#propdef-right), [bottom](#propdef-bottom), [left](#propdef-left);\n the [flow-relative](https://www.w3.org/TR/css-writing-modes-4/#flow-relative) inset properties [inset-block-start](#propdef-inset-block-start), [inset-inline-start](#propdef-inset-inline-start), [inset-block-end](#propdef-inset-block-end), and [inset-inline-end](#propdef-inset-inline-end);\n and their [shorthands](https://www.w3.org/TR/css-cascade-5/#shorthand-property), [inset-block](#propdef-inset-block), [inset-inline](#propdef-inset-inline), and [inset](#propdef-inset).\n\n \nThe interpretation of these [inset properties](#inset-properties) varies by [positioning scheme](#positioning-scheme):\n\n \n\n \n \nfor [absolute positioning](#absolute-position), they represent\ninsets from the containing block.\n\n \n \nfor [relative positioning](#relative-position), they represent\ninsets from the box’s original margin edge.\n\n \n \nfor [sticky positioning](#sticky-position), they represent\ninsets from the [scrollport](https://www.w3.org/TR/css-overflow-3/#scrollport) edge.\n\n \n\n 3.1. \nBox Insets: the [top](#propdef-top), [right](#propdef-right), [bottom](#propdef-bottom), [left](#propdef-left), [inset-block-start](#propdef-inset-block-start), [inset-inline-start](#propdef-inset-inline-start), [inset-block-end](#propdef-inset-block-end), and [inset-inline-end](#propdef-inset-inline-end) properties [](#insets)\n \n \n \n Name:\n **top**, **right**, **bottom**, **left**, **inset-block-start**, **inset-inline-start**, **inset-block-end**, **inset-inline-end**\n \n [Value:](https://www.w3.org/TR/css-values/#value-defs)\n auto [|](https://www.w3.org/TR/css-values-4/#comb-one) [<length-percentage>](https://www.w3.org/TR/css-values-4/#typedef-length-percentage) \n \n [Initial:](https://www.w3.org/TR/css-cascade/#initial-values)\n auto \n \n [Applies to:](https://www.w3.org/TR/css-cascade/#applies-to)\n positioned elements \n \n [Inherited:](https://www.w3.org/TR/css-cascade/#inherited-property)\n no \n \n [Percentages:](https://www.w3.org/TR/css-values/#percentages)\n refer to size of [containing block](https://www.w3.org/TR/css-display-4/#containing-block); see prose \n \n [Computed value:](https://www.w3.org/TR/css-cascade/#computed)\n the keyword [auto](#valdef-top-auto) or a computed [<length-percentage>](https://www.w3.org/TR/css-values-4/#typedef-length-percentage) value \n \n [Canonical order:](https://www.w3.org/TR/cssom/#serializing-css-values)\n per grammar \n \n [Animation type:](https://www.w3.org/TR/web-animations/#animation-type)\n by computed value type \n \n [Logical property group:](https://drafts.csswg.org/css-logical-1/#logical-property-group)\n [inset](#propdef-inset) \n \n \nThese [inset properties](#inset-properties) represent an inward “inset”\n on the corresponding side of the box\n (with respect to the box’s own [writing mode](https://www.w3.org/TR/css-writing-modes-4/#writing-mode);\n see [CSS Writing Modes 3 § 6 Abstract Box Terminology](https://www.w3.org/TR/css-writing-modes-3/#abstract-box)).\n For example, [top](#propdef-top) represents a downward inset of the top edge.\n The [physical](https://www.w3.org/TR/css-writing-modes-4/#physical) and [flow-relative](https://www.w3.org/TR/css-writing-modes-4/#flow-relative) properties\n interact as defined in [[CSS-LOGICAL-1]](#biblio-css-logical-1).\n Values have the following meanings:\n\n \n **<length>**\n \n \n The inset is a fixed distance from the reference edge.\n Negative values are allowed.\n\n \n **<percentage>**\n \n \n The inset is a percentage\n relative to the [containing block](https://www.w3.org/TR/css-display-4/#containing-block)’s size\n in the corresponding axis\n (e.g. width for [left](#propdef-left) or [right](#propdef-right), height for [top](#propdef-top) and [bottom](#propdef-bottom)).\n For [sticky positioned](#sticky-position) boxes,\n the inset is instead\n relative to the relevant [scrollport](https://www.w3.org/TR/css-overflow-3/#scrollport)’s size.\n Negative values are allowed.\n\n \n **auto**\n \n Represents an unconstrained inset;\n the exact meaning depends on the [positioning scheme](#positioning-scheme).\n \n \n \nNote: For [fixed positioned](#fixed-position) elements,\n using large values or negative values\n can easily move elements outside the [viewport](https://www.w3.org/TR/CSS2/visuren.html#x1)\n and make the contents unreachable through scrolling or other means.\n\n 3.2. \nBox Insets Shorthands: the [inset-block](#propdef-inset-block), [inset-inline](#propdef-inset-inline), and [inset](#propdef-inset) properties[](#inset-shorthands)\n \n \n \n Name:\n **inset-block**, **inset-inline**\n \n [Value:](https://www.w3.org/TR/css-values/#value-defs)\n [<'top'>](#propdef-top)[{1,2}](https://www.w3.org/TR/css-values-4/#mult-num-range) \n \n [Initial:](https://www.w3.org/TR/css-cascade/#initial-values)\n auto \n \n [Applies to:](https://www.w3.org/TR/css-cascade/#applies-to)\n positioned elements \n \n [Inherited:](https://www.w3.org/TR/css-cascade/#inherited-property)\n no \n \n [Percentages:](https://www.w3.org/TR/css-values/#percentages)\n see individual properties \n \n [Computed value:](https://www.w3.org/TR/css-cascade/#computed)\n see individual properties \n \n [Canonical order:](https://www.w3.org/TR/cssom/#serializing-css-values)\n per grammar \n \n [Animation type:](https://www.w3.org/TR/web-animations/#animation-type)\n by computed value type \n \n \nThe [inset-block](#propdef-inset-block) and [inset-inline](#propdef-inset-inline) properties are [shorthand properties](https://www.w3.org/TR/css-cascade-5/#shorthand-property)\n for setting [inset-block-start](#propdef-inset-block-start) + [inset-block-end](#propdef-inset-block-end)\n or [inset-inline-start](#propdef-inset-inline-start) + [inset-inline-end](#propdef-inset-inline-end),\n respectively,\n in a single declaration.\n The first component value sets the [start](https://www.w3.org/TR/css-writing-modes-4/#start) side,\n the second sets the [end](https://www.w3.org/TR/css-writing-modes-4/#end);\n if omitted, the second value defaults to the first.\n\n \n \n \n Name:\n **inset**\n \n [Value:](https://www.w3.org/TR/css-values/#value-defs)\n [<'top'>](#propdef-top)[{1,4}](https://www.w3.org/TR/css-values-4/#mult-num-range) \n \n [Initial:](https://www.w3.org/TR/css-cascade/#initial-values)\n auto \n \n [Applies to:](https://www.w3.org/TR/css-cascade/#applies-to)\n positioned elements \n \n [Inherited:](https://www.w3.org/TR/css-cascade/#inherited-property)\n no \n \n [Percentages:](https://www.w3.org/TR/css-values/#percentages)\n see individual properties \n \n [Computed value:](https://www.w3.org/TR/css-cascade/#computed)\n see individual properties \n \n [Canonical order:](https://www.w3.org/TR/cssom/#serializing-css-values)\n per grammar \n \n [Animation type:](https://www.w3.org/TR/web-animations/#animation-type)\n by computed value type \n \n \nThe [inset](#propdef-inset) property is a [shorthand property](https://www.w3.org/TR/css-cascade-5/#shorthand-property)\n that sets all of the [inset properties](#inset-properties)\n in a single declaration,\n assigning values to the longhands representing each side\n exactly as the [margin](https://www.w3.org/TR/css-box-4/#propdef-margin) property does for its longhands.\n\n \n \nBy default, the [inset](#propdef-inset) property values\n are assigned to the corresponding [physical](https://www.w3.org/TR/css-writing-modes-4/#physical) [longhand properties](https://www.w3.org/TR/css-cascade-5/#longhand)—​[top](#propdef-top), [right](#propdef-right), [bottom](#propdef-bottom), and [left](#propdef-left)—​which for historical reasons do not have an inset- prefix.\n This matches the behavior of other \"4 values assigned to sides\" properties,\n such as [margin](https://www.w3.org/TR/css-box-4/#propdef-margin).\n\n \nAllowing properties such as this to resolve to the [flow-relative](https://www.w3.org/TR/css-writing-modes-4/#flow-relative) [longhands](https://www.w3.org/TR/css-cascade-5/#longhand) is under discussion in [[CSS-LOGICAL-1]](#biblio-css-logical-1).\n\n \nYes, we understand it’s a little confusing\n that [inset](#propdef-inset) doesn’t expand to any inset-* properties.\n\n \n 3.3. \nRelative Positioning[](#relpos-insets)\n \nFor a [relatively positioned](#relative-position) box,\n the [inset properties](#inset-properties) move the box inward\n from the respective edge,\n without changing its size.\n [left](#propdef-left) moves the box to the right, [right](#propdef-right) moves it to the left, etc.\n Since boxes are not split or stretched as a result of relative positioning\n opposing [used values](https://www.w3.org/TR/css-cascade-5/#used-value) in a given axis must be negations of each other:\n\n \n\n \n If opposing [inset properties](#inset-properties) in an axis both compute to [auto](#valdef-top-auto)\n (their [initial values](https://www.w3.org/TR/css-cascade-5/#initial-value)),\n their [used values](https://www.w3.org/TR/css-cascade-5/#used-value) are zero\n (i.e., the boxes stay in their original position in that axis).\n\n \n \n If only one is [auto](#valdef-top-auto),\n its [used value](https://www.w3.org/TR/css-cascade-5/#used-value) becomes the negation of the other,\n and the box is shifted by the specified amount.\n\n \n \n If neither is [auto](#valdef-top-auto),\n the position is over-constrained;\n (with respect to the [writing mode](https://www.w3.org/TR/css-writing-modes-4/#writing-mode) of its [containing block](https://www.w3.org/TR/css-display-4/#containing-block))\n the [computed](https://www.w3.org/TR/css-cascade-5/#computed-value) [end](https://www.w3.org/TR/css-writing-modes-4/#end) side value is ignored,\n and its [used value](https://www.w3.org/TR/css-cascade-5/#used-value) becomes the negation of the [start](https://www.w3.org/TR/css-writing-modes-4/#start) side.\n \n \n\n \n [](#example-bf44fe11)\n\n \nThe following three rules are equivalent,\n and shift the box 1em to the left:\n\n```\ndiv.a8 { position: relative; direction: ltr; left: -1em; right: auto }\ndiv.a8 { position: relative; direction: ltr; left: auto; right: 1em }\ndiv.a8 { position: relative; direction: ltr; left: -1em; right: 5em }\n\n```\n\n \n \nIf specified on\n a [table-row-group](https://www.w3.org/TR/css-display-4/#valdef-display-table-row-group), [table-header-group](https://www.w3.org/TR/css-display-4/#valdef-display-table-header-group), [table-footer-group](https://www.w3.org/TR/css-display-4/#valdef-display-table-footer-group), or [table-row](https://www.w3.org/TR/css-display-4/#valdef-display-table-row) [box](https://www.w3.org/TR/css-display-4/#box)\n the shift affects all the contents of the box,\n including all [table cells](https://www.w3.org/TR/css-display-4/#valdef-display-table-cell) that originate in the affected row,\n but not those that don’t.\n\n \nNote: Since [position](#propdef-position) does not apply to [table-column-group](https://www.w3.org/TR/css-display-4/#valdef-display-table-column-group) or [table-column](https://www.w3.org/TR/css-display-4/#valdef-display-table-column) boxes,\n they are not affected by [relative positioning](#relative-position).\n\n 3.4. \nSticky positioning[](#stickypos-insets)\n \n[Sticky positioning](#sticky-position) is similar to [relative positioning](#relative-position)\n except the offsets are automatically calculated\n in reference to the [nearest scrollport](https://www.w3.org/TR/css-overflow-3/#nearest-scrollport).\n\n \nFor a [sticky positioned](#sticky-position) [box](https://www.w3.org/TR/css-display-4/#box),\n the [inset properties](#inset-properties)\n represent insets from the respective edges of the [nearest scrollport](https://www.w3.org/TR/css-overflow-3/#nearest-scrollport),\n defining the **sticky view rectangle**\n used to constrain the box’s position.\n (For this purpose an [auto](#valdef-top-auto) value represents a zero inset.)\n If this results in a [sticky view rectangle](#sticky-view-rectangle) size in any axis\n less than the size of the [border box](https://www.w3.org/TR/css-box-4/#border-box) of the sticky box in that axis,\n then the effective [end](https://www.w3.org/TR/css-writing-modes-4/#end)-edge inset in the affected axis is reduced\n (possibly becoming negative)\n to bring the sticky view rectangle’s size up to\n the size of the border box in that axis\n (where end is interpreted relative to the [writing mode](https://www.w3.org/TR/css-writing-modes-4/#writing-mode) of the [containing block](https://www.w3.org/TR/css-display-4/#containing-block)).\n\n \n [](#example-1c9f6a33)\n For example,\n if the [nearest scrollport](https://www.w3.org/TR/css-overflow-3/#nearest-scrollport) is 300px tall,\n the [sticky](#sticky-position) box’s [border box](https://www.w3.org/TR/css-box-4/#border-box) is 200px tall,\n and it has [top: 20px](#propdef-top),\n then the top-edge inset of the nearest scrollport is 20px,\n and the bottom-edge inset is 0px,\n yielding a [sticky view rectangle](#sticky-view-rectangle) that is 280px tall.\n\n \nBut if the [nearest scrollport](https://www.w3.org/TR/css-overflow-3/#nearest-scrollport) were only 100px tall,\n then the effective bottom-edge inset becomes -120px,\n resulting in a [sticky view rectangle](#sticky-view-rectangle) that’s 200px tall,\n enough to fully contain the [margin box](https://www.w3.org/TR/css-box-4/#margin-box) of the [sticky](#sticky-position) box.\n\n \n \nFor each side of the box,\n if the corresponding [inset property](#inset-properties) is not [auto](#valdef-top-auto),\n and the corresponding [border edge](https://www.w3.org/TR/css-box-4/#border-edge) of the box would be outside\n the corresponding edge of the [sticky view rectangle](#sticky-view-rectangle),\n then the box must be visually shifted\n ([as for relative positioning](#relpos-insets))\n to be inward of that sticky view rectangle edge,\n insofar as it can while its [position box](#position-box)\n remains contained within its [containing block](https://www.w3.org/TR/css-display-4/#containing-block).\n The **position box** is its [margin box](https://www.w3.org/TR/css-box-4/#margin-box),\n except that for any side for which the distance between its [margin edge](https://www.w3.org/TR/css-box-4/#margin-edge)\n and the corresponding edge of its containing block\n is less than its corresponding [margin](https://www.w3.org/TR/css-box-4/#margin),\n that distance is used in place of that margin.\n\n \nNote: A sticky positioned element with\n a non-[auto](#valdef-top-auto) [top](#propdef-top) value and an auto [bottom](#propdef-bottom) value\n will only ever be pushed down by sticky positioning;\n it will never be offset upwards.\n\n \nNote: Multiple [sticky positioned](#sticky-position) boxes in the same container\n are offset independently,\n and therefore might overlap.\n\n 3.4.1. \nScroll Position of Sticky-Positioned Boxes[](#stickypos-scroll)\n \nFor the purposes of any operation targeting the scroll position\n of a sticky positioned element (or one of its descendants),\n the sticky positioned element must be considered to be\n at its offsetted position.\n\n [](#example-d3878f82)\n For example, if a user clicks a link targeting a [sticky-positioned](#sticky-position) element,\n if the element’s [nearest scrollport](https://www.w3.org/TR/css-overflow-3/#nearest-scrollport) is currently scrolled\n such that the sticky positioned element is offset from its initial position,\n the [scroll container](https://www.w3.org/TR/css-overflow-3/#scroll-container) will be scrolled back\n only the minimum necessary to bring it into its desired position in the [scrollport](https://www.w3.org/TR/css-overflow-3/#scrollport)\n (rather than scrolling all the way back\n to target its original, non-offsetted position).\n \n 3.5. \nAbsolute (and Fixed) Positioning[](#abspos-insets)\n \nFor an [absolutely positioned](#absolute-position) box,\n the [inset properties](#inset-properties) effectively reduce the [containing block](https://www.w3.org/TR/css-display-4/#containing-block)\n into which it is sized and positioned\n by the specified amounts.\n The resulting rectangle is called the **inset-modified containing block**.\n (For disambiguation, the actual containing block of an absolutely positioned box\n can also be called the **absolute-position containing block**.)\n\n 3.5.1. \nResolvings Insets for the “Inset-Modified Containing Block”[](#resolving-insets)\n \nIf only one [inset property](#inset-properties) in a given axis is [auto](#valdef-top-auto),\n it is set to zero.\n If both inset properties in a given axis are auto, then,\n depending on the box’s [self-alignment property](https://www.w3.org/TR/css-align-3/#self-alignment-properties) in the relevant axis:\n\n \n for [self-start](https://www.w3.org/TR/css-align-3/#valdef-self-position-self-start) alignment or its equivalent\n \n \n Set its start-edge [inset property](#inset-properties) to the [static position](#static-position),\n and its end-edge inset property to zero.\n\n \n for [self-end](https://www.w3.org/TR/css-align-3/#valdef-self-position-self-end) alignment or its equivalent\n \n \n Set its end-edge [inset property](#inset-properties) to the [static position](#static-position),\n and its start-edge inset property to zero.\n\n \n for [center](https://www.w3.org/TR/css-align-3/#valdef-self-position-center) alignment\n \n \n Let start distance be the distance from\n the center of its [static-position rectangle](#static-position-rectangle)\n to the start edge of its [containing block](https://www.w3.org/TR/css-display-4/#containing-block),\n and end distance be the distance from\n the center of its static-position rectangle\n to the end edge of its containing block.\n If start distance is less than or equal to end distance,\n then set the start-edge [inset property](#inset-properties) to zero,\n and set the end-edge inset property to\n (containing block size - 2 × |start distance|);\n otherwise,\n set the end-edge inset property to zero\n and the start-edge inset property to\n (containing block size - 2 × |end distance|).\n \n \n \nFor the rules above,\n ignore [overflow alignment](https://www.w3.org/TR/css-align-3/#overflow-alignment),\n and treat [normal](https://www.w3.org/TR/css-align-3/#valdef-align-self-normal) as [start](https://www.w3.org/TR/css-align-3/#valdef-self-position-start)\n and any [baseline](https://www.w3.org/TR/css-align-3/#baseline-alignment) or [stretch](https://www.w3.org/TR/css-align-3/#valdef-align-self-stretch) alignment value\n as its fallback alignment.\n\n \nIf these adjustments result in\n an effective [containing block](https://www.w3.org/TR/css-display-4/#containing-block) size in any axis less than zero,\n then the [weaker inset](#weaker-inset) in the affected axis\n is reduced (possibly becoming negative)\n to bring that size up to zero.\n In the case that only one inset is [auto](#valdef-top-auto),\n that is the **weaker inset**\n (whose opposite inset is the **stronger inset**);\n otherwise the weaker inset is the inset of the [end](https://www.w3.org/TR/css-writing-modes-4/#end) edge\n (where end is interpreted relative to the [writing mode](https://www.w3.org/TR/css-writing-modes-4/#writing-mode) of the containing block).\n\n \nNote: Sizing and positioning of the [absolutely positioned box](#absolute-position)\n into this [inset-modified containing block](#inset-modified-containing-block)\n is as described in [§ 4 Absolute Positioning Layout Model](#abspos-layout).\n\n \nIf its [self-alignment property](https://www.w3.org/TR/css-align-3/#self-alignment-properties) in an axis is [normal](https://www.w3.org/TR/css-align-3/#valdef-align-self-normal),\n then the [resolved value](https://www.w3.org/TR/cssom-1/#resolved-value) of its [weaker inset](#weaker-inset) in that axis\n is the value necessary to match that edge of its [inset-modified containing block](#inset-modified-containing-block)\n to the corresponding edge of its [margin box](https://www.w3.org/TR/css-box-4/#margin-box)\n after [layout](#abspos-layout).\n (Otherwise the resolved value is the [used value](https://www.w3.org/TR/css-cascade-5/#used-value) described above.)\n\n 3.5.2. \nCalculating the Static Position and the “Static-Position Rectangle”[](#staticpos-rect)\n \nWhen both [inset properties](#inset-properties) in a given axis are [auto](#valdef-top-auto),\n they are resolved into a **static position**\n by aligning the box into its **static-position rectangle**,\n an [alignment container](https://www.w3.org/TR/css-align-3/#alignment-container) derived\n from the [formatting context](https://www.w3.org/TR/css-display-4/#formatting-context) the box would have participated in\n if it were [position: static](#propdef-position)\n (independent of its actual containing block).\n The [static position](#static-position) represents\n an approximation of the position the box would have had\n if it were position: static.\n\n \n Block Layout\n \n \n \n The [static positions](#static-position) of a [block-level box](https://www.w3.org/TR/css-display-4/#block-level-box)\n are defined in [[CSS2]](#biblio-css2) Chapter 10.\n The [static-position rectangle](#static-position-rectangle) is a zero-thickness rectangle spanning between\n the inline-axis sides of the box’s [static-position containing block](#static-position-containing-block)\n and positioned at its [block-start](https://www.w3.org/TR/css-writing-modes-4/#block-start) static position\n (see [CSS2§10.6.4](https://www.w3.org/TR/CSS2/visudet.html#abs-non-replaced-height)).\n\n \nNote: In block layout the [static-position rectangle](#static-position-rectangle) corresponds to the position of the “hypothetical box”\n described in [CSS2.1§10.3.7](https://www.w3.org/TR/CSS2/visudet.html#abs-non-replaced-width).\n Since it has no alignment properties,\n CSS2.1 always uses a [block-start](https://www.w3.org/TR/css-writing-modes-4/#block-start) [inline-start](https://www.w3.org/TR/css-writing-modes-4/#inline-start) alignment\n of the absolutely-positioned box within the static-position rectangle.\n\n Inline Layout\n \n \n The [static positions](#static-position) of an [inline-level box](https://www.w3.org/TR/css-display-4/#inline-level-box)\n are defined in [[CSS2]](#biblio-css2) Chapter 10.\n The [static-position rectangle](#static-position-rectangle) is a zero-thickness rectangle spanning between\n the [line-over](https://www.w3.org/TR/css-writing-modes-4/#line-over)/[line-under](https://www.w3.org/TR/css-writing-modes-4/#line-under) sides of the [line box](https://www.w3.org/TR/css-inline-3/#line-box)\n that would have contained its “hypothetical box”\n (see [CSS2§10.3.7](https://www.w3.org/TR/CSS2/visudet.html#abs-non-replaced-width));\n and positioned at its [inline-start](https://www.w3.org/TR/css-writing-modes-4/#inline-start) static position.\n\n \n Flex Layout\n \n \n The [static-position rectangle](#static-position-rectangle) of the child of a [flex container](https://www.w3.org/TR/css-flexbox-1/#flex-container)\n corresponds to the [content edges](https://www.w3.org/TR/css-box-4/#content-edge) of the flex container in the [cross axis](https://www.w3.org/TR/css-flexbox-1/#cross-axis),\n and to the [outer edges](https://www.w3.org/TR/css-box-4/#outer-edge) of its hypothetical position in the [main axis](https://www.w3.org/TR/css-flexbox-1/#main-axis).\n See [static position of a flex container child](https://www.w3.org/TR/css-flexbox-1/#abspos-items) in [[CSS-FLEXBOX-1]](#biblio-css-flexbox-1).\n\n \n Grid Layout\n \n \n By default, the [static-position rectangle](#static-position-rectangle) of the child of a [grid container](https://www.w3.org/TR/css-grid-2/#grid-container)\n corresponds to the [content edges](https://www.w3.org/TR/css-box-4/#content-edge) of the grid container.\n However, if that grid container also establishes\n the box’s actual [containing block](https://www.w3.org/TR/css-display-4/#containing-block),\n then the [grid area](https://www.w3.org/TR/css-grid-2/#grid-area) specified by the [grid-placement properties](https://www.w3.org/TR/css-grid-2/#grid-placement-property)\n establishes its static-position rectangle instead.\n See the [static position of a grid container child](https://www.w3.org/TR/css-grid-1/#static-position) in [[CSS-GRID-1]](#biblio-css-grid-1).\n \n \n \nFinding the [static position](#static-position) and the [static-position rectangle](#static-position-rectangle)\n assumes that both [float](https://www.w3.org/TR/CSS2/visuren.html#propdef-float) and [clear](https://www.w3.org/TR/CSS2/visuren.html#propdef-clear) (as well as [position](#propdef-position))\n have their [initial values](https://www.w3.org/TR/css-cascade-5/#initial-value),\n and can consequently require assuming a different hypothetical value\n for [display](https://www.w3.org/TR/css-display-4/#propdef-display) as well.\n (The [containing block](https://www.w3.org/TR/css-display-4/#containing-block) the element would have had under these conditions\n is the **static-position containing block**.)\n To the extent the [box alignment properties](https://www.w3.org/TR/css-align-3/#box-alignment-properties) have an effect,\n they use the [static-position containing block](#static-position-containing-block)\n as the effective containing block,\n including using its [writing mode](https://www.w3.org/TR/css-writing-modes-4/#writing-mode) for resolving alignment axes and directions.\n Additionally, the containing block of [fixed positioned](#fixed-position) elements\n is assumed to be the [initial containing block](https://www.w3.org/TR/css-display-4/#initial-containing-block) instead of the [viewport](https://www.w3.org/TR/CSS2/visuren.html#x1),\n and all [scroll containers](https://www.w3.org/TR/css-overflow-3/#scroll-container) should be assumed\n to be scrolled to their [initial scroll position](https://www.w3.org/TR/css-overflow-3/#initial-scroll-position).\n Lastly, all auto margins on the box itself\n are treated as zero.\n\n \nBoxes in the [top layer](https://www.w3.org/TR/css-position-4/#document-top-layer) always use the [initial containing block](https://www.w3.org/TR/css-display-4/#initial-containing-block)\n as their [static-position rectangle](#static-position-rectangle).\n\n 3.5.3. \nFragmenting Absolutely-positioned Elements[](#abspos-breaking)\n \nIn a [fragmented flow](https://www.w3.org/TR/css-break-4/#fragmented-flow), an [absolutely positioned box](#absolute-position)\n is positioned relative to its [containing block](https://www.w3.org/TR/css-display-4/#containing-block)\n ignoring any [fragmentation breaks](https://www.w3.org/TR/css-break-4/#fragmentation-break)\n (as if the flow were continuous).\n The box may subsequently be broken over several [fragmentation containers](https://www.w3.org/TR/css-break-4/#fragmentation-container).\n\n \nFor absolutely positioned content in [paged media](https://www.w3.org/TR/mediaqueries-5/#paged-media)\n that resolves to a position on a page\n other than the page being laid out (the current page),\n or resolves to a position on the current page\n that has already been rendered for printing,\n printers may place the content:\n\n \n\n on the current page,\n \n on a subsequent page, or\n \n may omit it altogether.\n \n \n\n \nNote: A [block-level](https://www.w3.org/TR/css-display-4/#block-level) element that is split over several pages\n can have a different width on each page,\n and there may be device-specific limits.\n\n \nUser agents must not paginate the content of [fixed-positioned boxes](#fixed-position).\n\n \nNote: User agents might print invisible content in other ways.\n See [CSS Paged Media 3 § 3.2 Content outside the page box](https://www.w3.org/TR/css-page-3/#content-outside-box).",
      "rawLength": 54900
    },
    "abspos-layout": {
      "id": "abspos-layout",
      "heading": "4. \nAbsolute Positioning Layout Model",
      "content": "[Absolute positioning](#absolute-position) not only takes a box [out of flow](https://www.w3.org/TR/css-display-4/#out-of-flow),\n but also lays it out in its [containing block](https://www.w3.org/TR/css-display-4/#containing-block)\n (after the final size of the containing block has been determined)\n according to the **absolute positioning layout model**:\n\n \n\n \n \n First, its [inset-modified containing block](#inset-modified-containing-block) is calculated,\n defining its [available space](https://www.w3.org/TR/css-sizing-3/#available).\n (See [§ 3.5 Absolute (and Fixed) Positioning](#abspos-insets).)\n\n \nBecause an [absolutely positioned box](#absolute-position) does not affect the size of its [containing block](https://www.w3.org/TR/css-display-4/#containing-block),\n its [available space](https://www.w3.org/TR/css-sizing-3/#available) is always [definite](https://www.w3.org/TR/css-sizing-3/#definite).\n\n \n Next, its width and height are resolved against this [definite](https://www.w3.org/TR/css-sizing-3/#definite) [available space](https://www.w3.org/TR/css-sizing-3/#available),\n as its [preferred size](https://www.w3.org/TR/css-sizing-3/#preferred-size) capped by its [maximum size](https://www.w3.org/TR/css-sizing-3/#max-width) (if any), floored by its [minimum size](https://www.w3.org/TR/css-sizing-3/#min-width).\n See [§ 4.1 Automatic Sizes of Absolutely-Positioned Boxes](#abspos-auto-size).\n Percentages, however,\n are resolved against the original [containing block](https://www.w3.org/TR/css-display-4/#containing-block) size.\n\n \n \n Then, the value of any auto margins are calculated,\n see [§ 4.2 Auto Margins of Absolutely-Positioned Boxes](#abspos-margins).\n\n \n \n Lastly, its [margin box](https://www.w3.org/TR/css-box-4/#margin-box) is aligned within the [inset-modified containing block](#inset-modified-containing-block),\n see [§ 5 Self-Alignment of Absolutely Positioned Boxes](#abspos-alignment).\n \n \n\n 4.1. \nAutomatic Sizes of Absolutely-Positioned Boxes[](#abspos-auto-size)\n \nThe [automatic size](https://www.w3.org/TR/css-sizing-3/#automatic-size) of an [absolutely positioned box](#absolute-position)\n is resolved against its [inset-modified containing block](#inset-modified-containing-block) as follows:\n\n \n If its [self-alignment property](https://www.w3.org/TR/css-align-3/#self-alignment-properties) in the relevant axis is [stretch](https://www.w3.org/TR/css-align-3/#valdef-align-self-stretch)\nand neither of its [inset properties](#inset-properties) nor [margins](https://www.w3.org/TR/css-box-4/#margin) in that axis are auto\n Or if it is [normal](https://www.w3.org/TR/css-align-3/#valdef-align-self-normal)\nand the box is [non-replaced](https://www.w3.org/TR/css-display-4/#non-replaced),\nnot a [table wrapper box](https://www.w3.org/TR/css-tables-3/#table-wrapper-box),\nand has no [auto](#valdef-top-auto) [inset](#inset-properties) in the relevant axis\n \n \nIts [automatic size](https://www.w3.org/TR/css-sizing-3/#automatic-size) is its [stretch-fit size](https://www.w3.org/TR/css-sizing-3/#stretch-fit-size).\n\n Otherwise\n \n \nIts [automatic size](https://www.w3.org/TR/css-sizing-3/#automatic-size) is its [fit-content size](https://www.w3.org/TR/css-sizing-3/#fit-content-size).\n\n \n \nHowever, if the box has an aspect-ratio,\n then an [automatic size](https://www.w3.org/TR/css-sizing-3/#automatic-size) in the [ratio-dependent axis](https://www.w3.org/TR/css-sizing-4/#ratio-dependent-axis)\n is instead resolved as a [max-content size](https://www.w3.org/TR/css-sizing-3/#max-content).\n When both axes have an automatic size,\n if only one axis has an [auto](#valdef-top-auto) [inset](#inset-properties)\n then that axis is the ratio-dependent axis,\n else the [block axis](https://www.w3.org/TR/css-writing-modes-4/#block-axis) is the ratio-dependent axis.\n An automatic size in the [ratio-determining axis](https://www.w3.org/TR/css-sizing-4/#ratio-determining-axis)\n is determined as above.\n\n \nFor the purpose of computing these sizes,\n any auto [margins](https://www.w3.org/TR/css-box-4/#margin) are treated as zero.\n\n \nThe [automatic minimum size](https://www.w3.org/TR/css-sizing-3/#automatic-minimum-size) of an absolutely-positioned box is always zero.\n\n \nNote: To the extent that form controls can be resized\n (and are not directly representing [replaced elements](https://www.w3.org/TR/css-display-4/#replaced-element) such as images),\n they are expected to be treated as [non-replaced](https://www.w3.org/TR/css-display-4/#non-replaced) here.\n In HTML, all form controls\n other than `<input type=image>`\n are treated as non-replaced.\n\n 4.2. \nAuto Margins of Absolutely-Positioned Boxes[](#abspos-margins)\n \nIf either [inset property](#inset-properties) in the relevant axis is [auto](#valdef-top-auto),\n then any auto [margins](https://www.w3.org/TR/css-box-4/#margin) resolve to zero.\n\n \nOtherwise, the remaining space is calculated\n as the size of its [inset-modified containing block](#inset-modified-containing-block) in the relevant axis\n minus the box’s used size in the relevant axis,\n and this remaining space is divided among\n any auto margins in the relevant axis.\n However,\n (all with respect to the [writing mode](https://www.w3.org/TR/css-writing-modes-4/#writing-mode) of the [containing block](https://www.w3.org/TR/css-display-4/#containing-block)),\n if in the [inline axis](https://www.w3.org/TR/css-writing-modes-4/#inline-axis)\n the remaining space is negative\n and both margins are auto,\n the [start](https://www.w3.org/TR/css-writing-modes-4/#inline-start) margin resolves to zero\n and the [end](https://www.w3.org/TR/css-writing-modes-4/#inline-end) margin receives the remaining space.\n\n \nNote: Unlike typical [in-flow](https://www.w3.org/TR/css-display-4/#in-flow) layout,\n the space distributed to auto [margins](https://www.w3.org/TR/css-box-4/#margin)\n can be negative in [absolute positioning](#absolute-position).\n\n \n[](#issue-f171bef8) What should happen in “negatively-sized” containing blocks?\n CSS2.1 and this draft currently conflict. [[Issue #11478]](https://github.com/w3c/csswg-drafts/issues/11478)",
      "rawLength": 11118
    },
    "abspos-alignment": {
      "id": "abspos-alignment",
      "heading": "5. \nSelf-Alignment of Absolutely Positioned Boxes",
      "content": "If the [computed value](https://www.w3.org/TR/css-cascade-5/#computed-value) of either [inset property](#inset-properties) in an axis is [auto](#valdef-top-auto),\n then its [margin box](https://www.w3.org/TR/css-box-4/#margin-box) is aligned to the edge of the [inset-modified containing block](#inset-modified-containing-block)\n corresponding to its [stronger inset](#stronger-inset)\n (even if this would overflow its [containing block](https://www.w3.org/TR/css-display-4/#containing-block)).\n\n \nOtherwise, if either [margin](https://www.w3.org/TR/css-box-4/#margin) is auto,\n its position is resolved according to [§ 4.2 Auto Margins of Absolutely-Positioned Boxes](#abspos-margins).\n\n \nOtherwise, the box is aligned as specified by\n its [self-alignment property](https://www.w3.org/TR/css-align-3/#self-alignment-properties) in the relevant axis\n (as defined by the [writing mode](https://www.w3.org/TR/css-writing-modes-4/#writing-mode) of the [containing block](https://www.w3.org/TR/css-display-4/#containing-block)),\n using its [margin box](https://www.w3.org/TR/css-box-4/#margin-box) as the [alignment subject](https://www.w3.org/TR/css-align-3/#alignment-subject)\n and the [inset-modified containing block](#inset-modified-containing-block) as the [alignment container](https://www.w3.org/TR/css-align-3/#alignment-container).\n However, if an explicit [overflow alignment](https://www.w3.org/TR/css-align-3/#overflow-alignment) is not specified\n and its margin box overflows the inset-modified containing block,\n its alignment is adjusted to minimize overflow\n as specified in [CSS Box Alignment 3 § 4.4.1.2 Self-Alignment for Absolutely Positioned Boxes](https://www.w3.org/TR/css-align-3/#auto-safety-position).",
      "rawLength": 2948
    },
    "abspos-old": {
      "id": "abspos-old",
      "heading": "6. \nOld Absolute Positioning Layout Model",
      "content": "[](#issue-3a21c2a0) This section is being replaced with the new [§ 4 Absolute Positioning Layout Model](#abspos-layout) section.\n It is preserved here for comparison:\n both models should yield the same result\n in [horizontal writing modes](https://www.w3.org/TR/css-writing-modes-4/#horizontal-writing-mode) when the box’s [self-alignment](https://www.w3.org/TR/css-align-3/#self-align) is [normal](https://www.w3.org/TR/css-align-3/#valdef-align-self-normal).\n\n 6.1. \nThe Width of Absolutely-Positioned, Non-Replaced Elements[](#abs-non-replaced-width)\n \nThe constraint that determines the used values for these elements is:\n\n \n`\n [left](#propdef-left) + [margin-left](https://www.w3.org/TR/css-box-4/#propdef-margin-left) + [border-left-width](https://www.w3.org/TR/css-backgrounds-3/#propdef-border-left-width) + [padding-left](https://www.w3.org/TR/css-box-4/#propdef-padding-left) + [width](https://www.w3.org/TR/css-sizing-3/#propdef-width) +\n [padding-right](https://www.w3.org/TR/css-box-4/#propdef-padding-right) + [border-right-width](https://www.w3.org/TR/css-backgrounds-3/#propdef-border-right-width) + [margin-right](https://www.w3.org/TR/css-box-4/#propdef-margin-right) +\n [right](#propdef-right) = width of containing block\n `\n\n \nIf all three of [left](#propdef-left), [width](https://www.w3.org/TR/css-sizing-3/#propdef-width), and [right](#propdef-right) are [auto](#valdef-top-auto):\n First set any auto values for [margin-left](https://www.w3.org/TR/css-box-4/#propdef-margin-left) and [margin-right](https://www.w3.org/TR/css-box-4/#propdef-margin-right)\n to 0.\n Then, if the [direction](https://www.w3.org/TR/css-writing-modes-3/#propdef-direction) property of\n the element establishing the static-position [containing block](https://www.w3.org/TR/css-display-4/#containing-block)\n is [ltr](https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-ltr) set left to the static position\n and apply rule number three below;\n otherwise, set right to the static-position\n and apply rule number one below.\n\n \nIf none of the three is [auto](#valdef-top-auto):\n If both [margin-left](https://www.w3.org/TR/css-box-4/#propdef-margin-left) and [margin-right](https://www.w3.org/TR/css-box-4/#propdef-margin-right) are auto,\n solve the equation under the extra constraint that\n the two margins get equal values,\n unless this would make them negative,\n in which case when direction of the containing block is [ltr](https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-ltr) ([rtl](https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-rtl)),\n set margin-left (margin-right) to 0\n and solve for margin-right (margin-left).\n If one of margin-left or margin-right is auto,\n solve the equation for that value.\n If the values are over-constrained,\n ignore the value for [left](#propdef-left)\n (in case the [direction](https://www.w3.org/TR/css-writing-modes-3/#propdef-direction) property of the [containing block](https://www.w3.org/TR/css-display-4/#containing-block) is rtl)\n or [right](#propdef-right)\n (in case direction is ltr) and solve for that value.\n\n \nOtherwise,\n set auto values for [margin-left](https://www.w3.org/TR/css-box-4/#propdef-margin-left) and [margin-right](https://www.w3.org/TR/css-box-4/#propdef-margin-right) to 0,\n and pick one of the following six rules that apply.\n\n \n\n \n If [left](#propdef-left) and [width](https://www.w3.org/TR/css-sizing-3/#propdef-width) are [auto](#valdef-top-auto) and [right](#propdef-right) is not auto,\n then the width is shrink-to-fit.\n Then solve for left.\n\n \n \n If [left](#propdef-left) and [right](#propdef-right) are [auto](#valdef-top-auto) and [width](https://www.w3.org/TR/css-sizing-3/#propdef-width) is not [auto](https://www.w3.org/TR/css-sizing-3/#valdef-width-auto),\n then if the [direction](https://www.w3.org/TR/css-writing-modes-3/#propdef-direction) property of\n the element establishing the static-position [containing block](https://www.w3.org/TR/css-display-4/#containing-block)\n is [ltr](https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-ltr)\n set left to the static-position,\n otherwise set right to the static-position.\n Then solve for left (if direction is [rtl](https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-rtl))\n or right (if direction is ltr).\n\n \n \n If [width](https://www.w3.org/TR/css-sizing-3/#propdef-width) and [right](#propdef-right) are [auto](https://www.w3.org/TR/css-sizing-3/#valdef-width-auto) and [left](#propdef-left) is not [auto](#valdef-top-auto),\n then the width is shrink-to-fit.\n Then solve for right.\n\n \n \n If [left](#propdef-left) is [auto](#valdef-top-auto), [width](https://www.w3.org/TR/css-sizing-3/#propdef-width) and [right](#propdef-right) are not [auto](https://www.w3.org/TR/css-sizing-3/#valdef-width-auto),\n then solve for left.\n\n \n \n If [width](https://www.w3.org/TR/css-sizing-3/#propdef-width) is [auto](https://www.w3.org/TR/css-sizing-3/#valdef-width-auto), [left](#propdef-left) and [right](#propdef-right) are not [auto](#valdef-top-auto),\n then solve for width.\n\n \n \n If [right](#propdef-right) is [auto](#valdef-top-auto), [left](#propdef-left) and [width](https://www.w3.org/TR/css-sizing-3/#propdef-width) are not auto,\n then solve for right.\n \n \n\n \n \n Summary of rules for `dir=ltr` in horizontal writing modes\n \n \n \n \n \n Is auto?\n \n Result\n \n \n [left](#propdef-left)\n \n [width](https://www.w3.org/TR/css-sizing-3/#propdef-width)\n \n [right](#propdef-right)\n \n [margin-left](https://www.w3.org/TR/css-box-4/#propdef-margin-left)\n \n [margin-right](https://www.w3.org/TR/css-box-4/#propdef-margin-right)\n \n \n \n ✔\n \n ✔\n \n ✔\n \n any\n \n \n \n\n auto margins → zero\n \n left → static pos\n \n width → shrink-to-fit\n \n right → solve\n \n \n\n \n ✘\n \n ✘\n \n ✘\n \n ✔\n \n ✘\n \n \n auto margin → free space\n \n \n ✘\n \n ✔\n \n \n ✔\n \n ✔\n \n \n \n\n margins split positive free space\n \n right margin gets negative free space\n \n \n\n \n ✘\n \n ✘\n \n \n treat [right](#propdef-right) as [auto](#valdef-top-auto)\n \n \n ✔\n \n ✘\n \n ✔\n \n any\n \n \n \n\n auto margins → zero\n \n left → static pos\n \n width → as specified\n \n right → solve\n \n \n\n \n ✔\n \n ✔\n \n ✘\n \n any\n \n \n \n\n auto margins → zero\n \n left → solve\n \n width → shrink-to-fit\n \n right → as specified\n \n \n\n \n ✘\n \n ✔\n \n ✔\n \n any\n \n \n \n\n auto margins → zero\n \n left → as specified\n \n width → shrink-to-fit\n \n right → solve\n \n \n\n \n ✔\n \n ✘\n \n ✘\n \n any\n \n \n \n\n auto margins → zero\n \n solve for auto\n \n \n\n \n ✘\n \n ✘\n \n ✔\n \n \n ✘\n \n ✔\n \n ✘\n\n \n 6.2. \nThe width of absolute or fixed positioned, replaced elements[](#abs-replaced-width)\n \nIf [height](https://www.w3.org/TR/css-sizing-3/#propdef-height) and [width](https://www.w3.org/TR/css-sizing-3/#propdef-width) both have computed values of auto\n and the element also has an intrinsic width,\n then that intrinsic width is the used value of width.\n\n \nIf [height](https://www.w3.org/TR/css-sizing-3/#propdef-height) and [width](https://www.w3.org/TR/css-sizing-3/#propdef-width) both have computed values of auto\n and the element has no intrinsic width,\n but does have an intrinsic height and intrinsic ratio;\n or if width has a computed value of auto,\n height has some other computed value,\n and the element does have an intrinsic ratio;\n then the used value of width is:\n\n \n`(used height) * (intrinsic ratio)`\n\n \nIf [height](https://www.w3.org/TR/css-sizing-3/#propdef-height) and [width](https://www.w3.org/TR/css-sizing-3/#propdef-width) both have computed values of auto,\n the element has an intrinsic ratio but no intrinsic height or width,\n and the [containing block’s](https://www.w3.org/TR/css-display-4/#containing-block) width\n does not itself depend on the replaced element’s width,\n then the used value of width is calculated\n from the constraint equation used for\n [block-level, non-replaced elements in ](https://www.w3.org/TR/CSS21/visudet.html#blockwidth)[normal flow](https://www.w3.org/TR/CSS2/visuren.html#normal-flow).\n\n \nOtherwise, if [width](https://www.w3.org/TR/css-sizing-3/#propdef-width) has a computed value of auto,\n and the element has an intrinsic width,\n then that intrinsic width is the used value of width.\n\n \nOtherwise, if [width](https://www.w3.org/TR/css-sizing-3/#propdef-width) has a computed value of auto,\n but none of the conditions above are met,\n and then the used value of width becomes 300px.\n If 300px is too wide to fit the device,\n user agents should use the width of the largest rectangle\n that has a 2:1 ratio and fits the device instead.\n\n \nAfter establishing the [width](https://www.w3.org/TR/css-sizing-3/#propdef-width),\n in order to position the replaced element,\n apply the following rules as appropriate.\n\n \n\n \n If both [left](#propdef-left) and [right](#propdef-right) have the value auto,\n and if the [direction](https://www.w3.org/TR/css-writing-modes-3/#propdef-direction) property of\n the element establishing the static-position [containing block](https://www.w3.org/TR/css-display-4/#containing-block)\n is [ltr](https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-ltr),\n set left to the static position and solve for right;\n else if direction is [rtl](https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-rtl),\n set right to the static position and solve for left.\n\n \n \n If [left](#propdef-left) is auto and [right](#propdef-right) is not auto,\n replace any auto on [margin-left](https://www.w3.org/TR/css-box-4/#propdef-margin-left) or [margin-right](https://www.w3.org/TR/css-box-4/#propdef-margin-right)\n with 0,\n then solve for left.\n\n \n \n If [right](#propdef-right) is auto and [left](#propdef-left) is not auto,\n replace any auto on [margin-left](https://www.w3.org/TR/css-box-4/#propdef-margin-left) or [margin-right](https://www.w3.org/TR/css-box-4/#propdef-margin-right)\n with 0,\n then solve for right.\n\n \n \n If at this point both [margin-left](https://www.w3.org/TR/css-box-4/#propdef-margin-left) and [margin-right](https://www.w3.org/TR/css-box-4/#propdef-margin-right)\n are still auto,\n solve the equation under the extra constraint\n that the two margins must get equal values,\n unless this would make them negative,\n in which case when the direction of the [containing block](https://www.w3.org/TR/css-display-4/#containing-block)\n is [ltr](https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-ltr) ([rtl](https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-rtl)),\n set margin-left (margin-right) to 0\n and solve for margin-right (margin-left).\n\n \n \n If at this point there is an auto remaining,\n solve the equation for that value.\n\n \n \n If at this point the values are over-constrained,\n ignore the value for either [left](#propdef-left)\n (in case the [direction](https://www.w3.org/TR/css-writing-modes-3/#propdef-direction) property of the [containing block](https://www.w3.org/TR/css-display-4/#containing-block) is [rtl](https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-rtl))\n or [right](#propdef-right) (in case direction is [ltr](https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-ltr))\n and solve for that value.\n \n \n\n 6.3. \nThe Height Of Absolutely Positioned, Non-Replaced Elements[](#abs-non-replaced-height)\n \nFor absolutely positioned elements,\n the used values of the vertical dimensions\n must satisfy this constraint:\n\n \n\n [top](#propdef-top) + [margin-top](https://www.w3.org/TR/css-box-4/#propdef-margin-top) + [border-top-width](https://www.w3.org/TR/css-backgrounds-3/#propdef-border-top-width) + [padding-top](https://www.w3.org/TR/css-box-4/#propdef-padding-top) + [height](https://www.w3.org/TR/css-sizing-3/#propdef-height) +\n [padding-bottom](https://www.w3.org/TR/css-box-4/#propdef-padding-bottom) + [border-bottom-width](https://www.w3.org/TR/css-backgrounds-3/#propdef-border-bottom-width) + [margin-bottom](https://www.w3.org/TR/css-box-4/#propdef-margin-bottom) + [bottom](#propdef-bottom)\n = height of containing block\n \n\n \nIf all three of [top](#propdef-top), [height](https://www.w3.org/TR/css-sizing-3/#propdef-height), and [bottom](#propdef-bottom) are [auto](#valdef-top-auto):\n First set any auto values for [margin-top](https://www.w3.org/TR/css-box-4/#propdef-margin-top) and [margin-bottom](https://www.w3.org/TR/css-box-4/#propdef-margin-bottom) to 0,\n then set top to the static position,\n and finally apply rule number three below.\n\n \nIf none of the three are [auto](#valdef-top-auto):\n If both [margin-top](https://www.w3.org/TR/css-box-4/#propdef-margin-top) and [margin-bottom](https://www.w3.org/TR/css-box-4/#propdef-margin-bottom) are auto,\n solve the equation under the extra constraint that the two margins get equal values.\n If one of margin-top or margin-bottom is auto,\n solve the equation for that value.\n If the values are over-constrained,\n ignore the value for [bottom](#propdef-bottom) and solve for that value.\n\n \nOtherwise,\n set [auto](#valdef-top-auto) values for [margin-top](https://www.w3.org/TR/css-box-4/#propdef-margin-top) and [margin-bottom](https://www.w3.org/TR/css-box-4/#propdef-margin-bottom) to 0,\n and pick one of the following six rules that apply.\n\n \n\n \n \nIf [top](#propdef-top) and [height](https://www.w3.org/TR/css-sizing-3/#propdef-height) are [auto](#valdef-top-auto)\nand [bottom](#propdef-bottom) is not auto,\nthen the height is based on the\n[Auto heights for block formatting context roots](https://www.w3.org/TR/CSS2/visudet.html#root-height),\nand solve for top.\n\n \n \nIf [top](#propdef-top) and [bottom](#propdef-bottom) are [auto](#valdef-top-auto)\nand [height](https://www.w3.org/TR/css-sizing-3/#propdef-height) is not auto,\nthen set top to the static position,\nthen solve for bottom.\n\n \n \nIf [height](https://www.w3.org/TR/css-sizing-3/#propdef-height) and [bottom](#propdef-bottom) are [auto](#valdef-top-auto)\nand [top](#propdef-top) is not auto,\nthen the height is based on the\n[Auto heights for block formatting context roots](https://www.w3.org/TR/CSS2/visudet.html#root-height),\nand solve for bottom.\n\n \n \nIf [top](#propdef-top) is [auto](#valdef-top-auto),\n[height](https://www.w3.org/TR/css-sizing-3/#propdef-height) and [bottom](#propdef-bottom) are not auto,\nthen solve for top.\n\n \n \nIf [height](https://www.w3.org/TR/css-sizing-3/#propdef-height) is [auto](#valdef-top-auto),\n[top](#propdef-top) and [bottom](#propdef-bottom) are not auto,\nthen solve for height.\n\n \n \nIf [bottom](#propdef-bottom) is [auto](#valdef-top-auto),\n[top](#propdef-top) and [height](https://www.w3.org/TR/css-sizing-3/#propdef-height) are not auto,\nthen solve for bottom.\n\n \n\n 6.4. \nThe Height Of Absolutely Positioned, Replaced Elements[](#abs-replaced-height)\n \nIf [height](https://www.w3.org/TR/css-sizing-3/#propdef-height) and [width](https://www.w3.org/TR/css-sizing-3/#propdef-width) both have computed values of [auto](#valdef-top-auto)\n and the element also has an intrinsic height,\n then that intrinsic height is the used value of height.\n\n \nOtherwise, if [height](https://www.w3.org/TR/css-sizing-3/#propdef-height) has a computed value of [auto](#valdef-top-auto)\n and the element has an intrinsic ratio\n then the used value of height is:\n\n \n`(used width) / (intrinsic ratio)`\n\n \nOtherwise, if [height](https://www.w3.org/TR/css-sizing-3/#propdef-height) has a computed value of [auto](#valdef-top-auto)\n and the element has an intrinsic height,\n then that intrinsic height is the used value of height.\n\n \nOtherwise, if [height](https://www.w3.org/TR/css-sizing-3/#propdef-height) has a computed value of [auto](#valdef-top-auto),\n but none of the conditions above are met,\n then the used value of height must be set to\n the height of the largest rectangle that has a 2:1 ratio,\n has a height not greater than 150px,\n and has a width not greater than the device width.\n\n \nAfter establishing the [height](https://www.w3.org/TR/css-sizing-3/#propdef-height),\n in order to position the replaced element,\n apply the following rules as appropriate.\n\n \n\n \n \nIf both [top](#propdef-top) and [bottom](#propdef-bottom) have the value [auto](#valdef-top-auto),\nreplace top with the element’s static position.\n\n \n \nIf [bottom](#propdef-bottom) is [auto](#valdef-top-auto),\nreplace any auto on [margin-top](https://www.w3.org/TR/css-box-4/#propdef-margin-top) or [margin-bottom](https://www.w3.org/TR/css-box-4/#propdef-margin-bottom)\nwith 0.\n\n \n \nIf at this point both [margin-top](https://www.w3.org/TR/css-box-4/#propdef-margin-top) and [margin-bottom](https://www.w3.org/TR/css-box-4/#propdef-margin-bottom) are still [auto](#valdef-top-auto),\nsolve the equation under the extra constraint\nthat the two margins must get equal values.\n\n \n \nIf at this point there is only one [auto](#valdef-top-auto) remaining,\nsolve the equation for that value.\n\n \n \nIf at this point the values are over-constrained,\nignore the value for [bottom](#propdef-bottom) and solve for that value.",
      "rawLength": 39326
    },
    "comparison": {
      "id": "comparison",
      "heading": "7. \nInformative Comparison of Normal Flow, Floats, and Positioning",
      "content": "This section is not normative.\n\n \nTo illustrate the differences between [normal flow](https://www.w3.org/TR/CSS2/visuren.html#normal-flow),\n [relative positioning](#relative-position), [floats](https://www.w3.org/TR/css-page-floats-3/#float), and [absolute positioning](#absolute-position),\n we provide a series of examples based on the following HTML:\n\n \n [](#example-5752760c)\n \n\n```\n<!DOCTYPE html>\n<html>\n <head>\n <title>Comparison of positioning schemes</title>\n <style>\n body { display: block; font-size:12px; line-height: 200%;\n width: 400px; height: 400px }\n p { display: block }\n span { display: inline }\n </style>\n </head>\n <body>\n <p>\n Beginning of p contents.\n <span id=\"outer\"> Start of outer contents.\n <span id=\"inner\"> Inner contents.</span>\n End of outer contents.</span>\n End of p contents.\n </p>\n </body>\n</html>\n\n```\n\n \n \nThe final positions of boxes generated by the outer and inner\n elements vary in each example. In each illustration, the numbers to the left of\n the illustration indicate the [normal flow](https://www.w3.org/TR/CSS2/visuren.html#normal-flow) position of the\n double-spaced (for clarity) lines.\n\n \nNote: The diagrams in this section are illustrative and not to scale. They are\n meant to highlight the differences between the various [positioning\n schemes](#positioning-scheme), and are not intended to be reference renderings of the\n examples given.\n\n 7.1. \nNormal Flow Example[](#comp-normal-flow)\n \nConsider the following CSS declarations for outer and inner\n that do not alter the [normal flow](https://www.w3.org/TR/CSS2/visuren.html#normal-flow) of boxes:\n\n \n [](#example-d045d8f9)\n \n\n```\n#outer { color: red }\n#inner { color: blue }\n\n```\n\n \n \nThe P element contains all inline content: [anonymous inline text](https://www.w3.org/TR/CSS2/visuren.html#anonymous) and\n two SPAN elements. Therefore, all of the content will be laid out in an inline\n formatting context, within a [containing block](https://www.w3.org/TR/css-display-4/#containing-block) established by the P element, producing\n something like:\n\n \n \n \n \n \n All of the text within the P’s containing block flows together as continuous text,\n even though it’s located in separated nested elements.\n \n \n 7.2. \nRelative Positioning Example[](#comp-relpos)\n \nTo see the effect of [relative positioning](#relative-position),\n we specify:\n\n \n [](#example-bf500659)\n \n\n```\n#outer { position: relative; top: -12px; color: red }\n#inner { position: relative; top: 12px; color: blue }\n\n```\n\n \n \nText flows normally up to the outer element. The outer text is\n then flowed into its [normal flow](https://www.w3.org/TR/CSS2/visuren.html#normal-flow) position and dimensions at the end of line 1. Then,\n the inline boxes containing the text (distributed over three lines) are shifted as a\n unit by -12px (upwards).\n\n \nThe contents of inner, as a child of outer, would normally flow\n immediately after the words \"of outer contents\" (on line 1.5). However, the inner\n contents are themselves offset relative to the outer contents by 12px\n (downwards), back to their original position on line 2.\n\n \n\n Note that the content following outer is not affected by the relative\n positioning of outer.\n \n\n \n \n \n \n \n The result is identical to normal flow,\n except that the \"outer\" text is shifted 12px upward,\n without affecting the flow of the \"body\" or \"inner\" text.\n \n \n \n\n Note also that had the offset of outer been -24px, the text of outer\n and the body text would have overlapped.\n \n\n 7.3. \nFloating Example[](#comp-floating)\n \nNow consider the effect of [\n floating](https://www.w3.org/TR/CSS2/visuren.html#floats) the inner element’s text to the right by means of the\n following rules:\n\n \n [](#example-7c19fd19)\n \n\n```\n#outer { color: red }\n#inner { float: right; width: 130px; color: blue }\n\n```\n\n \n \nText flows normally up to the inner box, which is pulled out of the flow\n and [floated](https://www.w3.org/TR/css-page-floats-3/#float) to the right margin (its [width](https://www.w3.org/TR/css-sizing-3/#propdef-width) has been\n assigned explicitly). Line boxes to the left of the float are shortened, and the\n document’s remaining text flows into them.\n\n \n \n \n \n \n The \"inner\" text lays out in an independent box on the right,\n causing the remaining \"body\" and \"outer\" text to flow around it.\n \n \n \nTo show the effect of the [clear](https://www.w3.org/TR/CSS2/visuren.html#propdef-clear) property, we add a sibling element to the\n example:\n\n \n [](#example-e3784dd4)\n \n\n```\n<!DOCTYPE html>\n<html>\n <head>\n <title>Comparison of positioning schemes II</title>\n <style>\n #inner { float: right; width: 130px; color: blue }\n #sibling { color: red }\n </style>\n </head>\n <body>\n <p>\n Beginning of p contents.\n <span id=\"outer\"> Start of outer contents.\n <span id=\"inner\"> Inner contents.</span>\n <span id=\"sibling\"> Sibling contents.</span>\n End of outer contents.</span>\n End of p contents.\n </p>\n </body>\n</html>\n\n```\n\n \n \nThese styles cause the inner box to float to the right, as before,\n and the document’s remaining text to flow into the vacated space:\n\n \n \n \n \n \n Identical to the previous example,\n save that there is now \"sibling\" text\n flowing with the \"body\" and \"outer\" text.\n \n \n \nHowever, if the [clear](https://www.w3.org/TR/CSS2/visuren.html#propdef-clear) property on the sibling element is set to [right](#propdef-right)\n (i.e., the generated sibling box will not accept a position next to\n [floating](https://www.w3.org/TR/css-page-floats-3/#float) boxes to its right), the sibling content begins to flow below the\n float:\n\n \n [](#example-54c91152)\n \n\n```\n#inner { float: right; width: 130px; color: blue }\n#sibling { clear: right; color: red }\n\n```\n\n \n \n \n \n \n \n Now the \"sibling\" text moves down to below the \"inner\" text’s box,\n leaving blank space behind.\n The text following the \"sibling\" text flows after it as normal.\n \n \n 7.4. \nAbsolute Positioning Example[](#comp-abspos)\n \nNext, we consider the effect of absolute positioning. Consider the following CSS\n declarations for outer and inner:\n\n \n [](#example-90defcbb)\n \n\n```\n#outer {\n position: absolute;\n top: 200px; left: 200px;\n width: 200px;\n color: red;\n}\n#inner { color: blue }\n\n```\n\n \n \nwhich cause the top of the outer box to be positioned with respect to its\n [containing block](https://www.w3.org/TR/css-display-4/#containing-block). The containing block for a positioned box is established by the\n nearest positioned ancestor (or, if none exists, the initial containing block, as in\n our example). The top side of the outer box is 200px below the top of the\n containing block and the left side is 200px from the left side. The child box of\n outer is flowed normally with respect to its parent.\n\n \n \n \n \n \n All of the text within #outer (the \"outer\" and \"inner\" text)\n moves down to an independent box in the lower right corner.\n The two halves of \"body\" text flow together.\n \n \n \nThe following example shows an absolutely positioned box that is a child of a relatively\n positioned box. Although the parent outer box is not actually offset, setting\n its [position](#propdef-position) property to [relative](#valdef-position-relative) means that its box may serve as the containing\n block for positioned descendants. Since the outer box is an inline box that is\n split across several lines, the first inline box’s top and left edges (depicted by thick\n dashed lines in the illustration below) serve as references for [top](#propdef-top) and [left](#propdef-left) offsets.\n\n \n [](#example-f34c6317)\n \n\n```\n#outer {\n position: relative;\n color: red\n}\n#inner {\n position: absolute;\n top: 200px; left: -100px;\n height: 130px; width: 130px;\n color: blue;\n}\n\n```\n\n \n \nThis results in something like the following:\n\n \n \n \n \n \n The \"inner\" text is positioned in an independent box,\n relative to the top-left corner of the start of the \"outer\" text.\n \n \n \nIf we do not position the outer box:\n\n \n [](#example-100563b8)\n \n\n```\n#outer { color: red }\n#inner {\n position: absolute;\n top: 200px; left: -100px;\n height: 130px; width: 130px;\n color: blue;\n}\n\n```\n\n \n \nthe [containing block](https://www.w3.org/TR/css-display-4/#containing-block) for inner becomes the initial\n containing block (in our example). The following illustration shows where\n the inner box would end up in this case.\n\n \n \n \n \n \n Same as before,\n except now the \"inner text\" is positioned relative to the top-left corner of the page itself.\n \n \n \nRelative and absolute positioning may be used to implement change bars, as shown\n in the following example. The following fragment:\n\n \n [](#example-3b789003)\n \n\n```\n<p style=\"position: relative; margin-right: 10px; left: 10px;\">\n I used two red hyphens to serve as a change bar. They\n will \"float\" to the left of the line containing THIS\n <span style=\"position: absolute; top: auto; left: -1em; color: red;\">--</span>\n word.\n</p>\n\n```\n\n \n \nmight result in something like:\n\n \n \n \n \n \n The two red hyphens, indicating a change,\n sit in the left margin of the page\n on the line containing the word \"THIS\",\n regardless of what line that ends up being.\n \n \n \nFirst, the paragraph (whose [containing block](https://www.w3.org/TR/css-display-4/#containing-block) sides are shown in the\n illustration) is flowed normally. Then it is offset 10px from the left edge\n of the containing block (thus, a right margin of 10px has been\n reserved in anticipation of the offset). The two hyphens acting as change bars\n are taken out of the flow and positioned at the current line (due to 'top: auto'),\n -1em from the left edge of its containing block (established by the P in\n its final position). The result is that the change bars seem to \"float\" to the\n left of the current line.",
      "rawLength": 20186
    },
    "ack": {
      "id": "ack",
      "heading": "8. \nAcknowledgments",
      "content": "This module would not have been possible without input and support from many\n helpful people. Thanks to\n Rossen Atanassov,\n Bert Bos,\n Oriol Brufau,\n Tantek Çelik,\n Arron Eicholz\n Sylvain Galineau,\n John Jansen,\n Chris Jones,\n Ian Kilpatrick,\n Anton Prowse.",
      "rawLength": 272
    },
    "privacy": {
      "id": "privacy",
      "heading": "Privacy Considerations",
      "content": "This specification introduces no new privacy considerations.",
      "rawLength": 75
    },
    "security": {
      "id": "security",
      "heading": "Security Considerations",
      "content": "If an attacker is able to inject arbitrary CSS,\npositioned layout can make it easier to position elements the attacker has control of\nover arbitrary other elements of the page,\npotentially tricking users of the page.\n(There are many routes to this attack: negative [margin](https://www.w3.org/TR/css-box-4/#propdef-margin), [transform](https://www.w3.org/TR/css-transforms-1/#propdef-transform), etc.\nDon’t let people apply arbitrary CSS to bits of your page.)\n\n \n[position: fixed](#propdef-position) can allow a page to emulate modal dialogs,\npotentially tricking a user into thinking they’re interacting with the user agent\nand entering in sensitive information that they page can then capture.\nUser agents must ensure that their native dialogs are positioned\nin ways that the page cannot emulate;\nin particular,\nthat at least some of the dialog is outside the \"poisoned pixels\" that web content can paint to.",
      "rawLength": 1200
    },
    "issues-index": {
      "id": "issues-index",
      "heading": "Issues Index",
      "content": "What is a useful containing block to form\n when the box is fragmented across multiple lines? [[Issue #8284]](https://github.com/w3c/csswg-drafts/issues/8284) [↵](#issue-d9a49098)\n What should happen in “negatively-sized” containing blocks?\n CSS2.1 and this draft currently conflict. [[Issue #11478]](https://github.com/w3c/csswg-drafts/issues/11478) [↵](#issue-f171bef8)\n This section is being replaced with the new [§ 4 Absolute Positioning Layout Model](#abspos-layout) section.\n It is preserved here for comparison:\n both models should yield the same result\n in [horizontal writing modes](https://www.w3.org/TR/css-writing-modes-4/#horizontal-writing-mode) when the box’s [self-alignment](https://www.w3.org/TR/css-align-3/#self-align) is [normal](https://www.w3.org/TR/css-align-3/#valdef-align-self-normal). [↵](#issue-3a21c2a0)",
      "rawLength": 164371
    }
  }
}