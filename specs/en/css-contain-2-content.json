{
  "specName": "css-contain-2",
  "extractedAt": "2026-02-06T03:06:34.961Z",
  "totalSections": 15,
  "coreSections": 8,
  "sections": {
    "sotd": {
      "id": "sotd",
      "heading": "Status of this document",
      "content": "This section describes the status of this document at the time of its publication.\n A list of current W3C publications\n and the latest revision of this technical report\n can be found in the [W3C technical reports index at https://www.w3.org/TR/.](https://www.w3.org/TR/) \n\n \n This document was published\n by the [CSS Working Group](https://www.w3.org/groups/wg/css) as a Working Draft using the [Recommendation\n track](https://www.w3.org/2021/Process-20211102/#recs-and-notes).\n Publication as a Working Draft\n does not imply endorsement by W3C and its Members. \n\n \n This is a draft document\n and may be updated, replaced\n or obsoleted by other documents at any time.\n It is inappropriate to cite this document as other than work in progress. \n\n \nPlease send feedback\n by [filing issues in GitHub](https://github.com/w3c/csswg-drafts/issues) (preferred),\n including the spec code “css-contain” in the title, like this:\n “[css-contain] …summary of comment…”.\n All issues and comments are [archived](https://lists.w3.org/Archives/Public/public-css-archive/).\n Alternately, feedback can be sent to the ([archived](https://lists.w3.org/Archives/Public/www-style/)) public mailing list [www-style@w3.org](mailto:www-style@w3.org?Subject=%5Bcss-contain%5D%20PUT%20SUBJECT%20HERE). \n\n \nThis document is governed by the [2 November 2021 W3C Process Document](https://www.w3.org/2021/Process-20211102/). \n\n \nThis document was produced by a group operating under the [W3C Patent Policy](https://www.w3.org/Consortium/Patent-Policy-20200915/).\n W3C maintains a [public list of any patent disclosures](https://www.w3.org/groups/wg/css/ipr) made in connection with the deliverables of the group;\n that page also includes instructions for disclosing a patent.\n An individual who has actual knowledge of a patent which the individual believes\n contains [Essential Claim(s)](https://www.w3.org/Consortium/Patent-Policy-20200915/#def-essential) must disclose the information in accordance with [section 6 of the W3C Patent Policy](https://www.w3.org/Consortium/Patent-Policy-20200915/#sec-Disclosure).",
      "rawLength": 2538
    },
    "intro": {
      "id": "intro",
      "heading": "1.  Introduction",
      "content": "Efficiently rendering a website relies on the user agent being able to detect what parts of the page are being displayed,\n which parts might affect the currently-displayed section,\n and what can be ignored.\n\n \nThere are various heuristics that can be used to guess when a given sub-tree is independent of the rest of the page in some manner,\n but they’re fragile,\n so innocuous changes to a page may inadvertently make it fail such heuristic tests,\n causing rendering to fall into a slow code path.\n There are also many things that would be good to isolate which are difficult or impossible to detect in a heuristic manner.\n\n \nTo alleviate these problems\n and allow strong, predictable isolation of a subtree from the rest of the page,\n this specification defines a [contain](#propdef-contain) property.\n\n \nTo allow even further optimization of off-screen contents,\n this spec also defines a [content-visibility](#propdef-content-visibility) property,\n enabling the user agent to skip an element’s layout and painting entirely when not needed.\n\n 1.1. Module Interactions[](#interaction)\n \nThis document defines new features not present in earlier specifications.\n In addition, it aims to replace and supersede [[CSS-CONTAIN-1]](#biblio-css-contain-1) once stable.\n\n 1.2. Value Definitions[](#values)\n \nThis specification follows the [CSS property definition conventions](https://www.w3.org/TR/CSS2/about.html#property-defs) from [[CSS2]](#biblio-css2) using the [value definition syntax](https://www.w3.org/TR/css-values-3/#value-defs) from [[CSS-VALUES-3]](#biblio-css-values-3).\n Value types not defined in this specification are defined in CSS Values & Units [CSS-VALUES-3].\n Combination with other CSS modules may expand the definitions of these value types.\n\n \nIn addition to the property-specific values listed in their definitions,\n all properties defined in this specification\n also accept the [CSS-wide keywords](https://www.w3.org/TR/css-values-4/#css-wide-keywords) as their property value.\n For readability they have not been repeated explicitly.",
      "rawLength": 2822
    },
    "contain-property": {
      "id": "contain-property",
      "heading": "2.  Strong Containment: the contain property",
      "content": "Name:\n **contain**\n \n [Value:](https://www.w3.org/TR/css-values/#value-defs)\n none [|](https://www.w3.org/TR/css-values-4/#comb-one) strict | content | [ size [||](https://www.w3.org/TR/css-values-4/#comb-any) layout || style || paint ] \n \n [Initial:](https://www.w3.org/TR/css-cascade/#initial-values)\n none \n \n [Applies to:](https://www.w3.org/TR/css-cascade/#applies-to)\n See [below](#contain-applies) \n \n [Inherited:](https://www.w3.org/TR/css-cascade/#inherited-property)\n no \n \n [Percentages:](https://www.w3.org/TR/css-values/#percentages)\n n/a \n \n [Computed value:](https://www.w3.org/TR/css-cascade/#computed)\n the keyword [none](#valdef-contain-none) or one or more of [size](#valdef-contain-size), [layout](#valdef-contain-layout), [paint](#valdef-contain-paint) \n \n [Canonical order:](https://www.w3.org/TR/cssom/#serializing-css-values)\n per grammar \n \n [Animation type:](https://www.w3.org/TR/web-animations/#animation-type)\n not animatable \n \n \nUser agents are expected to support this property on all media, including non-visual ones.\n\n \nThe [contain](#propdef-contain) property allows an author to indicate that an element and its contents are,\n as much as possible, independent of the rest of the document tree.\n This allows user agents to utilize much stronger optimizations when rendering a page using contain properly,\n and allows authors to be confident that their page won’t accidentally fall into a slow code path\n due to an innocuous change.\n\n \n **none** \n This value indicates that the property has no effect.\n The element renders as normal,\n with no containment effects applied. \n **strict** \n This value computes to size layout paint style,\n and thus turns on all forms of [containment](#containment) for the element. \n **content** \n \n This value computes to layout paint style,\n and thus turns on all forms of [containment](#containment) except [size containment](#size-containment) for the element. \n \nNote: [contain: content](#propdef-contain) is reasonably \"safe\" to apply widely;\n its effects are fairly minor in practice,\n and most content won’t run afoul of its restrictions.\n However, because it doesn’t apply [size containment](#size-containment),\n the element can still respond to the size of its contents,\n which can cause layout-invalidation to percolate further up the tree than desired.\n Use contain: strict when possible,\n to gain as much containment as you can.\n\n **size** \n The value turns on [size containment](#size-containment) for the element.\n This ensures that the [containment box](#size-containment-box) can be laid out\n without needing to examine its descendants. \n **layout** \n This value turns on [layout containment](#layout-containment) for the element.\n This ensures that the [containment box](#layout-containment-box) is totally opaque for layout purposes;\n nothing outside can affect its internal layout,\n and vice versa. \n **style[](#valdef-contain-style)** \n This value turns on [style containment](#style-containment) for the element.\n This ensures that,\n for properties which can have effects on more than just an element and its descendants,\n those effects don’t escape the element. \n **paint** \n This value turns on [paint containment](#paint-containment) for the element.\n This ensures that the descendants of the [containment box](#paint-containment-box) don’t display outside its bounds,\n so if an element is off-screen or otherwise not visible,\n its descendants are also guaranteed to be not visible. \n \n \nThis property generally applies to all elements (including [CSS Pseudo-Elements 4 § 4.1 Generated Content Pseudo-elements: ::before and ::after](https://www.w3.org/TR/css-pseudo-4/#generated-content)),\n although some types of containment have no effect on some elements,\n as detailed in [§ 3 Types of Containment](#containment-types).\n In addition, in the case of [[SVG2]](#biblio-svg2),\n the [contain](#propdef-contain) property only applies to `[svg](https://www.w3.org/TR/SVG2/struct.html#elementdef-svg)` elements that have an associated CSS layout box.\n\n \n [](#example-ace3db03) [contain](#propdef-contain) is useful when used widely on a page,\n particularly when a page contains a lot of \"widgets\" which are all independent. \n \nFor example, assume a micropost social network had markup something like this:\n\n```\n<body>\n <aside>...</aside>\n <section>\n <h2>Messages</h2>\n <article>\n Lol, check out this dog: images.example.com/jsK3jkl\n </article>\n <article>\n I had a ham sandwich today. #goodtimes\n </article>\n <article>\n I have political opinions that you need to hear!\n </article>\n …\n </section>\n</body>\n\n```\n\n \nThere are probably a lot of messages displayed on the site,\n but each is independent and won’t affect anything else on the site.\n As such, each can be marked with [contain: content](#propdef-contain) to communicate this to the user agent,\n so it can optimize the page and skip a lot of computation for messages that are off-screen.\n If the size of each message is known ahead of time, contain: strict can be applied to communicate further restrictions.\n\n \n \nAdditionally, when any [containments](#containment) are active\n on either the HTML `[html](https://html.spec.whatwg.org/multipage/semantics.html#the-html-element)` or `[body](https://html.spec.whatwg.org/multipage/sections.html#the-body-element)` elements,\n propagation of properties\n from the `[body](https://html.spec.whatwg.org/multipage/sections.html#the-body-element)` element\n to the [initial containing block](https://www.w3.org/TR/css-display-3/#initial-containing-block), the viewport, or the [canvas background](https://www.w3.org/TR/css-backgrounds-3/#canvas-background),\n is disabled.\n Notably, this affects:\n\n \n\n \n \n[writing-mode](https://www.w3.org/TR/css-writing-modes-4/#propdef-writing-mode), [direction](https://www.w3.org/TR/css-writing-modes-3/#propdef-direction), and [text-orientation](https://www.w3.org/TR/css-writing-modes-4/#propdef-text-orientation) (see [CSS Writing Modes 3 § 8 The Principal Writing Mode](https://www.w3.org/TR/css-writing-modes-3/#principal-flow))\n\n \n \n[overflow](https://www.w3.org/TR/css-overflow-3/#propdef-overflow) and its longhands (see [CSS Overflow 3 § 3.5 Overflow Viewport Propagation](https://www.w3.org/TR/css-overflow-3/#overflow-propagation))\n\n \n \n[background](https://www.w3.org/TR/css-backgrounds-3/#propdef-background) and its longhands (see [CSS Backgrounds 3 § 2.11.2 The Canvas Background and the HTML <body> Element](https://www.w3.org/TR/css-backgrounds-3/#body-background))\n\n \n\n \nNote: Propagation\n to the [initial containing block](https://www.w3.org/TR/css-display-3/#initial-containing-block), the viewport, or the [canvas background](https://www.w3.org/TR/css-backgrounds-3/#canvas-background),\n of properties set on the `[html](https://html.spec.whatwg.org/multipage/semantics.html#the-html-element)` element itself\n is unaffected.\n\n \nNote: Several properties beyond [contain](#propdef-contain) can turn on various [containments](#containment) for an element.\n These do not affect the value of contain;\n an element can have contain: none but still have [layout containment](#layout-containment) turned on by [content-visibility](#propdef-content-visibility),\n for example.",
      "rawLength": 13399
    },
    "containment-types": {
      "id": "containment-types",
      "heading": "3.  Types of Containment",
      "content": "There are several varieties of **containment** that an element can be subject to,\n restricting the effects that its descendants can have on the rest of the page in various ways. [Containment](#containment) enables much more powerful optimizations by user agents,\n and helps authors compose their page out of functional units,\n as it limits how widely a given change can affect a document.\n\n \n Specification authors introducing new properties or mechanisms\n need to consider whether and how the various types of containment\n affect what they are introducing,\n and include in their specification any effect not described here.\n\n 3.1. Size Containment[](#containment-size)\n \nGiving an element **size containment** makes its [principal box](https://www.w3.org/TR/css-display-3/#principal-box) a **size containment box** and has the following effects:\n\n \n\n \n \nThe [intrinsic sizes](https://www.w3.org/TR/css-sizing-3/#intrinsic-size) of the [size containment box](#size-containment-box) are determined as if the element had no content,\nfollowing the same logic as when [sizing as if empty](#sizing-as-if-empty).\n\n \nNote: This affects explicit invocations of the [min-content](https://www.w3.org/TR/css-sizing-3/#valdef-width-min-content) or [max-content](https://www.w3.org/TR/css-sizing-3/#valdef-width-max-content) keywords,\nas well as any calculation that depends on these measurement,\nsuch as sizing [grid tracks](https://www.w3.org/TR/css-grid-2/#grid-track) into which a size contained item is placed,\nor if [fit-content sizing](https://www.w3.org/TR/css-sizing-3/#fit-content-size) the containment box’s parent.\n\n \n \nLaying out a [size containment box](#size-containment-box) and its content is conceptually done in two phases:\n\n \n **Sizing as if empty** \n \n The [used](https://www.w3.org/TR/css-cascade-5/#used-value) [width](https://www.w3.org/TR/css-sizing-3/#propdef-width) and [height](https://www.w3.org/TR/css-sizing-3/#propdef-height) of the [containment box](#size-containment-box) are determined as if performing a normal layout of the box,\n except that it is treated as having no content—not even through pseudo elements such as [::before](https://www.w3.org/TR/css-pseudo-4/#selectordef-before), [::after](https://www.w3.org/TR/css-pseudo-4/#selectordef-after), or [::marker](https://www.w3.org/TR/css-pseudo-4/#selectordef-marker). \n \n[Replaced elements](https://www.w3.org/TR/css-display-3/#replaced-element) must be treated as having an [natural](https://www.w3.org/TR/css-images-3/#natural-dimensions) width and height of 0\n and no [natural aspect ratio](https://www.w3.org/TR/css-images-3/#natural-aspect-ratio).\n\n \nNote: Size containment only suppresses the [natural aspect ratio](https://www.w3.org/TR/css-images-3/#natural-aspect-ratio),\n so properties like [aspect-ratio](https://www.w3.org/TR/css-sizing-4/#propdef-aspect-ratio) which affect that [preferred aspect ratio](https://www.w3.org/TR/css-sizing-4/#preferred-aspect-ratio) directly\n are honored.\n\n \nAll CSS properties of the [size containment box](#size-containment-box) are taken into account\n as they would be when performing layout normally.\n Other specifications may make specific exemptions.\n\n \nNote: Even when the element’s [sizing properties](https://www.w3.org/TR/css-sizing-3/#sizing-property) specify an intrinsic size,\n this does not necessarily make the element zero-sized:\n properties set on the element itself\n continue to be taken into account,\n which can cause it to be larger.\n\n **Laying out in-place** \n The [containment box](#size-containment-box)'s content\n (including any pseudo-elements)\n must then be laid out into the now fixed-size containment box normally. \n \n \nNote: [Size containment](#size-containment) does not suppress baseline alignment.\nSee [layout containment](#layout-containment) for that.\n\n \n \n[Size containment boxes](#size-containment-box) are [monolithic](https://www.w3.org/TR/css-break-3/#monolithic) (See [CSS Fragmentation 3 § 4.1 Possible Break Points](https://www.w3.org/TR/css-break-3/#possible-breaks)).\n\n \n\n \n [](#example-eadb9c00) Given the following markup and style, the image would be sized to 100px by 100px,\n as the aspect ratio set by the [aspect-ratio](https://www.w3.org/TR/css-sizing-4/#propdef-aspect-ratio) property takes effect. \n\n```\nimg {\n width: 100px;\n aspect-ratio: 1/1;\n contain: size;\n}\n<img src=\"https://www.example.com/300x100.jpg\">\n\n```\n\n \nIf the [aspect-ratio](https://www.w3.org/TR/css-sizing-4/#propdef-aspect-ratio) property had not been declared,\n the image would have been 100px by 0px,\n as its [natural aspect ratio](https://www.w3.org/TR/css-images-3/#natural-aspect-ratio) is suppressed,\n and its [natural height](https://www.w3.org/TR/css-images-3/#natural-height) is treated as 0.\n\n \n \nHowever, giving an element [size containment](#size-containment) has no effect if any of the following are true:\n\n \n\n \n \nif the element does not generate a [principal box](https://www.w3.org/TR/css-display-3/#principal-box) (as is the case with [display: contents](https://www.w3.org/TR/css-display-3/#propdef-display) or display: none)\n\n \n \nif its [inner display type](https://www.w3.org/TR/css-display-3/#inner-display-type) is [table](https://www.w3.org/TR/css-display-3/#valdef-display-table)\n\n \n \nif its [principal box](https://www.w3.org/TR/css-display-3/#principal-box) is\nan [internal table box](https://www.w3.org/TR/css-display-3/#internal-table-box)\n\n \n \nif its [principal box](https://www.w3.org/TR/css-display-3/#principal-box) is\nan [internal ruby box](https://www.w3.org/TR/css-display-3/#internal-ruby-box) or a [non-atomic](https://www.w3.org/TR/css-display-3/#atomic-inline) [inline-level](https://www.w3.org/TR/css-display-3/#inline-level) box\n\n \n\n \nNote: Internal table boxes,\n which do not include table captions,\n are excluded,\n because the table layout algorithm\n does not allow boxes to become smaller than their inflow content.\n Sizing a table cell as if it was empty and then laying out its content inside without changing the size\n is effectively an undefined operation.\n Manually setting the [width](https://www.w3.org/TR/css-sizing-3/#propdef-width) or [height](https://www.w3.org/TR/css-sizing-3/#propdef-height) properties to 0 cannot make it smaller than its content.\n This concern does not apply to table captions,\n which are perfectly capable of having a fixed size\n that is independent of their content.\n\n 3.1.1. Possible Size-Containment Optimizations[](#containment-size-opt)\n \nThis section is non-normative.\n\n \nBy itself, [size containment](#size-containment) does not offer much optimization opportunity.\n Its primary benefit on its own is that tools which want to lay out the [containment box](#size-containment-box)'s contents\n based on the containment box's size\n (such as a JS library implementing the \"container query\" concept)\n can do so without fear of \"infinite loops\",\n where having a child’s size respond to the size of the containment box causes the containment box's size to change as well,\n possibly triggering further changes in how the child sizes itself\n and possibly thus more changes to the containment box's size,\n ad infinitum.\n\n \nWhen paired with [layout containment](#layout-containment), though,\n possible optimizations that can be enabled include (but are not limited to):\n\n \n\n \n \nWhen the style or contents of a descendant of the [containment box](#size-containment-box) is changed,\ncalculating what part of the DOM tree is \"dirtied\" and might need to be re-laid out\ncan stop at the containment box.\n\n \n \nWhen laying out the page,\nif the [containment box](#size-containment-box) is off-screen or obscured,\nthe layout of its contents (i.e. \"[laying out in-place](#laying-out-in-place)\") can be delayed or done at a lower priority.\n\n \n\n 3.2. Layout Containment[](#containment-layout)\n \nGiving an element **layout containment** makes its [principal box](https://www.w3.org/TR/css-display-3/#principal-box) a **layout containment box** and has the following effects:\n\n \n\n \n \nThe [layout containment box](#layout-containment-box) [establishes an independent formatting context](https://www.w3.org/TR/css-display-3/#establish-an-independent-formatting-context).\n\n \n \nIf at least one [fragmentation container](https://www.w3.org/TR/css-break-3/#fragmentation-container) of a [fragmentation context](https://www.w3.org/TR/css-break-3/#fragmentation-context) has [layout containment](#layout-containment),\nor if at least one fragmentation container of a fragmentation context is a descendant of [layout containment box](#layout-containment-box) and at least one subsequent fragmentation container of the same fragmentation context is not a descendant of that same element with layout containment,\nthen the first layout containment box which is either a fragmentation container itself\nor is an ancestor of a fragmentation container must “trap” the remainder of the [fragmented flow](https://www.w3.org/TR/css-break-3/#fragmented-flow): [fragmentation](https://www.w3.org/TR/css-break-3/#fragmentation) must not continue past the layout containment boundary,\nand the last fragmentation container within the first layout containment boundary\nis treated as if it is the last fragmentation container in its fragmentation context.\n\n \nIf subsequent [fragmentation containers](https://www.w3.org/TR/css-break-3/#fragmentation-container) in the [fragmentation context](https://www.w3.org/TR/css-break-3/#fragmentation-context) are only generated when more content remains in the [fragmented flow](https://www.w3.org/TR/css-break-3/#fragmented-flow),\nthen they are not generated.\nIf they would exist regardless,\nthey remain part of the fragmentation context,\nbut do not receive any content from the fragmented flow.\n\n \nNote: At the time of writing, no stable specification is affected by this point.\nOnly specifications that would enable some (but not all) fragmentation containers of a fragmentation context\nto be layout-contained (or descendants of a layout contained element)\nare concerned.\nThis is not the case of [[CSS-PAGE-3]](#biblio-css-page-3) nor of [[CSS-MULTICOL-1]](#biblio-css-multicol-1).\nThis requirement is nonetheless included because\nseveral mechanisms that would make this a possibility have been considered\n(e.g.: [[CSS-REGIONS-1]](#biblio-css-regions-1), [::nth-fragment()](https://www.w3.org/TR/css-overflow-4/#selectordef-nth-fragment), a hypothetical selector for individual columns of a multicol…),\nand the guarantees that layout containment is intended to offer would not be realized\nif such mechanisms did not abide by this rule. [CSS-REGIONS-1] has details over how [layout containment](#layout-containment) affects\nregions.\n\n \n [](#example-2b10faa8) \n\n```\n<article>Lorem ipsum…</article>\n<div id=a></div>\n<aside>\n <div id=b></div>\n <div id=c></div>\n</aside>\n<aside>\n <div id=d></div>\n <div id=e></div>\n</aside>\n<div id=f></div>\n\n```\n\n```\narticle {flow-into: foo;}\n#a, #b, #c, #d, #e, #f {flow-from: foo;}\naside {contain: layout}\n\n```\n\n \nIn this [[CSS-REGIONS-1]](#biblio-css-regions-1) example,\n content can flow from `#a` to `#b`,\n from `#b` to `#c`.\n However as `#c` is the last fragment container in the first [layout containment box](#layout-containment-box) it traps all the remaining content,\n and nothing gets flowed into `#d`, `#e`, or `#f`.\n\n \n \n \nIf the computed value of the [overflow](https://www.w3.org/TR/css-overflow-3/#propdef-overflow) property is\neither [visible](https://www.w3.org/TR/css-overflow-3/#valdef-overflow-visible) or [clip](https://www.w3.org/TR/css-overflow-3/#valdef-overflow-clip) or a combination thereof,\nany overflow must be treated as [ink overflow](https://www.w3.org/TR/css-overflow-3/#ink-overflow).\n\n \n \nThe [layout containment box](#layout-containment-box) establishes an [absolute positioning containing block](https://www.w3.org/TR/css-position-3/#absolute-positioning-containing-block) and a [fixed positioning containing block](https://www.w3.org/TR/css-position-3/#fixed-positioning-containing-block).\n\n \n \nThe [layout containment box](#layout-containment-box) creates a [stacking context](https://www.w3.org/TR/CSS2/visuren.html#x43).\n\n \n \n[Forced breaks](https://www.w3.org/TR/css-break-3/#forced-break) are allowed within [layout containment boxes](#layout-containment-box) but do not propagate to the parent as otherwise described in [CSS Fragmentation 3 § 3.1 Breaks Between Boxes: the break-before and break-after properties](https://www.w3.org/TR/css-break-3/#break-between).\n\n \nNote: This introduces the previously non-existent possibility that [forced breaks](https://www.w3.org/TR/css-break-3/#forced-break) may occur between a box and its container (See [CSS Fragmentation 3 § 4.1 Possible Break Points](https://www.w3.org/TR/css-break-3/#possible-breaks)).\n\n \n \nFor the purpose of the [vertical-align](https://www.w3.org/TR/css-inline-3/#propdef-vertical-align) property,\nor any other property whose effects\nneed to relate the position of the [layout containment box](#layout-containment-box)'s baseline\nto something other than its descendants,\nthe containment box is treated as having no baseline.\n\n \n\n \nHowever, giving an element [layout containment](#layout-containment) has no effect if any of the following are true:\n\n \n\n \n \nif the element does not generate a [principal box](https://www.w3.org/TR/css-display-3/#principal-box) (as is the case with [display: contents](https://www.w3.org/TR/css-display-3/#propdef-display) or display: none)\n\n \n \nif its [principal box](https://www.w3.org/TR/css-display-3/#principal-box) is\nan [internal table box](https://www.w3.org/TR/css-display-3/#internal-table-box) other than [table-cell](https://www.w3.org/TR/css-display-3/#valdef-display-table-cell)\n\n \n \nif its [principal box](https://www.w3.org/TR/css-display-3/#principal-box) is\nan [internal ruby box](https://www.w3.org/TR/css-display-3/#internal-ruby-box) or a [non-atomic](https://www.w3.org/TR/css-display-3/#atomic-inline) [inline-level](https://www.w3.org/TR/css-display-3/#inline-level) box\n\n \n\n 3.2.1. Possible Layout-Containment Optimizations[](#containment-layout-opt)\n \nThis section is non-normative.\n\n \nPossible optimizations that can be enabled by [layout containment](#layout-containment) include (but are not limited to):\n\n \n\n \n \nWhen laying out the page,\nthe contents of separate [containment boxes](#layout-containment-box) can be laid out in parallel,\nas they’re guaranteed not to affect each other.\n\n \n \nWhen laying out the page,\nif the [containment box](#layout-containment-box) is off-screen or obscured\nand the layout of the visible parts of the screen do not depend on the size of the containment box (for example, if the containment box is near the end of a block container,\nand you’re viewing the beginning of the block container),\nthe layout of the containment box' contents can be delayed or done at a lower priority.\n\n \n(When paired with [size containment](#size-containment),\nthis optimization can be applied more liberally.)\n\n \n\n 3.3. Style Containment[](#containment-style)\n \nGiving an element **style containment** has the following effects:\n\n \n\n \n \nThe [counter-increment](https://www.w3.org/TR/CSS2/generate.html#propdef-counter-increment) and [counter-set](https://www.w3.org/TR/css-lists-3/#propdef-counter-set) properties\nmust be [scoped to the element’s sub-tree](#property-scoped-to-a-sub-tree) and create a new counter.\n\n \n \nThe effects of the [content](https://www.w3.org/TR/CSS2/generate.html#propdef-content) property’s [open-quote](https://www.w3.org/TR/css-content-3/#valdef-content-open-quote), [close-quote](https://www.w3.org/TR/css-content-3/#valdef-content-close-quote), [no-open-quote](https://www.w3.org/TR/css-content-3/#valdef-content-no-open-quote) and [no-close-quote](https://www.w3.org/TR/css-content-3/#valdef-content-no-close-quote) must be [scoped to the element’s sub-tree](#property-scoped-to-a-sub-tree).\n\n \nNote: This implies that the depth of quote nesting in the subtree\nis unchanged and starts at the value that its context normally implies,\nbut that changes to the depth of quote nesting by these values inside the subtree\ndo not affect the depth of quote nesting outside the subtree.\n\n \n\n \nNote: [[CSS-REGIONS-1]](#biblio-css-regions-1) has normative requirements on how [style containment](#style-containment) affects regions.\n\n \nA **scoped property[](#property-scoped)** has its effects scoped to a particular element or subtree.\n\n \n\n \n \nIf **scoped to an element[](#property-scoped-to-an-element)**,\nit must act as if the scoping element was the root of the document\nfor the purpose of evaluating the property’s effects:\nany uses of the property outside the scoping element must have no effect on the uses of the property on or in the scoping element,\nand vice versa.\n\n \nNote: “Scoping to an element” is currently unused.\nIt is defined as an extension point for future specifications to use.\n\n \n \nIf **scoped to a sub-tree**, it’s the same,\nexcept the scoping element itself is counted as \"outside\" the tree,\nlike the rest of the document,\nand the effects of the property on that element are unaffected by scoping.\nWhen considering the effects of the scoped property on elements inside the subtree,\nthe element at the base of the subtree is treated as if it was the root of the document.\n\n \n\n \n [](#example-6932a400) As [counter-increment](https://www.w3.org/TR/CSS2/generate.html#propdef-counter-increment) is scoped to an element’s subtree,\n the first use of it within the subtree acts as if the named counter were set to 0 at the scoping element,\n regardless of whether the counter had been used outside the scoping element.\n Any increments made within the subtree have no effect on counters of the same name outside the scoping element.\n However, the counter() and counters() value of the [content](https://www.w3.org/TR/CSS2/generate.html#propdef-content) property is not itself scoped,\n and can refer to counters established outside of the subtree.\n Therefore, the following code results in 1 1.2 being displayed: \n\n```\n<div></div>\n\n```\n\n```\ndiv {\n contain: style;\n counter-increment: n;\n}\ndiv::before, div::after {\n content: counters(n, '.') \" \";\n}\ndiv::after {\n counter-increment: n 2;\n}\n\n```\n\n \n 3.3.1. Possible Style-Containment Optimizations[](#containment-style-opt)\n \nThis section is non-normative.\n\n \nPossible optimizations that can be enabled by [style containment](#style-containment) include (but are not limited to):\n\n \n\n \n \nWhenever a property is changed on a descendant of an element with [style containment](#style-containment),\ncalculating what part of the DOM tree is \"dirtied\" and might need to have its style recalculated\ncan stop at the element with style containment.\n\n \n\n 3.4. Paint Containment[](#containment-paint)\n \nGiving an element **paint containment** makes its [principal box](https://www.w3.org/TR/css-display-3/#principal-box) a **paint containment box** and has the following effects:\n\n \n\n \n \nThe contents of the element\nincluding any [ink](https://www.w3.org/TR/css-overflow-3/#ink-overflow) or [scrollable overflow](https://www.w3.org/TR/css-overflow-3/#scrollable-overflow) must be clipped to the [overflow clip edge](https://www.w3.org/TR/css-overflow-3/#overflow-clip-edge) of the [paint containment box](#paint-containment-box),\ntaking [[css-backgrounds-3#corner clipping|corner clipping]] into account.\nThis does not include the creation of any mechanism\nto access or indicate the presence of the clipped content;\nnor does it inhibit the creation of any such mechanism through other properties, such as [overflow](https://www.w3.org/TR/css-overflow-3/#propdef-overflow), [resize](https://www.w3.org/TR/css-ui-3/#propdef-resize), or [text-overflow](https://www.w3.org/TR/css-ui-3/#propdef-text-overflow).\n\n \nNote: This clipping shape respects [overflow-clip-margin](https://www.w3.org/TR/css-overflow-3/#propdef-overflow-clip-margin),\nallowing an element with [paint containment](#paint-containment) to still slightly overflow its normal bounds.\n\n \nNote: The behavior is described in this paragraph is equivalent to changing [overflow-x: visible](https://www.w3.org/TR/css-overflow-3/#propdef-overflow-x) into overflow-x: clip and [overflow-y: visible](https://www.w3.org/TR/css-overflow-3/#propdef-overflow-y) into overflow-y: clip at used value time,\nwhile leaving other values of overflow-x and overflow-y unchanged.\n\n \n \nThe [paint containment box](#paint-containment-box) establishes an [absolute positioning containing block](https://www.w3.org/TR/css-position-3/#absolute-positioning-containing-block) and a [fixed positioning containing block](https://www.w3.org/TR/css-position-3/#fixed-positioning-containing-block).\n\n \n \nThe [paint containment box](#paint-containment-box) creates a [stacking context](https://www.w3.org/TR/CSS2/visuren.html#x43).\n\n \n \nThe [paint containment box](#paint-containment-box) [establishes an independent formatting context](https://www.w3.org/TR/css-display-3/#establish-an-independent-formatting-context).\n\n \n\n \nHowever, giving an element [paint containment](#paint-containment) has no effect if any of the following are true:\n\n \n\n \n \nif the element does not generate a [principal box](https://www.w3.org/TR/css-display-3/#principal-box) (as is the case with [display: contents](https://www.w3.org/TR/css-display-3/#propdef-display) or display: none)\n\n \n \nif its [principal box](https://www.w3.org/TR/css-display-3/#principal-box) is\nan [internal table box](https://www.w3.org/TR/css-display-3/#internal-table-box) other than [table-cell](https://www.w3.org/TR/css-display-3/#valdef-display-table-cell)\n\n \n \nif its [principal box](https://www.w3.org/TR/css-display-3/#principal-box) is\nan [internal ruby box](https://www.w3.org/TR/css-display-3/#internal-ruby-box) or a [non-atomic](https://www.w3.org/TR/css-display-3/#atomic-inline) [inline-level](https://www.w3.org/TR/css-display-3/#inline-level) box\n\n \n\n 3.4.1. Possible Paint-Containment Optimizations[](#containment-paint-opt)\n \nThis section is non-normative.\n\n \nPossible optimizations that can be enabled by [paint containment](#paint-containment) include (but are not limited to):\n\n \n\n \n \nIf the [containment box](#paint-containment-box) is off-screen or obscured,\nthe UA can usually skip trying to paint its contents,\nas they’re guaranteed to be off-screen/obscured as well.\n\n \nNote: Some paint effects such as the [blur()](https://www.w3.org/TR/filter-effects-1/#funcdef-filter-blur) filter from [[FILTER-EFFECTS-1]](#biblio-filter-effects-1) have non local effects.\nThe user agent needs to keep track of these,\nas it may need to repaint parts of an element with such a filter\nwhen its descendents change,\neven if they have [paint containment](#paint-containment) and could otherwise be skipped.\n\n \n \nUnless the clipped content is made accessible via a separate mechanism\nsuch as the [overflow](https://www.w3.org/TR/css-overflow-3/#propdef-overflow), [resize](https://www.w3.org/TR/css-ui-3/#propdef-resize), or [text-overflow](https://www.w3.org/TR/css-ui-3/#propdef-text-overflow) properties,\nthe UA can reserve \"canvas\" space for the box exactly the box’s size.\n(In similar, scrollable, situations, like overflow: hidden,\nit’s possible to scroll to the currently-clipped content,\nso UAs often predictively overpaint somewhat\nso there’s something to see as soon as the scroll happens,\nrather than a frame later.)\n\n \n \nBecause they are guaranteed to be stacking contexts,\nscrolling elements can be painted into a single GPU layer.",
      "rawLength": 42857
    },
    "content-visibility": {
      "id": "content-visibility",
      "heading": "4. Suppressing An Element’s Contents Entirely: the content-visibility property",
      "content": "Name:\n **content-visibility**\n \n [Value:](https://www.w3.org/TR/css-values/#value-defs)\n visible [|](https://www.w3.org/TR/css-values-4/#comb-one) auto | hidden \n \n [Initial:](https://www.w3.org/TR/css-cascade/#initial-values)\n visible \n \n [Applies to:](https://www.w3.org/TR/css-cascade/#applies-to)\n elements for which [layout containment](#layout-containment) can apply \n \n [Inherited:](https://www.w3.org/TR/css-cascade/#inherited-property)\n no \n \n [Percentages:](https://www.w3.org/TR/css-values/#percentages)\n n/a \n \n [Computed value:](https://www.w3.org/TR/css-cascade/#computed)\n as specified \n \n [Canonical order:](https://www.w3.org/TR/cssom/#serializing-css-values)\n per grammar \n \n [Animation type:](https://www.w3.org/TR/web-animations/#animation-type)\n not animatable \n \n \nThe [content-visibility](#propdef-content-visibility) property\n controls whether or not an element renders its contents at all,\n along with forcing a strong set of [containments](#containment),\n allowing user agents to potentially omit large swathes of layout and rendering work\n until it becomes needed.\n It has the following values:\n\n \n **visible[](#valdef-content-visibility-visible)**\n \n \nNo effect.\nThe element’s contents are laid out and rendered as normal.\n\n **hidden**\n \n \nThe element [skips its contents](#skips-its-contents).\n\n \nThe [skipped contents](#skips-its-contents) must not be accessible to user-agent features,\nsuch as find-in-page, tab-order navigation, etc.,\nnor be selectable or focusable.\n\n \nNote: This is similar to giving the contents [display: none](https://www.w3.org/TR/css-display-3/#propdef-display).\n\n **auto[](#valdef-content-visibility-auto)**\n \n \nTurns on [layout containment](#layout-containment), [style containment](#style-containment),\nand [paint containment](#paint-containment) for the element.\n\n \nIf the element is not [relevant to the user](#relevant-to-the-user),\nit also [skips its contents](#skips-its-contents).\n\n \nUnlike [hidden](#valdef-content-visibility-hidden),\nthe [skipped contents](#skips-its-contents) must still be available as normal\nto user-agent features such as find-in-page, tab order navigation, etc.,\nand must be focusable and selectable as normal.\n\n \n \n When an element **skips its contents**,\n the user agent must change the [used value](https://www.w3.org/TR/css-cascade-5/#used-value) of the [contain](#propdef-contain) property\n so as to turn on [layout containment](#layout-containment), [style containment](#style-containment), [paint containment](#paint-containment),\n and [size containment](#size-containment).\n Further, its **contents** (the [flat tree](https://drafts.csswg.org/css-scoping-1/#flat-tree) descendants of the element,\n including both text and elements,\n or the replaced content of a [replaced element](https://www.w3.org/TR/css-display-3/#replaced-element))\n are not painted\n (as if they had [visibility: hidden](https://www.w3.org/TR/css-display-3/#propdef-visibility))\n and do not respond to hit-testing\n (as if they had [pointer-events: none](https://drafts.csswg.org/css-ui-4/#propdef-pointer-events)),\n and to a large extent do not update their styles at all\n unless explicitly requested by script\n (see [§ 4.4 Restrictions and Clarifications](#cv-notes) for details). \n \nThe user agent should additionally avoid as much layout/rendering work as possible\n for [skipped contents](#skips-its-contents);\n the combination of heavy [containment](#containment) and making the contents invisible and untouchable\n enables heavy optimizations.\n If rendering work is done at some point,\n the user-agent should retain the previously computed layout state if possible,\n to allow the skipped contents to be displayed quickly at a later moment.\n\n \n If an element has a value other than [content-visibility: visible](#propdef-content-visibility),\n then the following properties hold: \n \n\n \n \n[layout containment](#layout-containment) ensures that\nthe user-agent is able to omit layout work in skipped subtrees,\nsince the results of such layouts will not affect elements outside of the container element.\n\n \n \n[style containment](#style-containment) ensures that\ncounters do not have to be processed in skipped subtrees,\nsince they do not affect counters outside of the container element.\n\n \n \n[paint containment](#paint-containment) ensures that\nink overflow of painted contents is clipped;\nthis, in turn, means that user-agent can reliably determine\nwhen the visible portion of the element approaches the viewport\n(and, for [content-visibility: auto](#propdef-content-visibility), start painting it).\n\n \n \n[size containment](#size-containment) ensures that\nthe user-agent is able to omit layout in skipped subtrees,\nsince the results of such layouts\nwill not affect the container element’s size.\n\n \n\n \nNote that in the [content-visibility: auto](#propdef-content-visibility) case, [layout containment](#layout-containment), [style containment](#style-containment), and [paint containment](#paint-containment) persist even if the element is not [skipped](#skips-its-contents).\n This is done to prevent layout changes that would be incurred by [containment](#containment) changes\n as a result of an element entering and exiting the skipped state.\n\n \n \n \n An element is **relevant to the user** if any of the following conditions are true: \n \n\n \n \nThe element is \"on-screen\":\nits [paint containment box](#paint-containment-box)'s [overflow clip edge](https://www.w3.org/TR/css-overflow-3/#overflow-clip-edge) intersects with the viewport,\nor a user-agent defined margin around the viewport.\n\n \nNote: This margin is meant to allow the user agent\nto begin preparing for an element to be in the viewport soon.\nA margin of 50% is suggested as a reasonable default.\n\n \n \nEither the element or its [contents](#element-contents) are focused,\nas described in the [focus](https://html.spec.whatwg.org/multipage/interaction.html#focus) section of the HTML spec.\n\n \n \nEither the element or its [contents](#element-contents) are selected,\nas described in [CSS Pseudo-Elements 4 § 3 Highlight Pseudo-elements](https://www.w3.org/TR/css-pseudo-4/#highlight-pseudos).\n\n \n \nEither the element or its [contents](#element-contents) are placed in the [top layer](https://fullscreen.spec.whatwg.org/#top-layer).\n\n \n\n \n 4.1. Using [content-visibility: hidden](#propdef-content-visibility)[](#using-cv-hidden)\n \nThis section is non-normative.\n\n \n[content-visibility: hidden](#propdef-content-visibility) lays powerful restrictions onto an element,\n and so should be used with caution.\n It also enables some very useful scenarios,\n often improving on existing techniques,\n a few of which are outlined here.\n\n \n\n \n \nIf a page needs to take some measurements of elements or text\nwhich aren’t themselves going to be rendered,\ncommonly this is done by positioning the stuff-to-be-measured off-screen,\nusing something like [position: absolute; left: -100000px;](https://www.w3.org/TR/css-position-3/#propdef-position),\nthen calling an API like [getBoundingClientRect()](https://www.w3.org/TR/cssom-view/#dom-element-getboundingclientrect).\n\n \nUnfortunately, even though the page never intends to display this content,\nthe user agent will still have to do full styling, layout, and rendering for the content, just in case it affects what’s shown on screen.\nThe author also can’t,\nwithout further work,\nguarantee that the content won’t accidentally show up on-screen;\neven a very negative [left](https://www.w3.org/TR/css-position-3/#propdef-left) value (like above) might not be enough,\ndepending on the content.\n\n \nWrapping this content in a [content-visibility: hidden](#propdef-content-visibility) container\nsolves all of these problems.\nIf the wrapper has no border, background, etc,\nthen it and its [skipped contents](#skips-its-contents) are guaranteed to never render anything to the screen,\nno matter how big they get.\nBecause the contents are skipped,\nthe user agent can also avoid styling or laying them out\nuntil absolutely necessary,\nwhen script finally asks for it.\n\n \n \nA \"single-page app\" often consists of several independent panes or \"views\",\nof which only one is displayed at a time.\n\n \nIf the author wants to avoid paying styling/layout/rendering/etc cost\nfor the inactive views,\nthey can remove them from the document entirely,\nor at minimum apply display:none to them.\nUnfortunately,\nthis means that when the view does need to be displayed,\nall of the styling/layout/rendering/etc work needs to be done all at once,\npotentially causing a noticeable delay before the view actually shows up.\n\n \nAlternately, the view can just be positioned off-screen.\nThis means it’ll be immediately ready when it’s time to be used,\nbut it incurs the cost of styling/layout/rendering all the time,\nwhich might be significant,\nespecially if there are a number of inactive views.\nThe inactive views also might still show up to accessibility tooling,\nconfusing users of screen-readers,\npeople using Ctrl-F to find-in-page, etc.\n\n \n[content-visibility: hidden](#propdef-content-visibility) improves on both of these options.\nBecause the contents are [skipped](#skips-its-contents),\nthe user agent isn’t spending time on them when they’re not active.\nThey’re also not visible to screen readers,\nfind-in-page,\nand other tools.\nAnd because user agents should preserve previous styling/layout work if possible,\nif the view was displayed before,\nre-rendering it might be very fast.\n\n \n \nIf an author wants to make an element \"invisible\",\nbut still show up in the page for layout purposes,\none option is [visibility: hidden](https://www.w3.org/TR/css-display-3/#propdef-visibility).\nHowever, descendants of a visibility: hidden element\ncan set visibility: visible and start showing up again,\nwhich isn’t always intuitive or expected.\n\n \n[content-visibility: hidden](#propdef-content-visibility) performs a very similar purpose,\nbut descendants can’t turn it \"off\" and start displaying;\nthey stay \"hidden\" until the ancestor turns it off.\n\n \nBecause [content-visibility: hidden](#propdef-content-visibility) also applies many [containment](#containment) values to the container,\nit’s not always quite as usable as [visibility: hidden](https://www.w3.org/TR/css-display-3/#propdef-visibility) would be,\nbut when its restrictions are acceptable,\nit can be a more reliable,\nmore consistent way to hide an element’s contents.\n\n \n\n 4.2. Using [content-visibility: auto](#propdef-content-visibility)[](#using-cv-auto)\n \nThis section is non-normative.\n\n \n[content-visibility: auto](#propdef-content-visibility) is a more complex value than [hidden](#valdef-content-visibility-hidden);\n rather than being similar to [display: none](https://www.w3.org/TR/css-display-3/#propdef-display),\n it adaptively hides/displays an element’s contents\n as they become [relevant to the user](#relevant-to-the-user).\n It also doesn’t hide its [skipped contents](#skips-its-contents) from the user agent,\n so screen readers,\n find-in-page,\n and other tools can still interact with it.\n\n \nIt is best to think of it as an upgrade to [containment](#containment):\n if an author has a large amount of content to display\n that will often be off-screen\n (such as a long scrollable list),\n and that content is okay with heavy [containment](#containment),\n they should consider using [content-visibility: auto](#propdef-content-visibility) to apply all of the containments at once.\n This also strongly hints to the user agent\n that it’s acceptable to skip work on the contents\n (possibly causing a small delay when they do come on-screen)\n because it’s more important to have a large amount of content in the document\n and most of it won’t be seen anyway.\n\n \nNote: [content-visibility: auto](#propdef-content-visibility) can thus be used instead of complicated \"virtual list\" techniques,\n at least in many cases.\n\n \nBecause [content-visibility: auto](#propdef-content-visibility) only causes the element to [skip](#skips-its-contents) its contents\n when none of it is [relevant to the user](#relevant-to-the-user),\n it’s best to use at a reasonably fine granularity.\n\n \n [](#example-40f1ea8c) For example, on Twitter,\n applying [content-visibility: auto](#propdef-content-visibility) to the entire timeline\n wouldn’t accomplish much—it’s always on-screen,\n and so it will never [skip its contents](#skips-its-contents). \n \nInstead, [content-visibility](#propdef-content-visibility) should be applied to individual tweets,\n allowing each of them to be [skipped](#skips-its-contents) as they go off-screen.\n\n \n \nBecause [content-visibility: auto](#propdef-content-visibility) imposes [size containment](#size-containment) when the element [skips its contents](#skips-its-contents),\n if the element depends on its contents to determine its size\n the layout of the page\n (or at least, the scrollbar position)\n can \"jump around\" as elements go off-screen and start skipping.\n\n \n [](#example-6da2c0d3) This can be fixed in a number of ways: \n \n\n \n \nmaking the element fixed-size\n\n \n \ncarefully arranging a layout such as Grid\nto size the element without depending on its contents\n\n \n \nusing [contain-intrinsic-size](https://www.w3.org/TR/css-sizing-4/#propdef-contain-intrinsic-size) to set an estimate of the element’s size\n\n \n \nusing [contain-intrinsic-size: auto](https://www.w3.org/TR/css-sizing-4/#propdef-contain-intrinsic-size) to automatically \"snapshot\" the exact size of the element\nfrom the last time it was rendered,\nbefore it was [skipped](#skips-its-contents) (along with providing an estimate of the size\nto be used before it’s rendered and can have its size snapshotted)\n\n \n\n \nFor example,\n on Twitter,\n the average tweet is approximately 200px tall,\n so [contain-intrinsic-size: auto 500px 200px](https://www.w3.org/TR/css-sizing-4/#propdef-contain-intrinsic-size) will ensure that the scrollbar thumb is in approximately the correct size and position\n even when preceding or following tweets are [skipped](#skips-its-contents),\n while still allowing the tweets to size according to their contents\n when they’re on-screen.\n As long as the tweets have all been viewed at least once\n (and haven’t changed size while they were skipped),\n their sizes will be exactly correct while they’re skipped,\n so the scrollbar thumb will be as well;\n only freshly-loaded tweets\n (such as those loaded at the top of the timeline\n while you are scrolling further down)\n will be forced to rely on the 200px height estimate.\n\n \n 4.3. Detecting [content-visibility: auto](#propdef-content-visibility) state changes: the [contentvisibilityautostatechanged](#eventdef-element-contentvisibilityautostatechanged) event[](#content-visibility-auto-state-changed)\n \nThe **`contentvisibilityautostatechanged`** event is fired on an element with [content-visibility: auto](#propdef-content-visibility) style when\nthe rendering state changes and the element either becomes or stops being [relevant to the user](#relevant-to-the-user).\n\n \nThis event is dispatched by posting a task at the time when the state change occurs.\n\n```\n[[Exposed](https://webidl.spec.whatwg.org/#Exposed)=Window]\ninterface ContentVisibilityAutoStateChangedEvent[](#contentvisibilityautostatechangedevent) : [Event](https://dom.spec.whatwg.org/#event) {\n constructor[](#dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent)([DOMString](https://webidl.spec.whatwg.org/#idl-DOMString) type[](#dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent-type-eventinitdict-type), optional [ContentVisibilityAutoStateChangedEventInit](#dictdef-contentvisibilityautostatechangedeventinit) eventInitDict[](#dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent-type-eventinitdict-eventinitdict) = {});\n readonly attribute [boolean](https://webidl.spec.whatwg.org/#idl-boolean) [skipped](#dom-contentvisibilityautostatechangedevent-skipped);\n};\ndictionary ContentVisibilityAutoStateChangedEventInit : [EventInit](https://dom.spec.whatwg.org/#dictdef-eventinit) {\n [boolean](https://webidl.spec.whatwg.org/#idl-boolean) [skipped](#dom-contentvisibilityautostatechangedeventinit-skipped) = false;\n};\n\n```\n\n \n \nDescription of ContentVisibilityAutoStateChangedEvent attributes:\n\n \n **`skipped`**, of type [boolean](https://webidl.spec.whatwg.org/#idl-boolean), readonly\n \n \nSet to true if target changed state to [skip its contents](#skips-its-contents), and false otherwise.\n\n \n \n \n \nDescription of ContentVisibilityAutoStateChangedEventInit members:\n\n \n **`skipped`**, of type [boolean](https://webidl.spec.whatwg.org/#idl-boolean), defaulting to `false`\n \n \nSee the description of the [skipped](#dom-contentvisibilityautostatechangedevent-skipped) attribute.\n\n \n \n \nNote that elements in [content-visibility: auto](#propdef-content-visibility) subtrees remain semantically\nrelevant even for elements that [skip its contents](#skips-its-contents). This means that it is\ninappropriate to use this signal to indefinitely skip DOM updates in the\nsubtree that is skipped. Instead, it should be used to deprioritize updates,\nbut ensure that the content remains semantically relevant and reasonably\nup-to-date. This is particularly important for assistive technologies which\nconsume this content even when the ancestor is set to skip its contents.\n\n 4.4. Restrictions and Clarifications[](#cv-notes)\n \n\n \n \nFrom the perspective of an [IntersectionObserver](https://www.w3.org/TR/intersection-observer/#intersectionobserver),\nthe [skipped contents](#skips-its-contents) of an element\nare never intersecting the [intersection root](https://www.w3.org/TR/intersection-observer/#intersectionobserver-intersection-root).\nThis is true even if both the root and the target elements\nare in the skipped contents.\n\n \n \nFrom the perspective of a [ResizeObserver](https://www.w3.org/TR/resize-observer-1/#resizeobserver),\nthe [skipped contents](#skips-its-contents) of an element\nnever change their size.\nIf these elements become non-skipped later,\nthe resize observation will be delivered\nif the new size differs from the last size used to notify the resize observer.\n\n \n \nIf an element starts or stops [skipping its contents](#skips-its-contents),\nthis change happens\nafter the requestAnimationFrame callbacks\nof the frame that renders the effects of the change\nhave run.\nSpecifically, such changes will take effect between steps 13 and 14\nof [Update the Rendering](https://html.spec.whatwg.org/multipage/webappapis.html#update-the-rendering) step of the Processing Model\n(between “run the animation frame callbacks”\n and “run the update intersection observations steps”).\n\n Determining the viewport intersection of the element\n can be done with an internal version of an IntersectionObserver.\n However, since the observations from this are dispatched at\n step 14 of Update the Rendering,\n any changes to the [skipped](#skips-its-contents) (and thus painted) state\n will not be visible to the user until the next frame’s processing.\n For this reason, updating the skipped state,\n including containment adjustments,\n is deferred to that frame as well.\n This ensures that script accessing,\n for example,\n the containment value of the element between these two events\n (internal intersection observation and skipped state update)\n will retrieve values consistent with current painted state\n and not cause any forced layouts. \n \n \nThe initial determination of visibility for [content-visibility: auto](#propdef-content-visibility) must\nhappen in the same frame that determined an existence of a new content-visibility: auto element.\n\n When an element first gains [content-visibility: auto](#propdef-content-visibility), it may or may not\n be positioned on screen. The determination of this state and thus\n determination of whether this element is [skipped](#skips-its-contents) must happen in the\n same frame. If it does not, then there is a possibility of producing blank\n content in the element’s place since visibility check and skipped state\n update would be deferred to the next frame. \n \n \nFor the purposes of scrolling operations,\nsuch as [scrollIntoView()](https://drafts.csswg.org/cssom-view-1/#dom-element-scrollintoview),\nan element with [content-visibility: auto](#propdef-content-visibility) that is [skipping its contents](#skips-its-contents) has its size and location determined with [size containment](#size-containment) still active.\n\n \nNote: Once it’s scrolled into view,\nthe element will no longer [skip its contents](#skips-its-contents),\nand so might not have [size containment](#size-containment);\nif this changes the element’s size,\nit might not align in the viewport exactly as requested.\n\n \nIf an element is not available to user-agent features\n(for example, if it is [skipped](#skips-its-contents) due to a [content-visibility: hidden](#propdef-content-visibility) ancestor),\nthen scrolling operations\nmust not scroll to it at all,\nas if it did not have a layout box.\n\n \n \nIf an element with [content-visibility: auto](#propdef-content-visibility) that is [skipping its contents](#skips-its-contents) is focused\n(or its contents are),\nit becomes [relevant to the user](#relevant-to-the-user) (and thus stops skipping its contents) before it is scrolled into view due to the focusing.\n\n \nNote: Thus, unlike the previous point,\nthe element will be correctly sized and aligned in the viewport.\nThis is consistent with the order of the steps for the [focus()](https://html.spec.whatwg.org/multipage/interaction.html#dom-window-focus) method.\n\n \n \nIf an `[iframe](https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element)` [skips its contents](#skips-its-contents) or is part of an element’s skipped contents,\nthe user agent should entirely skip the [Update The Rendering](https://html.spec.whatwg.org/multipage/webappapis.html#update-the-rendering) step in the iframe’s event loop,\nif possible.\n\n \nNote: At the moment the `[iframe](https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element)` starts being [skipped](#skips-its-contents),\nit needs to run that step at least once\nto remove the painted output.\n\n \n \n[Skipped contents](#skips-its-contents) do not contribute to the result of [innerText](https://html.spec.whatwg.org/multipage/dom.html#dom-innertext).\n\n \n \nWhile an element is [skipped](#skips-its-contents),\nCSS transitions and animations on the element do not update:\n\n \n\n \n \nNew animations are not created even if newly-applied style would start one.\n\n \n \nExisting animations do not advance in their timeline.\n\n \n \nRunning animations on the element do not end.\n\n \n\n \nIf script queries the style of a [skipped](#skips-its-contents) element\n(causing a [style change event](https://www.w3.org/TR/css-transitions-1/#style-change-event))\nsuch that knowing the state of animations or transitions is required\nto return correct information,\nanimation and transitions are sampled\naccording to the styles at the time of that style change event:\n\n \n[CSS Animations 2 § 4 Animation Events](https://drafts.csswg.org/css-animations-2/#events) and [CSS Transitions 2 § 5 Transition Events](https://drafts.csswg.org/css-transitions-2/#transition-events) defines what objects are created\nand what events are fired,\nwith what data,\nwhen an animation or transition is updated,.\n\n \nWhen an element stops being [skipped](#skips-its-contents),\nanimations and transitions are sampled\nand then resume advancing on their timelines as normal from that point.\n\n \nNote: Overall, this is similar to the behavior of transitions/animations\nwhen a background tab is brought back to the foreground,\nallowing user agents to skip as much unnecessary animation work as possible\nwithout overly disrupting the animations when they become relevant again.\n\n \n \nWhile an element is [skipped](#skips-its-contents),\nit must not start any transitions,\neven if a [style change event](https://www.w3.org/TR/css-transitions-1/#style-change-event) affects its computed styles.\n\n \nWhen an element stops being [skipped](#skips-its-contents),\nit must not start any transitions\nas a result of the [style change event](https://www.w3.org/TR/css-transitions-1/#style-change-event) associated with it no longer being skipped.\n\n \nNote: This is similar to an element switching from display:none to a non-[none](https://www.w3.org/TR/css-display-3/#valdef-display-none) value—even though the styles are technically changing in that case\n(from their initial values\nto their \"proper\" values from the cascade),\nno transitions are started.\n\n \n \nIf an element has an ancestor with [content-visibility: hidden](#propdef-content-visibility),\nand it is placed in the [top layer](https://fullscreen.spec.whatwg.org/#top-layer),\nit does not generate any boxes,\nas if it were [display: none](https://www.w3.org/TR/css-display-3/#propdef-display).\n\n \nNote: An element [skipped](#skips-its-contents) for other reasons,\nsuch as having a [content-visibility: auto](#propdef-content-visibility) ancestor,\nwill still generate boxes as normal,\nand might thus become un-skipped.\n\n \n\n 4.5. Accessibility Implications[](#cv-a11y)\n \nIf a user agent exposes some form of \"accessibility tree\",\nakin to the DOM tree but specialized for accessibility use-cases such as screen-readers\n(thus providing the positions/etc of elements relevant to accessibility APIs,\nsuch as focusable elements),\nthen the [skipped contents](#skips-its-contents) of [content-visibility: hidden](#propdef-content-visibility) elements\nmust similarly be \"skipped\" (omitted) in the accessibility tree\n(similar to how [display: none](https://www.w3.org/TR/css-display-3/#propdef-display) elements\nare omitted in all views of the document).\n\n \n[Skipped contents](#skips-its-contents) of [content-visibility: auto](#propdef-content-visibility) elements\nmust not expose the fact that a user is interacting with the page via the accessibility tree,\nrather than via rendering visually to the screen.\nIn particular, if a user agent uses content-visibility: auto to avoid doing layout and painting work on off-screen content\nfor displaying to the screen,\nit must similarly avoid doing that work on off-screen content\nfor representing in the accessibility tree.\nIf this is not possible\n(for example, if the user agent’s representation of a focusable element in the accessibility tree\nrequires knowledge of its exact position,\nand thus requires a full layout to be done on it and surrounding contents),\nthen the user agent must omit the skipped contents from the accessibility tree entirely.\n\n \nNote: This requirement is intended to protect users utilizing accessibility tooling\nfrom being identified and profiled as such\nvia observation of timing channels;\nif a user agent can skip significant amounts of work\nwhen rendering visually,\nbut has to do all of the work when rendering to an accessibility tree,\nthen an author can tell how a user is interacting with the page\nby observing the timing of layout operations.\n\n 4.6. Examples[](#cv-examples)\n \n [](#example-1f50d3e3) \n\n```\n<style>\n.sv {\n content-visibility: auto;\n min-height: 50px;\n}\n</style>\n\n<div class=sv>\n ... some content goes here ...\n</div>\n\n```\n\n \nThe .sv element’s [content-visibility: auto](#propdef-content-visibility) value\n lets the user-agent manage whether the element is [skipped](#skips-its-contents).\n Specifically when this element is near the viewport,\n the user-agent will begin painting the element.\n When the element moves away from the viewport,\n it will stop being painted.\n In addition, the user-agent should skip as much of the rendering work as possible\n when the element is skipped.\n\n \n \n [](#example-52a4682e) \n\n```\n<style>\n.sv {\n content-visibility: hidden;\n}\n</style>\n\n<div class=sv>\n ... some content goes here ...\n</div>\n\n```\n\n \nIn this case, the element is [skipped](#skips-its-contents) regardless of viewport intersection.\n This means that the only way to have the [contents](#element-contents) painted\n is via script updating the value to remove [content-visibility](#propdef-content-visibility) or change its value.\n As before, the user-agent should skip as much of the rendering in the contents as possible.\n\n \nAn additional effect of skipping rendering\n is that the layout state of the [contents](#element-contents) can be preserved by the user-agent,\n so that removing the [content-visibility](#propdef-content-visibility) property in the future\n will cause the contents to be rendered quicker\n than if they were hidden with [display: none](https://www.w3.org/TR/css-display-3/#propdef-display) or similar.\n\n \n \n [](#example-a89bb171) \n\n```\n<style>\nbody {\n margin: 0;\n}\n.sv {\n content-visibility: hidden;\n position: relative;\n left: 10px;\n top: 20px;\n}\n#child {\n position: relative;\n left: 1px;\n top: 2px;\n width: 100px;\n height: 200px;\n}\n</style>\n\n<div id=target class=sv>\n <div id=child></div>\n ... some other content goes here ...\n</div>\n<script>\n ...\n // This will force rendering work, including layout,\n // if the UA previously avoided it.\n target.firstElementChild.getBoundingClientRect();\n ...\n</script>\n\n```\n\n \nSimilarly to the last example, the element is [skipped](#skips-its-contents).\n The user-agent should avoid as much rendering work as possible.\n However, in this example, at some point script accesses a layout value in the element’s [contents](#element-contents).\n In this situation, the user-agent cannot avoid rendering work\n and has to process any previously skipped rendering work\n in order to return a correct value to the caller.\n In this example, the result of [getBoundingClientRect()](https://www.w3.org/TR/cssom-view/#dom-element-getboundingclientrect) is a rect positioned at (11, 22) with a size 100x200.\n\n \nNote that repeated calls to the same layout value\n should not cause any additional rendering work,\n since the user-agent should retain the last updated rendering state.\n\n \nAlso note that this situation in which rendering work is required is not unique.\n There may be other situations in which the user-agent cannot avoid rendering work.",
      "rawLength": 53320
    },
    "privacy": {
      "id": "privacy",
      "heading": "5.  Privacy Considerations",
      "content": "There are no known privacy impacts of the features in this specification.",
      "rawLength": 88
    },
    "security": {
      "id": "security",
      "heading": "6.  Security Considerations",
      "content": "There are no known security impacts of the features in this specification.\n\n \nLike any other CSS specification, it affects the rendering of the document,\n but does not introduce any special ability to present content in a misleading way\n that was not previously available through other CSS modules\n and that isn’t inherent to the act of formatting the document.",
      "rawLength": 383
    },
    "idl-index": {
      "id": "idl-index",
      "heading": "IDL Index",
      "content": "```\n[[Exposed](https://webidl.spec.whatwg.org/#Exposed)=Window]\ninterface [ContentVisibilityAutoStateChangedEvent](#contentvisibilityautostatechangedevent) : [Event](https://dom.spec.whatwg.org/#event) {\n [constructor](#dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent)([DOMString](https://webidl.spec.whatwg.org/#idl-DOMString) [type](#dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent-type-eventinitdict-type), optional [ContentVisibilityAutoStateChangedEventInit](#dictdef-contentvisibilityautostatechangedeventinit) [eventInitDict](#dom-contentvisibilityautostatechangedevent-contentvisibilityautostatechangedevent-type-eventinitdict-eventinitdict) = {});\n readonly attribute [boolean](https://webidl.spec.whatwg.org/#idl-boolean) [skipped](#dom-contentvisibilityautostatechangedevent-skipped);\n};\ndictionary [ContentVisibilityAutoStateChangedEventInit](#dictdef-contentvisibilityautostatechangedeventinit) : [EventInit](https://dom.spec.whatwg.org/#dictdef-eventinit) {\n [boolean](https://webidl.spec.whatwg.org/#idl-boolean) [skipped](#dom-contentvisibilityautostatechangedeventinit-skipped) = false;\n};\n\n```\n\n \n [#propdef-contain](#propdef-contain)Referenced in:\n \n\n [1. \nIntroduction](#ref-for-propdef-contain①)\n [2. \nStrong Containment: the contain property](#ref-for-propdef-contain②) [(2)](#ref-for-propdef-contain③) [(3)](#ref-for-propdef-contain④) [(4)](#ref-for-propdef-contain⑤) [(5)](#ref-for-propdef-contain⑥) [(6)](#ref-for-propdef-contain⑦) [(7)](#ref-for-propdef-contain⑧) [(8)](#ref-for-propdef-contain⑨) [(9)](#ref-for-propdef-contain①⓪) [(10)](#ref-for-propdef-contain①①) [(11)](#ref-for-propdef-contain①②) [(12)](#ref-for-propdef-contain①③)\n [4. Suppressing An Element’s Contents Entirely: the content-visibility property](#ref-for-propdef-contain①④)\n [ Changes from 2020-06-03 Working Draft ](#ref-for-propdef-contain①⑤)\n \n\n \n \n [#valdef-contain-none](#valdef-contain-none)Referenced in:\n \n\n [2. \nStrong Containment: the contain property](#ref-for-valdef-contain-none)\n \n\n \n \n [#valdef-contain-strict](#valdef-contain-strict)Referenced in:\n \n\n [ Changes from 2020-12-16 Working Draft ](#ref-for-valdef-contain-strict) [(2)](#ref-for-valdef-contain-strict①)\n \n\n \n \n [#valdef-contain-content](#valdef-contain-content)Referenced in:\n \n\n [ Changes from 2020-12-16 Working Draft ](#ref-for-valdef-contain-content) [(2)](#ref-for-valdef-contain-content①)\n \n\n \n \n [#valdef-contain-size](#valdef-contain-size)Referenced in:\n \n\n [2. \nStrong Containment: the contain property](#ref-for-valdef-contain-size)\n \n\n \n \n [#valdef-contain-layout](#valdef-contain-layout)Referenced in:\n \n\n [2. \nStrong Containment: the contain property](#ref-for-valdef-contain-layout)\n \n\n \n \n [#valdef-contain-paint](#valdef-contain-paint)Referenced in:\n \n\n [2. \nStrong Containment: the contain property](#ref-for-valdef-contain-paint)\n \n\n \n \n [#containment](#containment)Referenced in:\n \n\n [2. \nStrong Containment: the contain property](#ref-for-containment) [(2)](#ref-for-containment①) [(3)](#ref-for-containment②) [(4)](#ref-for-containment③)\n [3. \nTypes of Containment](#ref-for-containment④)\n [4. Suppressing An Element’s Contents Entirely: the content-visibility property](#ref-for-containment⑤) [(2)](#ref-for-containment⑥) [(3)](#ref-for-containment⑦)\n [4.1. \nUsing content-visibility: hidden](#ref-for-containment⑧)\n [4.2. \nUsing content-visibility: auto](#ref-for-containment⑨) [(2)](#ref-for-containment①⓪) [(3)](#ref-for-containment①①)\n \n\n \n \n [#size-containment](#size-containment)Referenced in:\n \n\n [2. \nStrong Containment: the contain property](#ref-for-size-containment) [(2)](#ref-for-size-containment①) [(3)](#ref-for-size-containment②)\n [3.1. \nSize Containment](#ref-for-size-containment③) [(2)](#ref-for-size-containment④)\n [3.1.1. \nPossible Size-Containment Optimizations](#ref-for-size-containment⑤)\n [3.2.1. \nPossible Layout-Containment Optimizations](#ref-for-size-containment⑥)\n [4. Suppressing An Element’s Contents Entirely: the content-visibility property](#ref-for-size-containment⑦) [(2)](#ref-for-size-containment⑧)\n [4.2. \nUsing content-visibility: auto](#ref-for-size-containment⑨)\n [4.4. Restrictions and Clarifications](#ref-for-size-containment①⓪) [(2)](#ref-for-size-containment①①)\n \n\n \n \n [#size-containment-box](#size-containment-box)Referenced in:\n \n\n [2. \nStrong Containment: the contain property](#ref-for-size-containment-box)\n [3.1. \nSize Containment](#ref-for-size-containment-box①) [(2)](#ref-for-size-containment-box②) [(3)](#ref-for-size-containment-box③) [(4)](#ref-for-size-containment-box④) [(5)](#ref-for-size-containment-box⑤) [(6)](#ref-for-size-containment-box⑥) [(7)](#ref-for-size-containment-box⑦)\n [3.1.1. \nPossible Size-Containment Optimizations](#ref-for-size-containment-box⑧) [(2)](#ref-for-size-containment-box⑨) [(3)](#ref-for-size-containment-box①⓪) [(4)](#ref-for-size-containment-box①①) [(5)](#ref-for-size-containment-box①②) [(6)](#ref-for-size-containment-box①③) [(7)](#ref-for-size-containment-box①④) [(8)](#ref-for-size-containment-box①⑤)\n \n\n \n \n [#sizing-as-if-empty](#sizing-as-if-empty)Referenced in:\n \n\n [3.1. \nSize Containment](#ref-for-sizing-as-if-empty)\n \n\n \n \n [#laying-out-in-place](#laying-out-in-place)Referenced in:\n \n\n [3.1.1. \nPossible Size-Containment Optimizations](#ref-for-laying-out-in-place)\n \n\n \n \n [#layout-containment](#layout-containment)Referenced in:\n \n\n [2. \nStrong Containment: the contain property](#ref-for-layout-containment) [(2)](#ref-for-layout-containment①)\n [3.1. \nSize Containment](#ref-for-layout-containment②)\n [3.1.1. \nPossible Size-Containment Optimizations](#ref-for-layout-containment③)\n [3.2. \nLayout Containment](#ref-for-layout-containment④) [(2)](#ref-for-layout-containment⑤) [(3)](#ref-for-layout-containment⑥) [(4)](#ref-for-layout-containment⑦) [(5)](#ref-for-layout-containment⑧)\n [3.2.1. \nPossible Layout-Containment Optimizations](#ref-for-layout-containment⑨)\n [4. Suppressing An Element’s Contents Entirely: the content-visibility property](#ref-for-layout-containment①⓪) [(2)](#ref-for-layout-containment①①) [(3)](#ref-for-layout-containment①②) [(4)](#ref-for-layout-containment①③) [(5)](#ref-for-layout-containment①④)\n \n\n \n \n [#layout-containment-box](#layout-containment-box)Referenced in:\n \n\n [2. \nStrong Containment: the contain property](#ref-for-layout-containment-box)\n [3.2. \nLayout Containment](#ref-for-layout-containment-box①) [(2)](#ref-for-layout-containment-box②) [(3)](#ref-for-layout-containment-box③) [(4)](#ref-for-layout-containment-box④) [(5)](#ref-for-layout-containment-box⑤) [(6)](#ref-for-layout-containment-box⑥) [(7)](#ref-for-layout-containment-box⑦) [(8)](#ref-for-layout-containment-box⑧) [(9)](#ref-for-layout-containment-box⑨)\n [3.2.1. \nPossible Layout-Containment Optimizations](#ref-for-layout-containment-box①⓪) [(2)](#ref-for-layout-containment-box①①) [(3)](#ref-for-layout-containment-box①②) [(4)](#ref-for-layout-containment-box①③) [(5)](#ref-for-layout-containment-box①④)\n \n\n \n \n [#style-containment](#style-containment)Referenced in:\n \n\n [2. \nStrong Containment: the contain property](#ref-for-style-containment)\n [3.3. \nStyle Containment](#ref-for-style-containment①)\n [3.3.1. \nPossible Style-Containment Optimizations](#ref-for-style-containment②) [(2)](#ref-for-style-containment③) [(3)](#ref-for-style-containment④)\n [4. Suppressing An Element’s Contents Entirely: the content-visibility property](#ref-for-style-containment⑤) [(2)](#ref-for-style-containment⑥) [(3)](#ref-for-style-containment⑦) [(4)](#ref-for-style-containment⑧)\n [ Changes from 2020-12-16 Working Draft ](#ref-for-style-containment⑨)\n [ Changes from CSS Containment Level 1 ](#ref-for-style-containment①⓪)\n \n\n \n \n [#property-scoped-to-a-sub-tree](#property-scoped-to-a-sub-tree)Referenced in:\n \n\n [3.3. \nStyle Containment](#ref-for-property-scoped-to-a-sub-tree) [(2)](#ref-for-property-scoped-to-a-sub-tree①)\n \n\n \n \n [#paint-containment](#paint-containment)Referenced in:\n \n\n [2. \nStrong Containment: the contain property](#ref-for-paint-containment)\n [3.4. \nPaint Containment](#ref-for-paint-containment①) [(2)](#ref-for-paint-containment②)\n [3.4.1. \nPossible Paint-Containment Optimizations](#ref-for-paint-containment③) [(2)](#ref-for-paint-containment④)\n [4. Suppressing An Element’s Contents Entirely: the content-visibility property](#ref-for-paint-containment⑤) [(2)](#ref-for-paint-containment⑥) [(3)](#ref-for-paint-containment⑦) [(4)](#ref-for-paint-containment⑧)\n [ Changes from 2019-11-11 Working Draft ](#ref-for-paint-containment⑨)\n \n\n \n \n [#paint-containment-box](#paint-containment-box)Referenced in:\n \n\n [2. \nStrong Containment: the contain property](#ref-for-paint-containment-box)\n [3.4. \nPaint Containment](#ref-for-paint-containment-box①) [(2)](#ref-for-paint-containment-box②) [(3)](#ref-for-paint-containment-box③) [(4)](#ref-for-paint-containment-box④)\n [3.4.1. \nPossible Paint-Containment Optimizations](#ref-for-paint-containment-box⑤)\n [4. Suppressing An Element’s Contents Entirely: the content-visibility property](#ref-for-paint-containment-box⑥)\n \n\n \n \n [#propdef-content-visibility](#propdef-content-visibility)Referenced in:\n \n\n [1. \nIntroduction](#ref-for-propdef-content-visibility)\n [2. \nStrong Containment: the contain property](#ref-for-propdef-content-visibility①)\n [4. Suppressing An Element’s Contents Entirely: the content-visibility property](#ref-for-propdef-content-visibility②) [(2)](#ref-for-propdef-content-visibility③) [(3)](#ref-for-propdef-content-visibility④) [(4)](#ref-for-propdef-content-visibility⑤) [(5)](#ref-for-propdef-content-visibility⑥)\n [4.1. \nUsing content-visibility: hidden](#ref-for-propdef-content-visibility⑦) [(2)](#ref-for-propdef-content-visibility⑧) [(3)](#ref-for-propdef-content-visibility⑨) [(4)](#ref-for-propdef-content-visibility①⓪) [(5)](#ref-for-propdef-content-visibility①①) [(6)](#ref-for-propdef-content-visibility①②)\n [4.2. \nUsing content-visibility: auto](#ref-for-propdef-content-visibility①③) [(2)](#ref-for-propdef-content-visibility①④) [(3)](#ref-for-propdef-content-visibility①⑤) [(4)](#ref-for-propdef-content-visibility①⑥) [(5)](#ref-for-propdef-content-visibility①⑦) [(6)](#ref-for-propdef-content-visibility①⑧) [(7)](#ref-for-propdef-content-visibility①⑨) [(8)](#ref-for-propdef-content-visibility②⓪)\n [4.3. Detecting content-visibility: auto state changes: the contentvisibilityautostatechanged event](#ref-for-propdef-content-visibility②①) [(2)](#ref-for-propdef-content-visibility②②) [(3)](#ref-for-propdef-content-visibility②③)\n [4.4. Restrictions and Clarifications](#ref-for-propdef-content-visibility②④) [(2)](#ref-for-propdef-content-visibility②⑤) [(3)](#ref-for-propdef-content-visibility②⑥) [(4)](#ref-for-propdef-content-visibility②⑦) [(5)](#ref-for-propdef-content-visibility②⑧) [(6)](#ref-for-propdef-content-visibility②⑨) [(7)](#ref-for-propdef-content-visibility③⓪) [(8)](#ref-for-propdef-content-visibility③①)\n [4.5. Accessibility Implications](#ref-for-propdef-content-visibility③②) [(2)](#ref-for-propdef-content-visibility③③) [(3)](#ref-for-propdef-content-visibility③④)\n [4.6. Examples](#ref-for-propdef-content-visibility③⑤) [(2)](#ref-for-propdef-content-visibility③⑥) [(3)](#ref-for-propdef-content-visibility③⑦)\n [ Changes from 2020-12-16 Working Draft ](#ref-for-propdef-content-visibility③⑧)\n [ Changes from 2020-06-03 Working Draft ](#ref-for-propdef-content-visibility③⑨)\n [ Changes from 2019-11-11 Working Draft ](#ref-for-propdef-content-visibility④⓪)\n \n\n \n \n [#valdef-content-visibility-hidden](#valdef-content-visibility-hidden)Referenced in:\n \n\n [4. Suppressing An Element’s Contents Entirely: the content-visibility property](#ref-for-valdef-content-visibility-hidden)\n [4.2. \nUsing content-visibility: auto](#ref-for-valdef-content-visibility-hidden①)\n \n\n \n \n [#skips-its-contents](#skips-its-contents)Referenced in:\n \n\n [4. Suppressing An Element’s Contents Entirely: the content-visibility property](#ref-for-skips-its-contents) [(2)](#ref-for-skips-its-contents①) [(3)](#ref-for-skips-its-contents②) [(4)](#ref-for-skips-its-contents③) [(5)](#ref-for-skips-its-contents④) [(6)](#ref-for-skips-its-contents⑤) [(7)](#ref-for-skips-its-contents⑥) [(8)](#ref-for-skips-its-contents⑦)\n [4.1. \nUsing content-visibility: hidden](#ref-for-skips-its-contents⑧) [(2)](#ref-for-skips-its-contents⑨) [(3)](#ref-for-skips-its-contents①⓪)\n [4.2. \nUsing content-visibility: auto](#ref-for-skips-its-contents①①) [(2)](#ref-for-skips-its-contents①②) [(3)](#ref-for-skips-its-contents①③) [(4)](#ref-for-skips-its-contents①④) [(5)](#ref-for-skips-its-contents①⑤) [(6)](#ref-for-skips-its-contents①⑥) [(7)](#ref-for-skips-its-contents①⑦) [(8)](#ref-for-skips-its-contents①⑧) [(9)](#ref-for-skips-its-contents①⑨) [(10)](#ref-for-skips-its-contents②⓪)\n [4.3. Detecting content-visibility: auto state changes: the contentvisibilityautostatechanged event](#ref-for-skips-its-contents②①) [(2)](#ref-for-skips-its-contents②②) [(3)](#ref-for-skips-its-contents②③)\n [4.4. Restrictions and Clarifications](#ref-for-skips-its-contents②④) [(2)](#ref-for-skips-its-contents②⑤) [(3)](#ref-for-skips-its-contents②⑥) [(4)](#ref-for-skips-its-contents②⑦) [(5)](#ref-for-skips-its-contents②⑧) [(6)](#ref-for-skips-its-contents②⑨) [(7)](#ref-for-skips-its-contents③⓪) [(8)](#ref-for-skips-its-contents③①) [(9)](#ref-for-skips-its-contents③②) [(10)](#ref-for-skips-its-contents③③) [(11)](#ref-for-skips-its-contents③④) [(12)](#ref-for-skips-its-contents③⑤) [(13)](#ref-for-skips-its-contents③⑥) [(14)](#ref-for-skips-its-contents③⑦) [(15)](#ref-for-skips-its-contents③⑧) [(16)](#ref-for-skips-its-contents③⑨) [(17)](#ref-for-skips-its-contents④⓪) [(18)](#ref-for-skips-its-contents④①) [(19)](#ref-for-skips-its-contents④②) [(20)](#ref-for-skips-its-contents④③) [(21)](#ref-for-skips-its-contents④④) [(22)](#ref-for-skips-its-contents④⑤) [(23)](#ref-for-skips-its-contents④⑥) [(24)](#ref-for-skips-its-contents④⑦) [(25)](#ref-for-skips-its-contents④⑧) [(26)](#ref-for-skips-its-contents④⑨)\n [4.5. Accessibility Implications](#ref-for-skips-its-contents⑤⓪) [(2)](#ref-for-skips-its-contents⑤①) [(3)](#ref-for-skips-its-contents⑤②)\n [4.6. Examples](#ref-for-skips-its-contents⑤③) [(2)](#ref-for-skips-its-contents⑤④) [(3)](#ref-for-skips-its-contents⑤⑤) [(4)](#ref-for-skips-its-contents⑤⑥)\n \n\n \n \n [#element-contents](#element-contents)Referenced in:\n \n\n [4. Suppressing An Element’s Contents Entirely: the content-visibility property](#ref-for-element-contents) [(2)](#ref-for-element-contents①) [(3)](#ref-for-element-contents②)\n [4.6. Examples](#ref-for-element-contents③) [(2)](#ref-for-element-contents④) [(3)](#ref-for-element-contents⑤) [(4)](#ref-for-element-contents⑥) [(5)](#ref-for-element-contents⑦)\n \n\n \n \n [#relevant-to-the-user](#relevant-to-the-user)Referenced in:\n \n\n [4. Suppressing An Element’s Contents Entirely: the content-visibility property](#ref-for-relevant-to-the-user)\n [4.2. \nUsing content-visibility: auto](#ref-for-relevant-to-the-user①) [(2)](#ref-for-relevant-to-the-user②)\n [4.3. Detecting content-visibility: auto state changes: the contentvisibilityautostatechanged event](#ref-for-relevant-to-the-user③)\n [4.4. Restrictions and Clarifications](#ref-for-relevant-to-the-user④)\n [ Changes from 2020-12-16 Working Draft ](#ref-for-relevant-to-the-user⑤)\n \n\n \n \n [#eventdef-element-contentvisibilityautostatechanged](#eventdef-element-contentvisibilityautostatechanged)Referenced in:\n \n\n [4.3. Detecting content-visibility: auto state changes: the contentvisibilityautostatechanged event](#ref-for-eventdef-element-contentvisibilityautostatechanged)\n \n\n \n \n [#dictdef-contentvisibilityautostatechangedeventinit](#dictdef-contentvisibilityautostatechangedeventinit)Referenced in:\n \n\n [4.3. Detecting content-visibility: auto state changes: the contentvisibilityautostatechanged event](#ref-for-dictdef-contentvisibilityautostatechangedeventinit)\n \n\n \n \n [#dom-contentvisibilityautostatechangedevent-skipped](#dom-contentvisibilityautostatechangedevent-skipped)Referenced in:\n \n\n [4.3. Detecting content-visibility: auto state changes: the contentvisibilityautostatechanged event](#ref-for-dom-contentvisibilityautostatechangedevent-skipped) [(2)](#ref-for-dom-contentvisibilityautostatechangedevent-skipped①)\n \n\n \n \n [#dom-contentvisibilityautostatechangedeventinit-skipped](#dom-contentvisibilityautostatechangedeventinit-skipped)Referenced in:\n \n\n [4.3. Detecting content-visibility: auto state changes: the contentvisibilityautostatechanged event](#ref-for-dom-contentvisibilityautostatechangedeventinit-skipped)",
      "rawLength": 25826
    }
  }
}